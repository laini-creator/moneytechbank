var lE=Object.defineProperty;var oE=(n,t,e)=>t in n?lE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var nt=(n,t,e)=>oE(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=e(l);fetch(l.href,r)}})();function rE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var df={exports:{}},Cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function cE(){if(hy)return Cl;hy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,l,r){var u=null;if(r!==void 0&&(u=""+r),l.key!==void 0&&(u=""+l.key),"key"in l){r={};for(var h in l)h!=="key"&&(r[h]=l[h])}else r=l;return l=r.ref,{$$typeof:n,type:s,key:u,ref:l!==void 0?l:null,props:r}}return Cl.Fragment=t,Cl.jsx=e,Cl.jsxs=e,Cl}var fy;function uE(){return fy||(fy=1,df.exports=cE()),df.exports}var dt=uE(),gf={exports:{}},gt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function hE(){if(dy)return gt;dy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function b(E){return E===null||typeof E!="object"?null:(E=_&&E[_]||E["@@iterator"],typeof E=="function"?E:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function A(E,I,W){this.props=E,this.context=I,this.refs=C,this.updater=W||S}A.prototype.isReactComponent={},A.prototype.setState=function(E,I){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,I,"setState")},A.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function z(){}z.prototype=A.prototype;function B(E,I,W){this.props=E,this.context=I,this.refs=C,this.updater=W||S}var P=B.prototype=new z;P.constructor=B,x(P,A.prototype),P.isPureReactComponent=!0;var q=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},Q=Object.prototype.hasOwnProperty;function K(E,I,W,F,Z,ct){return W=ct.ref,{$$typeof:n,type:E,key:I,ref:W!==void 0?W:null,props:ct}}function X(E,I){return K(E.type,I,void 0,void 0,void 0,E.props)}function tt(E){return typeof E=="object"&&E!==null&&E.$$typeof===n}function ut(E){var I={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(W){return I[W]})}var it=/\/+/g;function st(E,I){return typeof E=="object"&&E!==null&&E.key!=null?ut(""+E.key):I.toString(36)}function Lt(){}function Yt(E){switch(E.status){case"fulfilled":return E.value;case"rejected":throw E.reason;default:switch(typeof E.status=="string"?E.then(Lt,Lt):(E.status="pending",E.then(function(I){E.status==="pending"&&(E.status="fulfilled",E.value=I)},function(I){E.status==="pending"&&(E.status="rejected",E.reason=I)})),E.status){case"fulfilled":return E.value;case"rejected":throw E.reason}}throw E}function at(E,I,W,F,Z){var ct=typeof E;(ct==="undefined"||ct==="boolean")&&(E=null);var lt=!1;if(E===null)lt=!0;else switch(ct){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(E.$$typeof){case n:case t:lt=!0;break;case m:return lt=E._init,at(lt(E._payload),I,W,F,Z)}}if(lt)return Z=Z(E),lt=F===""?"."+st(E,0):F,q(Z)?(W="",lt!=null&&(W=lt.replace(it,"$&/")+"/"),at(Z,I,W,"",function($n){return $n})):Z!=null&&(tt(Z)&&(Z=X(Z,W+(Z.key==null||E&&E.key===Z.key?"":(""+Z.key).replace(it,"$&/")+"/")+lt)),I.push(Z)),1;lt=0;var Ue=F===""?".":F+":";if(q(E))for(var Ft=0;Ft<E.length;Ft++)F=E[Ft],ct=Ue+st(F,Ft),lt+=at(F,I,W,ct,Z);else if(Ft=b(E),typeof Ft=="function")for(E=Ft.call(E),Ft=0;!(F=E.next()).done;)F=F.value,ct=Ue+st(F,Ft++),lt+=at(F,I,W,ct,Z);else if(ct==="object"){if(typeof E.then=="function")return at(Yt(E),I,W,F,Z);throw I=String(E),Error("Objects are not valid as a React child (found: "+(I==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":I)+"). If you meant to render a collection of children, use an array instead.")}return lt}function N(E,I,W){if(E==null)return E;var F=[],Z=0;return at(E,F,"","",function(ct){return I.call(W,ct,Z++)}),F}function V(E){if(E._status===-1){var I=E._result;I=I(),I.then(function(W){(E._status===0||E._status===-1)&&(E._status=1,E._result=W)},function(W){(E._status===0||E._status===-1)&&(E._status=2,E._result=W)}),E._status===-1&&(E._status=0,E._result=I)}if(E._status===1)return E._result.default;throw E._result}var $=typeof reportError=="function"?reportError:function(E){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var I=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof E=="object"&&E!==null&&typeof E.message=="string"?String(E.message):String(E),error:E});if(!window.dispatchEvent(I))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",E);return}console.error(E)};function Y(){}return gt.Children={map:N,forEach:function(E,I,W){N(E,function(){I.apply(this,arguments)},W)},count:function(E){var I=0;return N(E,function(){I++}),I},toArray:function(E){return N(E,function(I){return I})||[]},only:function(E){if(!tt(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},gt.Component=A,gt.Fragment=e,gt.Profiler=l,gt.PureComponent=B,gt.StrictMode=s,gt.Suspense=d,gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,gt.__COMPILER_RUNTIME={__proto__:null,c:function(E){return L.H.useMemoCache(E)}},gt.cache=function(E){return function(){return E.apply(null,arguments)}},gt.cloneElement=function(E,I,W){if(E==null)throw Error("The argument must be a React element, but you passed "+E+".");var F=x({},E.props),Z=E.key,ct=void 0;if(I!=null)for(lt in I.ref!==void 0&&(ct=void 0),I.key!==void 0&&(Z=""+I.key),I)!Q.call(I,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&I.ref===void 0||(F[lt]=I[lt]);var lt=arguments.length-2;if(lt===1)F.children=W;else if(1<lt){for(var Ue=Array(lt),Ft=0;Ft<lt;Ft++)Ue[Ft]=arguments[Ft+2];F.children=Ue}return K(E.type,Z,void 0,void 0,ct,F)},gt.createContext=function(E){return E={$$typeof:u,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null},E.Provider=E,E.Consumer={$$typeof:r,_context:E},E},gt.createElement=function(E,I,W){var F,Z={},ct=null;if(I!=null)for(F in I.key!==void 0&&(ct=""+I.key),I)Q.call(I,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(Z[F]=I[F]);var lt=arguments.length-2;if(lt===1)Z.children=W;else if(1<lt){for(var Ue=Array(lt),Ft=0;Ft<lt;Ft++)Ue[Ft]=arguments[Ft+2];Z.children=Ue}if(E&&E.defaultProps)for(F in lt=E.defaultProps,lt)Z[F]===void 0&&(Z[F]=lt[F]);return K(E,ct,void 0,void 0,null,Z)},gt.createRef=function(){return{current:null}},gt.forwardRef=function(E){return{$$typeof:h,render:E}},gt.isValidElement=tt,gt.lazy=function(E){return{$$typeof:m,_payload:{_status:-1,_result:E},_init:V}},gt.memo=function(E,I){return{$$typeof:g,type:E,compare:I===void 0?null:I}},gt.startTransition=function(E){var I=L.T,W={};L.T=W;try{var F=E(),Z=L.S;Z!==null&&Z(W,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Y,$)}catch(ct){$(ct)}finally{L.T=I}},gt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},gt.use=function(E){return L.H.use(E)},gt.useActionState=function(E,I,W){return L.H.useActionState(E,I,W)},gt.useCallback=function(E,I){return L.H.useCallback(E,I)},gt.useContext=function(E){return L.H.useContext(E)},gt.useDebugValue=function(){},gt.useDeferredValue=function(E,I){return L.H.useDeferredValue(E,I)},gt.useEffect=function(E,I,W){var F=L.H;if(typeof W=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(E,I)},gt.useId=function(){return L.H.useId()},gt.useImperativeHandle=function(E,I,W){return L.H.useImperativeHandle(E,I,W)},gt.useInsertionEffect=function(E,I){return L.H.useInsertionEffect(E,I)},gt.useLayoutEffect=function(E,I){return L.H.useLayoutEffect(E,I)},gt.useMemo=function(E,I){return L.H.useMemo(E,I)},gt.useOptimistic=function(E,I){return L.H.useOptimistic(E,I)},gt.useReducer=function(E,I,W){return L.H.useReducer(E,I,W)},gt.useRef=function(E){return L.H.useRef(E)},gt.useState=function(E){return L.H.useState(E)},gt.useSyncExternalStore=function(E,I,W){return L.H.useSyncExternalStore(E,I,W)},gt.useTransition=function(){return L.H.useTransition()},gt.version="19.1.0",gt}var gy;function _d(){return gy||(gy=1,gf.exports=hE()),gf.exports}var Wt=_d();const Av=rE(Wt);var pf={exports:{}},Al={},mf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function fE(){return py||(py=1,function(n){function t(N,V){var $=N.length;N.push(V);t:for(;0<$;){var Y=$-1>>>1,E=N[Y];if(0<l(E,V))N[Y]=V,N[$]=E,$=Y;else break t}}function e(N){return N.length===0?null:N[0]}function s(N){if(N.length===0)return null;var V=N[0],$=N.pop();if($!==V){N[0]=$;t:for(var Y=0,E=N.length,I=E>>>1;Y<I;){var W=2*(Y+1)-1,F=N[W],Z=W+1,ct=N[Z];if(0>l(F,$))Z<E&&0>l(ct,F)?(N[Y]=ct,N[Z]=$,Y=Z):(N[Y]=F,N[W]=$,Y=W);else if(Z<E&&0>l(ct,$))N[Y]=ct,N[Z]=$,Y=Z;else break t}}return V}function l(N,V){var $=N.sortIndex-V.sortIndex;return $!==0?$:N.id-V.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],g=[],m=1,_=null,b=3,S=!1,x=!1,C=!1,A=!1,z=typeof setTimeout=="function"?setTimeout:null,B=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function q(N){for(var V=e(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=N)s(g),V.sortIndex=V.expirationTime,t(d,V);else break;V=e(g)}}function L(N){if(C=!1,q(N),!x)if(e(d)!==null)x=!0,Q||(Q=!0,st());else{var V=e(g);V!==null&&at(L,V.startTime-N)}}var Q=!1,K=-1,X=5,tt=-1;function ut(){return A?!0:!(n.unstable_now()-tt<X)}function it(){if(A=!1,Q){var N=n.unstable_now();tt=N;var V=!0;try{t:{x=!1,C&&(C=!1,B(K),K=-1),S=!0;var $=b;try{e:{for(q(N),_=e(d);_!==null&&!(_.expirationTime>N&&ut());){var Y=_.callback;if(typeof Y=="function"){_.callback=null,b=_.priorityLevel;var E=Y(_.expirationTime<=N);if(N=n.unstable_now(),typeof E=="function"){_.callback=E,q(N),V=!0;break e}_===e(d)&&s(d),q(N)}else s(d);_=e(d)}if(_!==null)V=!0;else{var I=e(g);I!==null&&at(L,I.startTime-N),V=!1}}break t}finally{_=null,b=$,S=!1}V=void 0}}finally{V?st():Q=!1}}}var st;if(typeof P=="function")st=function(){P(it)};else if(typeof MessageChannel<"u"){var Lt=new MessageChannel,Yt=Lt.port2;Lt.port1.onmessage=it,st=function(){Yt.postMessage(null)}}else st=function(){z(it,0)};function at(N,V){K=z(function(){N(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(N){N.callback=null},n.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<N?Math.floor(1e3/N):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(N){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var $=b;b=V;try{return N()}finally{b=$}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(N,V){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var $=b;b=N;try{return V()}finally{b=$}},n.unstable_scheduleCallback=function(N,V,$){var Y=n.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?Y+$:Y):$=Y,N){case 1:var E=-1;break;case 2:E=250;break;case 5:E=1073741823;break;case 4:E=1e4;break;default:E=5e3}return E=$+E,N={id:m++,callback:V,priorityLevel:N,startTime:$,expirationTime:E,sortIndex:-1},$>Y?(N.sortIndex=$,t(g,N),e(d)===null&&N===e(g)&&(C?(B(K),K=-1):C=!0,at(L,$-Y))):(N.sortIndex=E,t(d,N),x||S||(x=!0,Q||(Q=!0,st()))),N},n.unstable_shouldYield=ut,n.unstable_wrapCallback=function(N){var V=b;return function(){var $=b;b=V;try{return N.apply(this,arguments)}finally{b=$}}}}(_f)),_f}var my;function dE(){return my||(my=1,mf.exports=fE()),mf.exports}var yf={exports:{}},Te={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function gE(){if(_y)return Te;_y=1;var n=_d();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function r(d,g,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:d,containerInfo:g,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Te.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Te.createPortal=function(d,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return r(d,g,null,m)},Te.flushSync=function(d){var g=u.T,m=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=g,s.p=m,s.d.f()}},Te.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},Te.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Te.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:S}):m==="script"&&s.d.X(d,{crossOrigin:_,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Te.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},Te.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin);s.d.L(d,m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Te.preloadModule=function(d,g){if(typeof d=="string")if(g){var m=h(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},Te.requestFormReset=function(d){s.d.r(d)},Te.unstable_batchedUpdates=function(d,g){return d(g)},Te.useFormState=function(d,g,m){return u.H.useFormState(d,g,m)},Te.useFormStatus=function(){return u.H.useHostTransitionStatus()},Te.version="19.1.0",Te}var yy;function pE(){if(yy)return yf.exports;yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),yf.exports=gE(),yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function mE(){if(by)return Al;by=1;var n=dE(),t=_d(),e=pE();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function r(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(r(i)!==i)throw Error(s(188))}function d(i){var a=i.alternate;if(!a){if(a=r(i),a===null)throw Error(s(188));return a!==i?null:i}for(var o=i,c=a;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return h(f),i;if(p===c)return h(f),a;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var y=!1,v=f.child;v;){if(v===o){y=!0,o=f,c=p;break}if(v===c){y=!0,c=f,o=p;break}v=v.sibling}if(!y){for(v=p.child;v;){if(v===o){y=!0,o=p,c=f;break}if(v===c){y=!0,c=p,o=f;break}v=v.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),B=Symbol.for("react.consumer"),P=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),X=Symbol.for("react.lazy"),tt=Symbol.for("react.activity"),ut=Symbol.for("react.memo_cache_sentinel"),it=Symbol.iterator;function st(i){return i===null||typeof i!="object"?null:(i=it&&i[it]||i["@@iterator"],typeof i=="function"?i:null)}var Lt=Symbol.for("react.client.reference");function Yt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Lt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case Q:return"SuspenseList";case tt:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case P:return(i.displayName||"Context")+".Provider";case B:return(i._context.displayName||"Context")+".Consumer";case q:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case K:return a=i.displayName||null,a!==null?a:Yt(i.type)||"Memo";case X:a=i._payload,i=i._init;try{return Yt(i(a))}catch{}}return null}var at=Array.isArray,N=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,$={pending:!1,data:null,method:null,action:null},Y=[],E=-1;function I(i){return{current:i}}function W(i){0>E||(i.current=Y[E],Y[E]=null,E--)}function F(i,a){E++,Y[E]=i.current,i.current=a}var Z=I(null),ct=I(null),lt=I(null),Ue=I(null);function Ft(i,a){switch(F(lt,a),F(ct,i),F(Z,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?U_(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=U_(a),i=j_(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}W(Z),F(Z,i)}function $n(){W(Z),W(ct),W(lt)}function Zc(i){i.memoizedState!==null&&F(Ue,i);var a=Z.current,o=j_(a,i.type);a!==o&&(F(ct,i),F(Z,o))}function Ao(i){ct.current===i&&(W(Z),W(ct)),Ue.current===i&&(W(Ue),vl._currentValue=$)}var $c=Object.prototype.hasOwnProperty,Jc=n.unstable_scheduleCallback,tu=n.unstable_cancelCallback,BS=n.unstable_shouldYield,US=n.unstable_requestPaint,_n=n.unstable_now,jS=n.unstable_getCurrentPriorityLevel,bg=n.unstable_ImmediatePriority,vg=n.unstable_UserBlockingPriority,Mo=n.unstable_NormalPriority,PS=n.unstable_LowPriority,Sg=n.unstable_IdlePriority,VS=n.log,YS=n.unstable_setDisableYieldValue,wa=null,je=null;function Jn(i){if(typeof VS=="function"&&YS(i),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(wa,i)}catch{}}var Pe=Math.clz32?Math.clz32:GS,FS=Math.log,qS=Math.LN2;function GS(i){return i>>>=0,i===0?32:31-(FS(i)/qS|0)|0}var wo=256,Do=4194304;function Li(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function Oo(i,a,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,y=i.pingedLanes;i=i.warmLanes;var v=c&134217727;return v!==0?(c=v&~p,c!==0?f=Li(c):(y&=v,y!==0?f=Li(y):o||(o=v&~i,o!==0&&(f=Li(o))))):(v=c&~p,v!==0?f=Li(v):y!==0?f=Li(y):o||(o=c&~i,o!==0&&(f=Li(o)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:f}function Da(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function WS(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xg(){var i=wo;return wo<<=1,(wo&4194048)===0&&(wo=256),i}function Eg(){var i=Do;return Do<<=1,(Do&62914560)===0&&(Do=4194304),i}function eu(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function Oa(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function XS(i,a,o,c,f,p){var y=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var v=i.entanglements,T=i.expirationTimes,O=i.hiddenUpdates;for(o=y&~o;0<o;){var H=31-Pe(o),j=1<<H;v[H]=0,T[H]=-1;var R=O[H];if(R!==null)for(O[H]=null,H=0;H<R.length;H++){var k=R[H];k!==null&&(k.lane&=-536870913)}o&=~j}c!==0&&Tg(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(y&~a))}function Tg(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Pe(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function Cg(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var c=31-Pe(o),f=1<<c;f&a|i[c]&a&&(i[c]|=a),o&=~f}}function nu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function iu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ag(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:ay(i.type))}function QS(i,a){var o=V.p;try{return V.p=i,a()}finally{V.p=o}}var ti=Math.random().toString(36).slice(2),xe="__reactFiber$"+ti,Oe="__reactProps$"+ti,_s="__reactContainer$"+ti,su="__reactEvents$"+ti,KS="__reactListeners$"+ti,ZS="__reactHandles$"+ti,Mg="__reactResources$"+ti,Ra="__reactMarker$"+ti;function au(i){delete i[xe],delete i[Oe],delete i[su],delete i[KS],delete i[ZS]}function ys(i){var a=i[xe];if(a)return a;for(var o=i.parentNode;o;){if(a=o[_s]||o[xe]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=F_(i);i!==null;){if(o=i[xe])return o;i=F_(i)}return a}i=o,o=i.parentNode}return null}function bs(i){if(i=i[xe]||i[_s]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Na(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function vs(i){var a=i[Mg];return a||(a=i[Mg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function re(i){i[Ra]=!0}var wg=new Set,Dg={};function Ii(i,a){Ss(i,a),Ss(i+"Capture",a)}function Ss(i,a){for(Dg[i]=a,i=0;i<a.length;i++)wg.add(a[i])}var $S=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Og={},Rg={};function JS(i){return $c.call(Rg,i)?!0:$c.call(Og,i)?!1:$S.test(i)?Rg[i]=!0:(Og[i]=!0,!1)}function Ro(i,a,o){if(JS(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function No(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function wn(i,a,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+c)}}var lu,Ng;function xs(i){if(lu===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);lu=a&&a[1]||"",Ng=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lu+i+Ng}var ou=!1;function ru(i,a){if(!i||ou)return"";ou=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(k){var R=k}Reflect.construct(i,[],j)}else{try{j.call()}catch(k){R=k}i.call(j.prototype)}}else{try{throw Error()}catch(k){R=k}(j=i())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(k){if(k&&R&&typeof k.stack=="string")return[k.stack,R.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),y=p[0],v=p[1];if(y&&v){var T=y.split(`
`),O=v.split(`
`);for(f=c=0;c<T.length&&!T[c].includes("DetermineComponentFrameRoot");)c++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(c===T.length||f===O.length)for(c=T.length-1,f=O.length-1;1<=c&&0<=f&&T[c]!==O[f];)f--;for(;1<=c&&0<=f;c--,f--)if(T[c]!==O[f]){if(c!==1||f!==1)do if(c--,f--,0>f||T[c]!==O[f]){var H=`
`+T[c].replace(" at new "," at ");return i.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",i.displayName)),H}while(1<=c&&0<=f);break}}}finally{ou=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?xs(o):""}function tx(i){switch(i.tag){case 26:case 27:case 5:return xs(i.type);case 16:return xs("Lazy");case 13:return xs("Suspense");case 19:return xs("SuspenseList");case 0:case 15:return ru(i.type,!1);case 11:return ru(i.type.render,!1);case 1:return ru(i.type,!0);case 31:return xs("Activity");default:return""}}function kg(i){try{var a="";do a+=tx(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Qe(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zg(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ex(i){var a=zg(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,p.call(this,y)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function ko(i){i._valueTracker||(i._valueTracker=ex(i))}function Lg(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return i&&(c=zg(i)?i.checked?"true":"false":i.value),i=c,i!==o?(a.setValue(i),!0):!1}function zo(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var nx=/[\n"\\]/g;function Ke(i){return i.replace(nx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function cu(i,a,o,c,f,p,y,v){i.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?i.type=y:i.removeAttribute("type"),a!=null?y==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+Qe(a)):i.value!==""+Qe(a)&&(i.value=""+Qe(a)):y!=="submit"&&y!=="reset"||i.removeAttribute("value"),a!=null?uu(i,y,Qe(a)):o!=null?uu(i,y,Qe(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.name=""+Qe(v):i.removeAttribute("name")}function Ig(i,a,o,c,f,p,y,v){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+Qe(o):"",a=a!=null?""+Qe(a):o,v||a===i.value||(i.value=a),i.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=v?i.checked:!!c,i.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.name=y)}function uu(i,a,o){a==="number"&&zo(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function Es(i,a,o,c){if(i=i.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=a.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+Qe(o),a=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}a!==null||i[f].disabled||(a=i[f])}a!==null&&(a.selected=!0)}}function Hg(i,a,o){if(a!=null&&(a=""+Qe(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+Qe(o):""}function Bg(i,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(s(92));if(at(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=Qe(a),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Ts(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var ix=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(i,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,o):typeof o!="number"||o===0||ix.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function jg(i,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&o[f]!==c&&Ug(i,f,c)}else for(var p in a)a.hasOwnProperty(p)&&Ug(i,p,a[p])}function hu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ax=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Lo(i){return ax.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var fu=null;function du(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Cs=null,As=null;function Pg(i){var a=bs(i);if(a&&(i=a.stateNode)){var o=i[Oe]||null;t:switch(i=a.stateNode,a.type){case"input":if(cu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ke(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==i&&c.form===i.form){var f=c[Oe]||null;if(!f)throw Error(s(90));cu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===i.form&&Lg(c)}break t;case"textarea":Hg(i,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&Es(i,!!o.multiple,a,!1)}}}var gu=!1;function Vg(i,a,o){if(gu)return i(a,o);gu=!0;try{var c=i(a);return c}finally{if(gu=!1,(Cs!==null||As!==null)&&(vr(),Cs&&(a=Cs,i=As,As=Cs=null,Pg(a),i)))for(a=0;a<i.length;a++)Pg(i[a])}}function ka(i,a){var o=i.stateNode;if(o===null)return null;var c=o[Oe]||null;if(c===null)return null;o=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Dn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=!1;if(Dn)try{var za={};Object.defineProperty(za,"passive",{get:function(){pu=!0}}),window.addEventListener("test",za,za),window.removeEventListener("test",za,za)}catch{pu=!1}var ei=null,mu=null,Io=null;function Yg(){if(Io)return Io;var i,a=mu,o=a.length,c,f="value"in ei?ei.value:ei.textContent,p=f.length;for(i=0;i<o&&a[i]===f[i];i++);var y=o-i;for(c=1;c<=y&&a[o-c]===f[p-c];c++);return Io=f.slice(i,1<c?1-c:void 0)}function Ho(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Bo(){return!0}function Fg(){return!1}function Re(i){function a(o,c,f,p,y){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var v in i)i.hasOwnProperty(v)&&(o=i[v],this[v]=o?o(p):p[v]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Bo:Fg,this.isPropagationStopped=Fg,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Bo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Bo)},persist:function(){},isPersistent:Bo}),a}var Hi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Uo=Re(Hi),La=m({},Hi,{view:0,detail:0}),lx=Re(La),_u,yu,Ia,jo=m({},La,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ia&&(Ia&&i.type==="mousemove"?(_u=i.screenX-Ia.screenX,yu=i.screenY-Ia.screenY):yu=_u=0,Ia=i),_u)},movementY:function(i){return"movementY"in i?i.movementY:yu}}),qg=Re(jo),ox=m({},jo,{dataTransfer:0}),rx=Re(ox),cx=m({},La,{relatedTarget:0}),bu=Re(cx),ux=m({},Hi,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=Re(ux),fx=m({},Hi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dx=Re(fx),gx=m({},Hi,{data:0}),Gg=Re(gx),px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yx(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=_x[i])?!!a[i]:!1}function vu(){return yx}var bx=m({},La,{key:function(i){if(i.key){var a=px[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Ho(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(i){return i.type==="keypress"?Ho(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Ho(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vx=Re(bx),Sx=m({},jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wg=Re(Sx),xx=m({},La,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Ex=Re(xx),Tx=m({},Hi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cx=Re(Tx),Ax=m({},jo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=Re(Ax),wx=m({},Hi,{newState:0,oldState:0}),Dx=Re(wx),Ox=[9,13,27,32],Su=Dn&&"CompositionEvent"in window,Ha=null;Dn&&"documentMode"in document&&(Ha=document.documentMode);var Rx=Dn&&"TextEvent"in window&&!Ha,Xg=Dn&&(!Su||Ha&&8<Ha&&11>=Ha),Qg=" ",Kg=!1;function Zg(i,a){switch(i){case"keyup":return Ox.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ms=!1;function Nx(i,a){switch(i){case"compositionend":return $g(a);case"keypress":return a.which!==32?null:(Kg=!0,Qg);case"textInput":return i=a.data,i===Qg&&Kg?null:i;default:return null}}function kx(i,a){if(Ms)return i==="compositionend"||!Su&&Zg(i,a)?(i=Yg(),Io=mu=ei=null,Ms=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xg&&a.locale!=="ko"?null:a.data;default:return null}}var zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!zx[i.type]:a==="textarea"}function tp(i,a,o,c){Cs?As?As.push(c):As=[c]:Cs=c,a=Ar(a,"onChange"),0<a.length&&(o=new Uo("onChange","change",null,o,c),i.push({event:o,listeners:a}))}var Ba=null,Ua=null;function Lx(i){z_(i,0)}function Po(i){var a=Na(i);if(Lg(a))return i}function ep(i,a){if(i==="change")return a}var np=!1;if(Dn){var xu;if(Dn){var Eu="oninput"in document;if(!Eu){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),Eu=typeof ip.oninput=="function"}xu=Eu}else xu=!1;np=xu&&(!document.documentMode||9<document.documentMode)}function sp(){Ba&&(Ba.detachEvent("onpropertychange",ap),Ua=Ba=null)}function ap(i){if(i.propertyName==="value"&&Po(Ua)){var a=[];tp(a,Ua,i,du(i)),Vg(Lx,a)}}function Ix(i,a,o){i==="focusin"?(sp(),Ba=a,Ua=o,Ba.attachEvent("onpropertychange",ap)):i==="focusout"&&sp()}function Hx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Po(Ua)}function Bx(i,a){if(i==="click")return Po(a)}function Ux(i,a){if(i==="input"||i==="change")return Po(a)}function jx(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var Ve=typeof Object.is=="function"?Object.is:jx;function ja(i,a){if(Ve(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!$c.call(a,f)||!Ve(i[f],a[f]))return!1}return!0}function lp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function op(i,a){var o=lp(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=a&&c>=a)return{node:o,offset:a-i};i=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=lp(o)}}function rp(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?rp(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function cp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=zo(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=zo(i.document)}return a}function Tu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Px=Dn&&"documentMode"in document&&11>=document.documentMode,ws=null,Cu=null,Pa=null,Au=!1;function up(i,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Au||ws==null||ws!==zo(c)||(c=ws,"selectionStart"in c&&Tu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Pa&&ja(Pa,c)||(Pa=c,c=Ar(Cu,"onSelect"),0<c.length&&(a=new Uo("onSelect","select",null,a,o),i.push({event:a,listeners:c}),a.target=ws)))}function Bi(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var Ds={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},Mu={},hp={};Dn&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete Ds.animationend.animation,delete Ds.animationiteration.animation,delete Ds.animationstart.animation),"TransitionEvent"in window||delete Ds.transitionend.transition);function Ui(i){if(Mu[i])return Mu[i];if(!Ds[i])return i;var a=Ds[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in hp)return Mu[i]=a[o];return i}var fp=Ui("animationend"),dp=Ui("animationiteration"),gp=Ui("animationstart"),Vx=Ui("transitionrun"),Yx=Ui("transitionstart"),Fx=Ui("transitioncancel"),pp=Ui("transitionend"),mp=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function un(i,a){mp.set(i,a),Ii(a,[i])}var _p=new WeakMap;function Ze(i,a){if(typeof i=="object"&&i!==null){var o=_p.get(i);return o!==void 0?o:(a={value:i,source:a,stack:kg(a)},_p.set(i,a),a)}return{value:i,source:a,stack:kg(a)}}var $e=[],Os=0,Du=0;function Vo(){for(var i=Os,a=Du=Os=0;a<i;){var o=$e[a];$e[a++]=null;var c=$e[a];$e[a++]=null;var f=$e[a];$e[a++]=null;var p=$e[a];if($e[a++]=null,c!==null&&f!==null){var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}p!==0&&yp(o,f,p)}}function Yo(i,a,o,c){$e[Os++]=i,$e[Os++]=a,$e[Os++]=o,$e[Os++]=c,Du|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Ou(i,a,o,c){return Yo(i,a,o,c),Fo(i)}function Rs(i,a){return Yo(i,null,null,a),Fo(i)}function yp(i,a,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&a!==null&&(f=31-Pe(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[a]:c.push(a),a.lane=o|536870912),p):null}function Fo(i){if(50<fl)throw fl=0,Ih=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Ns={};function qx(i,a,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(i,a,o,c){return new qx(i,a,o,c)}function Ru(i){return i=i.prototype,!(!i||!i.isReactComponent)}function On(i,a){var o=i.alternate;return o===null?(o=Ye(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function bp(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function qo(i,a,o,c,f,p){var y=0;if(c=i,typeof i=="function")Ru(i)&&(y=1);else if(typeof i=="string")y=W1(i,o,Z.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case tt:return i=Ye(31,o,a,f),i.elementType=tt,i.lanes=p,i;case x:return ji(o.children,f,p,a);case C:y=8,f|=24;break;case A:return i=Ye(12,o,a,f|2),i.elementType=A,i.lanes=p,i;case L:return i=Ye(13,o,a,f),i.elementType=L,i.lanes=p,i;case Q:return i=Ye(19,o,a,f),i.elementType=Q,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:case P:y=10;break t;case B:y=9;break t;case q:y=11;break t;case K:y=14;break t;case X:y=16,c=null;break t}y=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return a=Ye(y,o,a,f),a.elementType=i,a.type=c,a.lanes=p,a}function ji(i,a,o,c){return i=Ye(7,i,c,a),i.lanes=o,i}function Nu(i,a,o){return i=Ye(6,i,null,a),i.lanes=o,i}function ku(i,a,o){return a=Ye(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var ks=[],zs=0,Go=null,Wo=0,Je=[],tn=0,Pi=null,Rn=1,Nn="";function Vi(i,a){ks[zs++]=Wo,ks[zs++]=Go,Go=i,Wo=a}function vp(i,a,o){Je[tn++]=Rn,Je[tn++]=Nn,Je[tn++]=Pi,Pi=i;var c=Rn;i=Nn;var f=32-Pe(c)-1;c&=~(1<<f),o+=1;var p=32-Pe(a)+f;if(30<p){var y=f-f%5;p=(c&(1<<y)-1).toString(32),c>>=y,f-=y,Rn=1<<32-Pe(a)+f|o<<f|c,Nn=p+i}else Rn=1<<p|o<<f|c,Nn=i}function zu(i){i.return!==null&&(Vi(i,1),vp(i,1,0))}function Lu(i){for(;i===Go;)Go=ks[--zs],ks[zs]=null,Wo=ks[--zs],ks[zs]=null;for(;i===Pi;)Pi=Je[--tn],Je[tn]=null,Nn=Je[--tn],Je[tn]=null,Rn=Je[--tn],Je[tn]=null}var Me=null,Xt=null,At=!1,Yi=null,yn=!1,Iu=Error(s(519));function Fi(i){var a=Error(s(418,""));throw Fa(Ze(a,i)),Iu}function Sp(i){var a=i.stateNode,o=i.type,c=i.memoizedProps;switch(a[xe]=i,a[Oe]=c,o){case"dialog":vt("cancel",a),vt("close",a);break;case"iframe":case"object":case"embed":vt("load",a);break;case"video":case"audio":for(o=0;o<gl.length;o++)vt(gl[o],a);break;case"source":vt("error",a);break;case"img":case"image":case"link":vt("error",a),vt("load",a);break;case"details":vt("toggle",a);break;case"input":vt("invalid",a),Ig(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),ko(a);break;case"select":vt("invalid",a);break;case"textarea":vt("invalid",a),Bg(a,c.value,c.defaultValue,c.children),ko(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||B_(a.textContent,o)?(c.popover!=null&&(vt("beforetoggle",a),vt("toggle",a)),c.onScroll!=null&&vt("scroll",a),c.onScrollEnd!=null&&vt("scrollend",a),c.onClick!=null&&(a.onclick=Mr),a=!0):a=!1,a||Fi(i)}function xp(i){for(Me=i.return;Me;)switch(Me.tag){case 5:case 13:yn=!1;return;case 27:case 3:yn=!0;return;default:Me=Me.return}}function Va(i){if(i!==Me)return!1;if(!At)return xp(i),At=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||$h(i.type,i.memoizedProps)),o=!o),o&&Xt&&Fi(i),xp(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){Xt=fn(i.nextSibling);break t}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}Xt=null}}else a===27?(a=Xt,_i(i.type)?(i=nf,nf=null,Xt=i):Xt=a):Xt=Me?fn(i.stateNode.nextSibling):null;return!0}function Ya(){Xt=Me=null,At=!1}function Ep(){var i=Yi;return i!==null&&(ze===null?ze=i:ze.push.apply(ze,i),Yi=null),i}function Fa(i){Yi===null?Yi=[i]:Yi.push(i)}var Hu=I(null),qi=null,kn=null;function ni(i,a,o){F(Hu,a._currentValue),a._currentValue=o}function zn(i){i._currentValue=Hu.current,W(Hu)}function Bu(i,a,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===o)break;i=i.return}}function Uu(i,a,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var y=f.child;p=p.firstContext;t:for(;p!==null;){var v=p;p=f;for(var T=0;T<a.length;T++)if(v.context===a[T]){p.lanes|=o,v=p.alternate,v!==null&&(v.lanes|=o),Bu(p.return,o,i),c||(y=null);break t}p=v.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=o,p=y.alternate,p!==null&&(p.lanes|=o),Bu(y,o,i),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===i){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function qa(i,a,o,c){i=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var v=f.type;Ve(f.pendingProps.value,y.value)||(i!==null?i.push(v):i=[v])}}else if(f===Ue.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(vl):i=[vl])}f=f.return}i!==null&&Uu(a,i,o,c),a.flags|=262144}function Xo(i){for(i=i.firstContext;i!==null;){if(!Ve(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Gi(i){qi=i,kn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ee(i){return Tp(qi,i)}function Qo(i,a){return qi===null&&Gi(i),Tp(i,a)}function Tp(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},kn===null){if(i===null)throw Error(s(308));kn=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else kn=kn.next=a;return o}var Gx=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},Wx=n.unstable_scheduleCallback,Xx=n.unstable_NormalPriority,ae={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ju(){return{controller:new Gx,data:new Map,refCount:0}}function Ga(i){i.refCount--,i.refCount===0&&Wx(Xx,function(){i.controller.abort()})}var Wa=null,Pu=0,Ls=0,Is=null;function Qx(i,a){if(Wa===null){var o=Wa=[];Pu=0,Ls=Yh(),Is={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Pu++,a.then(Cp,Cp),a}function Cp(){if(--Pu===0&&Wa!==null){Is!==null&&(Is.status="fulfilled");var i=Wa;Wa=null,Ls=0,Is=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Kx(i,a){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Ap=N.S;N.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Qx(i,a),Ap!==null&&Ap(i,a)};var Wi=I(null);function Vu(){var i=Wi.current;return i!==null?i:Ht.pooledCache}function Ko(i,a){a===null?F(Wi,Wi.current):F(Wi,a.pool)}function Mp(){var i=Vu();return i===null?null:{parent:ae._currentValue,pool:i}}var Xa=Error(s(460)),wp=Error(s(474)),Zo=Error(s(542)),Yu={then:function(){}};function Dp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function $o(){}function Op(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then($o,$o),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Np(i),i;default:if(typeof a.status=="string")a.then($o,$o);else{if(i=Ht,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Np(i),i}throw Qa=a,Xa}}var Qa=null;function Rp(){if(Qa===null)throw Error(s(459));var i=Qa;return Qa=null,i}function Np(i){if(i===Xa||i===Zo)throw Error(s(483))}var ii=!1;function Fu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qu(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function si(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ai(i,a,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(wt&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=Fo(i),yp(i,null,o),a}return Yo(i,c,a,o),Fo(i)}function Ka(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Cg(i,o)}}function Gu(i,a){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?f=p=a:p=p.next=a}else f=p=a;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var Wu=!1;function Za(){if(Wu){var i=Is;if(i!==null)throw i}}function $a(i,a,o,c){Wu=!1;var f=i.updateQueue;ii=!1;var p=f.firstBaseUpdate,y=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var T=v,O=T.next;T.next=null,y===null?p=O:y.next=O,y=T;var H=i.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==y&&(v===null?H.firstBaseUpdate=O:v.next=O,H.lastBaseUpdate=T))}if(p!==null){var j=f.baseState;y=0,H=O=T=null,v=p;do{var R=v.lane&-536870913,k=R!==v.lane;if(k?(Et&R)===R:(c&R)===R){R!==0&&R===Ls&&(Wu=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ht=i,ot=v;R=a;var kt=o;switch(ot.tag){case 1:if(ht=ot.payload,typeof ht=="function"){j=ht.call(kt,j,R);break t}j=ht;break t;case 3:ht.flags=ht.flags&-65537|128;case 0:if(ht=ot.payload,R=typeof ht=="function"?ht.call(kt,j,R):ht,R==null)break t;j=m({},j,R);break t;case 2:ii=!0}}R=v.callback,R!==null&&(i.flags|=64,k&&(i.flags|=8192),k=f.callbacks,k===null?f.callbacks=[R]:k.push(R))}else k={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(O=H=k,T=j):H=H.next=k,y|=R;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;k=v,v=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);H===null&&(T=j),f.baseState=T,f.firstBaseUpdate=O,f.lastBaseUpdate=H,p===null&&(f.shared.lanes=0),di|=y,i.lanes=y,i.memoizedState=j}}function kp(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function zp(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)kp(o[i],a)}var Hs=I(null),Jo=I(0);function Lp(i,a){i=Pn,F(Jo,i),F(Hs,a),Pn=i|a.baseLanes}function Xu(){F(Jo,Pn),F(Hs,Hs.current)}function Qu(){Pn=Jo.current,W(Hs),W(Jo)}var li=0,pt=null,Rt=null,ie=null,tr=!1,Bs=!1,Xi=!1,er=0,Ja=0,Us=null,Zx=0;function te(){throw Error(s(321))}function Ku(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!Ve(i[o],a[o]))return!1;return!0}function Zu(i,a,o,c,f,p){return li=p,pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,N.H=i===null||i.memoizedState===null?ym:bm,Xi=!1,p=o(c,f),Xi=!1,Bs&&(p=Hp(a,o,c,f)),Ip(i),p}function Ip(i){N.H=or;var a=Rt!==null&&Rt.next!==null;if(li=0,ie=Rt=pt=null,tr=!1,Ja=0,Us=null,a)throw Error(s(300));i===null||ce||(i=i.dependencies,i!==null&&Xo(i)&&(ce=!0))}function Hp(i,a,o,c){pt=i;var f=0;do{if(Bs&&(Us=null),Ja=0,Bs=!1,25<=f)throw Error(s(301));if(f+=1,ie=Rt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}N.H=s1,p=a(o,c)}while(Bs);return p}function $x(){var i=N.H,a=i.useState()[0];return a=typeof a.then=="function"?tl(a):a,i=i.useState()[0],(Rt!==null?Rt.memoizedState:null)!==i&&(pt.flags|=1024),a}function $u(){var i=er!==0;return er=0,i}function Ju(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function th(i){if(tr){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}tr=!1}li=0,ie=Rt=pt=null,Bs=!1,Ja=er=0,Us=null}function Ne(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ie===null?pt.memoizedState=ie=i:ie=ie.next=i,ie}function se(){if(Rt===null){var i=pt.alternate;i=i!==null?i.memoizedState:null}else i=Rt.next;var a=ie===null?pt.memoizedState:ie.next;if(a!==null)ie=a,Rt=i;else{if(i===null)throw pt.alternate===null?Error(s(467)):Error(s(310));Rt=i,i={memoizedState:Rt.memoizedState,baseState:Rt.baseState,baseQueue:Rt.baseQueue,queue:Rt.queue,next:null},ie===null?pt.memoizedState=ie=i:ie=ie.next=i}return ie}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function tl(i){var a=Ja;return Ja+=1,Us===null&&(Us=[]),i=Op(Us,i,a),a=pt,(ie===null?a.memoizedState:ie.next)===null&&(a=a.alternate,N.H=a===null||a.memoizedState===null?ym:bm),i}function nr(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return tl(i);if(i.$$typeof===P)return Ee(i)}throw Error(s(438,String(i)))}function nh(i){var a=null,o=pt.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=pt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=eh(),pt.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),c=0;c<i;c++)o[c]=ut;return a.index++,o}function Ln(i,a){return typeof a=="function"?a(i):a}function ir(i){var a=se();return ih(a,Rt,i)}function ih(i,a,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var y=f.next;f.next=p.next,p.next=y}a.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{a=f.next;var v=y=null,T=null,O=a,H=!1;do{var j=O.lane&-536870913;if(j!==O.lane?(Et&j)===j:(li&j)===j){var R=O.revertLane;if(R===0)T!==null&&(T=T.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),j===Ls&&(H=!0);else if((li&R)===R){O=O.next,R===Ls&&(H=!0);continue}else j={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(v=T=j,y=p):T=T.next=j,pt.lanes|=R,di|=R;j=O.action,Xi&&o(p,j),p=O.hasEagerState?O.eagerState:o(p,j)}else R={lane:j,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},T===null?(v=T=R,y=p):T=T.next=R,pt.lanes|=j,di|=j;O=O.next}while(O!==null&&O!==a);if(T===null?y=p:T.next=v,!Ve(p,i.memoizedState)&&(ce=!0,H&&(o=Is,o!==null)))throw o;i.memoizedState=p,i.baseState=y,i.baseQueue=T,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function sh(i){var a=se(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=a.memoizedState;if(f!==null){o.pending=null;var y=f=f.next;do p=i(p,y.action),y=y.next;while(y!==f);Ve(p,a.memoizedState)||(ce=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,c]}function Bp(i,a,o){var c=pt,f=se(),p=At;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=a();var y=!Ve((Rt||f).memoizedState,o);y&&(f.memoizedState=o,ce=!0),f=f.queue;var v=Pp.bind(null,c,f,i);if(el(2048,8,v,[i]),f.getSnapshot!==a||y||ie!==null&&ie.memoizedState.tag&1){if(c.flags|=2048,js(9,sr(),jp.bind(null,c,f,o,a),null),Ht===null)throw Error(s(349));p||(li&124)!==0||Up(c,a,o)}return o}function Up(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=pt.updateQueue,a===null?(a=eh(),pt.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function jp(i,a,o,c){a.value=o,a.getSnapshot=c,Vp(a)&&Yp(i)}function Pp(i,a,o){return o(function(){Vp(a)&&Yp(i)})}function Vp(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!Ve(i,o)}catch{return!0}}function Yp(i){var a=Rs(i,2);a!==null&&Xe(a,i,2)}function ah(i){var a=Ne();if(typeof i=="function"){var o=i;if(i=o(),Xi){Jn(!0);try{o()}finally{Jn(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:i},a}function Fp(i,a,o,c){return i.baseState=o,ih(i,Rt,typeof c=="function"?c:Ln)}function Jx(i,a,o,c,f){if(lr(i))throw Error(s(485));if(i=a.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){p.listeners.push(y)}};N.T!==null?o(!0):p.isTransition=!1,c(p),o=a.pending,o===null?(p.next=a.pending=p,qp(a,p)):(p.next=o.next,a.pending=o.next=p)}}function qp(i,a){var o=a.action,c=a.payload,f=i.state;if(a.isTransition){var p=N.T,y={};N.T=y;try{var v=o(f,c),T=N.S;T!==null&&T(y,v),Gp(i,a,v)}catch(O){lh(i,a,O)}finally{N.T=p}}else try{p=o(f,c),Gp(i,a,p)}catch(O){lh(i,a,O)}}function Gp(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Wp(i,a,c)},function(c){return lh(i,a,c)}):Wp(i,a,o)}function Wp(i,a,o){a.status="fulfilled",a.value=o,Xp(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,qp(i,o)))}function lh(i,a,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,Xp(a),a=a.next;while(a!==c)}i.action=null}function Xp(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Qp(i,a){return a}function Kp(i,a){if(At){var o=Ht.formState;if(o!==null){t:{var c=pt;if(At){if(Xt){e:{for(var f=Xt,p=yn;f.nodeType!==8;){if(!p){f=null;break e}if(f=fn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Xt=fn(f.nextSibling),c=f.data==="F!";break t}}Fi(c)}c=!1}c&&(a=o[0])}}return o=Ne(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:a},o.queue=c,o=pm.bind(null,pt,c),c.dispatch=o,c=ah(!1),p=hh.bind(null,pt,!1,c.queue),c=Ne(),f={state:a,dispatch:null,action:i,pending:null},c.queue=f,o=Jx.bind(null,pt,f,p,o),f.dispatch=o,c.memoizedState=i,[a,o,!1]}function Zp(i){var a=se();return $p(a,Rt,i)}function $p(i,a,o){if(a=ih(i,a,Qp)[0],i=ir(Ln)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=tl(a)}catch(y){throw y===Xa?Zo:y}else c=a;a=se();var f=a.queue,p=f.dispatch;return o!==a.memoizedState&&(pt.flags|=2048,js(9,sr(),t1.bind(null,f,o),null)),[c,p,i]}function t1(i,a){i.action=a}function Jp(i){var a=se(),o=Rt;if(o!==null)return $p(a,o,i);se(),a=a.memoizedState,o=se();var c=o.queue.dispatch;return o.memoizedState=i,[a,c,!1]}function js(i,a,o,c){return i={tag:i,create:o,deps:c,inst:a,next:null},a=pt.updateQueue,a===null&&(a=eh(),pt.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,a.lastEffect=i),i}function sr(){return{destroy:void 0,resource:void 0}}function tm(){return se().memoizedState}function ar(i,a,o,c){var f=Ne();c=c===void 0?null:c,pt.flags|=i,f.memoizedState=js(1|a,sr(),o,c)}function el(i,a,o,c){var f=se();c=c===void 0?null:c;var p=f.memoizedState.inst;Rt!==null&&c!==null&&Ku(c,Rt.memoizedState.deps)?f.memoizedState=js(a,p,o,c):(pt.flags|=i,f.memoizedState=js(1|a,p,o,c))}function em(i,a){ar(8390656,8,i,a)}function nm(i,a){el(2048,8,i,a)}function im(i,a){return el(4,2,i,a)}function sm(i,a){return el(4,4,i,a)}function am(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function lm(i,a,o){o=o!=null?o.concat([i]):null,el(4,4,am.bind(null,a,i),o)}function oh(){}function om(i,a){var o=se();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Ku(a,c[1])?c[0]:(o.memoizedState=[i,a],i)}function rm(i,a){var o=se();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Ku(a,c[1]))return c[0];if(c=i(),Xi){Jn(!0);try{i()}finally{Jn(!1)}}return o.memoizedState=[c,a],c}function rh(i,a,o){return o===void 0||(li&1073741824)!==0?i.memoizedState=a:(i.memoizedState=o,i=h_(),pt.lanes|=i,di|=i,o)}function cm(i,a,o,c){return Ve(o,a)?o:Hs.current!==null?(i=rh(i,o,c),Ve(i,a)||(ce=!0),i):(li&42)===0?(ce=!0,i.memoizedState=o):(i=h_(),pt.lanes|=i,di|=i,a)}function um(i,a,o,c,f){var p=V.p;V.p=p!==0&&8>p?p:8;var y=N.T,v={};N.T=v,hh(i,!1,a,o);try{var T=f(),O=N.S;if(O!==null&&O(v,T),T!==null&&typeof T=="object"&&typeof T.then=="function"){var H=Kx(T,c);nl(i,a,H,We(i))}else nl(i,a,c,We(i))}catch(j){nl(i,a,{then:function(){},status:"rejected",reason:j},We())}finally{V.p=p,N.T=y}}function e1(){}function ch(i,a,o,c){if(i.tag!==5)throw Error(s(476));var f=hm(i).queue;um(i,f,a,$,o===null?e1:function(){return fm(i),o(c)})}function hm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:$,baseState:$,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:$},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ln,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function fm(i){var a=hm(i).next.queue;nl(i,a,{},We())}function uh(){return Ee(vl)}function dm(){return se().memoizedState}function gm(){return se().memoizedState}function n1(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=We();i=si(o);var c=ai(a,i,o);c!==null&&(Xe(c,a,o),Ka(c,a,o)),a={cache:ju()},i.payload=a;return}a=a.return}}function i1(i,a,o){var c=We();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},lr(i)?mm(a,o):(o=Ou(i,a,o,c),o!==null&&(Xe(o,i,c),_m(o,a,c)))}function pm(i,a,o){var c=We();nl(i,a,o,c)}function nl(i,a,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(lr(i))mm(a,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var y=a.lastRenderedState,v=p(y,o);if(f.hasEagerState=!0,f.eagerState=v,Ve(v,y))return Yo(i,a,f,0),Ht===null&&Vo(),!1}catch{}finally{}if(o=Ou(i,a,f,c),o!==null)return Xe(o,i,c),_m(o,a,c),!0}return!1}function hh(i,a,o,c){if(c={lane:2,revertLane:Yh(),action:c,hasEagerState:!1,eagerState:null,next:null},lr(i)){if(a)throw Error(s(479))}else a=Ou(i,o,c,2),a!==null&&Xe(a,i,2)}function lr(i){var a=i.alternate;return i===pt||a!==null&&a===pt}function mm(i,a){Bs=tr=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function _m(i,a,o){if((o&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Cg(i,o)}}var or={readContext:Ee,use:nr,useCallback:te,useContext:te,useEffect:te,useImperativeHandle:te,useLayoutEffect:te,useInsertionEffect:te,useMemo:te,useReducer:te,useRef:te,useState:te,useDebugValue:te,useDeferredValue:te,useTransition:te,useSyncExternalStore:te,useId:te,useHostTransitionStatus:te,useFormState:te,useActionState:te,useOptimistic:te,useMemoCache:te,useCacheRefresh:te},ym={readContext:Ee,use:nr,useCallback:function(i,a){return Ne().memoizedState=[i,a===void 0?null:a],i},useContext:Ee,useEffect:em,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,ar(4194308,4,am.bind(null,a,i),o)},useLayoutEffect:function(i,a){return ar(4194308,4,i,a)},useInsertionEffect:function(i,a){ar(4,2,i,a)},useMemo:function(i,a){var o=Ne();a=a===void 0?null:a;var c=i();if(Xi){Jn(!0);try{i()}finally{Jn(!1)}}return o.memoizedState=[c,a],c},useReducer:function(i,a,o){var c=Ne();if(o!==void 0){var f=o(a);if(Xi){Jn(!0);try{o(a)}finally{Jn(!1)}}}else f=a;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=i1.bind(null,pt,i),[c.memoizedState,i]},useRef:function(i){var a=Ne();return i={current:i},a.memoizedState=i},useState:function(i){i=ah(i);var a=i.queue,o=pm.bind(null,pt,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:oh,useDeferredValue:function(i,a){var o=Ne();return rh(o,i,a)},useTransition:function(){var i=ah(!1);return i=um.bind(null,pt,i.queue,!0,!1),Ne().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var c=pt,f=Ne();if(At){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Ht===null)throw Error(s(349));(Et&124)!==0||Up(c,a,o)}f.memoizedState=o;var p={value:o,getSnapshot:a};return f.queue=p,em(Pp.bind(null,c,p,i),[i]),c.flags|=2048,js(9,sr(),jp.bind(null,c,p,o,a),null),o},useId:function(){var i=Ne(),a=Ht.identifierPrefix;if(At){var o=Nn,c=Rn;o=(c&~(1<<32-Pe(c)-1)).toString(32)+o,a="«"+a+"R"+o,o=er++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=Zx++,a="«"+a+"r"+o.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:uh,useFormState:Kp,useActionState:Kp,useOptimistic:function(i){var a=Ne();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=hh.bind(null,pt,!0,o),o.dispatch=a,[i,a]},useMemoCache:nh,useCacheRefresh:function(){return Ne().memoizedState=n1.bind(null,pt)}},bm={readContext:Ee,use:nr,useCallback:om,useContext:Ee,useEffect:nm,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:rm,useReducer:ir,useRef:tm,useState:function(){return ir(Ln)},useDebugValue:oh,useDeferredValue:function(i,a){var o=se();return cm(o,Rt.memoizedState,i,a)},useTransition:function(){var i=ir(Ln)[0],a=se().memoizedState;return[typeof i=="boolean"?i:tl(i),a]},useSyncExternalStore:Bp,useId:dm,useHostTransitionStatus:uh,useFormState:Zp,useActionState:Zp,useOptimistic:function(i,a){var o=se();return Fp(o,Rt,i,a)},useMemoCache:nh,useCacheRefresh:gm},s1={readContext:Ee,use:nr,useCallback:om,useContext:Ee,useEffect:nm,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:rm,useReducer:sh,useRef:tm,useState:function(){return sh(Ln)},useDebugValue:oh,useDeferredValue:function(i,a){var o=se();return Rt===null?rh(o,i,a):cm(o,Rt.memoizedState,i,a)},useTransition:function(){var i=sh(Ln)[0],a=se().memoizedState;return[typeof i=="boolean"?i:tl(i),a]},useSyncExternalStore:Bp,useId:dm,useHostTransitionStatus:uh,useFormState:Jp,useActionState:Jp,useOptimistic:function(i,a){var o=se();return Rt!==null?Fp(o,Rt,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:nh,useCacheRefresh:gm},Ps=null,il=0;function rr(i){var a=il;return il+=1,Ps===null&&(Ps=[]),Op(Ps,i,a)}function sl(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function cr(i,a){throw a.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function vm(i){var a=i._init;return a(i._payload)}function Sm(i){function a(w,M){if(i){var D=w.deletions;D===null?(w.deletions=[M],w.flags|=16):D.push(M)}}function o(w,M){if(!i)return null;for(;M!==null;)a(w,M),M=M.sibling;return null}function c(w){for(var M=new Map;w!==null;)w.key!==null?M.set(w.key,w):M.set(w.index,w),w=w.sibling;return M}function f(w,M){return w=On(w,M),w.index=0,w.sibling=null,w}function p(w,M,D){return w.index=D,i?(D=w.alternate,D!==null?(D=D.index,D<M?(w.flags|=67108866,M):D):(w.flags|=67108866,M)):(w.flags|=1048576,M)}function y(w){return i&&w.alternate===null&&(w.flags|=67108866),w}function v(w,M,D,U){return M===null||M.tag!==6?(M=Nu(D,w.mode,U),M.return=w,M):(M=f(M,D),M.return=w,M)}function T(w,M,D,U){var J=D.type;return J===x?H(w,M,D.props.children,U,D.key):M!==null&&(M.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===X&&vm(J)===M.type)?(M=f(M,D.props),sl(M,D),M.return=w,M):(M=qo(D.type,D.key,D.props,null,w.mode,U),sl(M,D),M.return=w,M)}function O(w,M,D,U){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=ku(D,w.mode,U),M.return=w,M):(M=f(M,D.children||[]),M.return=w,M)}function H(w,M,D,U,J){return M===null||M.tag!==7?(M=ji(D,w.mode,U,J),M.return=w,M):(M=f(M,D),M.return=w,M)}function j(w,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nu(""+M,w.mode,D),M.return=w,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return D=qo(M.type,M.key,M.props,null,w.mode,D),sl(D,M),D.return=w,D;case S:return M=ku(M,w.mode,D),M.return=w,M;case X:var U=M._init;return M=U(M._payload),j(w,M,D)}if(at(M)||st(M))return M=ji(M,w.mode,D,null),M.return=w,M;if(typeof M.then=="function")return j(w,rr(M),D);if(M.$$typeof===P)return j(w,Qo(w,M),D);cr(w,M)}return null}function R(w,M,D,U){var J=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return J!==null?null:v(w,M,""+D,U);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return D.key===J?T(w,M,D,U):null;case S:return D.key===J?O(w,M,D,U):null;case X:return J=D._init,D=J(D._payload),R(w,M,D,U)}if(at(D)||st(D))return J!==null?null:H(w,M,D,U,null);if(typeof D.then=="function")return R(w,M,rr(D),U);if(D.$$typeof===P)return R(w,M,Qo(w,D),U);cr(w,D)}return null}function k(w,M,D,U,J){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return w=w.get(D)||null,v(M,w,""+U,J);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case b:return w=w.get(U.key===null?D:U.key)||null,T(M,w,U,J);case S:return w=w.get(U.key===null?D:U.key)||null,O(M,w,U,J);case X:var mt=U._init;return U=mt(U._payload),k(w,M,D,U,J)}if(at(U)||st(U))return w=w.get(D)||null,H(M,w,U,J,null);if(typeof U.then=="function")return k(w,M,D,rr(U),J);if(U.$$typeof===P)return k(w,M,D,Qo(M,U),J);cr(M,U)}return null}function ht(w,M,D,U){for(var J=null,mt=null,et=M,rt=M=0,he=null;et!==null&&rt<D.length;rt++){et.index>rt?(he=et,et=null):he=et.sibling;var Tt=R(w,et,D[rt],U);if(Tt===null){et===null&&(et=he);break}i&&et&&Tt.alternate===null&&a(w,et),M=p(Tt,M,rt),mt===null?J=Tt:mt.sibling=Tt,mt=Tt,et=he}if(rt===D.length)return o(w,et),At&&Vi(w,rt),J;if(et===null){for(;rt<D.length;rt++)et=j(w,D[rt],U),et!==null&&(M=p(et,M,rt),mt===null?J=et:mt.sibling=et,mt=et);return At&&Vi(w,rt),J}for(et=c(et);rt<D.length;rt++)he=k(et,w,rt,D[rt],U),he!==null&&(i&&he.alternate!==null&&et.delete(he.key===null?rt:he.key),M=p(he,M,rt),mt===null?J=he:mt.sibling=he,mt=he);return i&&et.forEach(function(xi){return a(w,xi)}),At&&Vi(w,rt),J}function ot(w,M,D,U){if(D==null)throw Error(s(151));for(var J=null,mt=null,et=M,rt=M=0,he=null,Tt=D.next();et!==null&&!Tt.done;rt++,Tt=D.next()){et.index>rt?(he=et,et=null):he=et.sibling;var xi=R(w,et,Tt.value,U);if(xi===null){et===null&&(et=he);break}i&&et&&xi.alternate===null&&a(w,et),M=p(xi,M,rt),mt===null?J=xi:mt.sibling=xi,mt=xi,et=he}if(Tt.done)return o(w,et),At&&Vi(w,rt),J;if(et===null){for(;!Tt.done;rt++,Tt=D.next())Tt=j(w,Tt.value,U),Tt!==null&&(M=p(Tt,M,rt),mt===null?J=Tt:mt.sibling=Tt,mt=Tt);return At&&Vi(w,rt),J}for(et=c(et);!Tt.done;rt++,Tt=D.next())Tt=k(et,w,rt,Tt.value,U),Tt!==null&&(i&&Tt.alternate!==null&&et.delete(Tt.key===null?rt:Tt.key),M=p(Tt,M,rt),mt===null?J=Tt:mt.sibling=Tt,mt=Tt);return i&&et.forEach(function(aE){return a(w,aE)}),At&&Vi(w,rt),J}function kt(w,M,D,U){if(typeof D=="object"&&D!==null&&D.type===x&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case b:t:{for(var J=D.key;M!==null;){if(M.key===J){if(J=D.type,J===x){if(M.tag===7){o(w,M.sibling),U=f(M,D.props.children),U.return=w,w=U;break t}}else if(M.elementType===J||typeof J=="object"&&J!==null&&J.$$typeof===X&&vm(J)===M.type){o(w,M.sibling),U=f(M,D.props),sl(U,D),U.return=w,w=U;break t}o(w,M);break}else a(w,M);M=M.sibling}D.type===x?(U=ji(D.props.children,w.mode,U,D.key),U.return=w,w=U):(U=qo(D.type,D.key,D.props,null,w.mode,U),sl(U,D),U.return=w,w=U)}return y(w);case S:t:{for(J=D.key;M!==null;){if(M.key===J)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){o(w,M.sibling),U=f(M,D.children||[]),U.return=w,w=U;break t}else{o(w,M);break}else a(w,M);M=M.sibling}U=ku(D,w.mode,U),U.return=w,w=U}return y(w);case X:return J=D._init,D=J(D._payload),kt(w,M,D,U)}if(at(D))return ht(w,M,D,U);if(st(D)){if(J=st(D),typeof J!="function")throw Error(s(150));return D=J.call(D),ot(w,M,D,U)}if(typeof D.then=="function")return kt(w,M,rr(D),U);if(D.$$typeof===P)return kt(w,M,Qo(w,D),U);cr(w,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(o(w,M.sibling),U=f(M,D),U.return=w,w=U):(o(w,M),U=Nu(D,w.mode,U),U.return=w,w=U),y(w)):o(w,M)}return function(w,M,D,U){try{il=0;var J=kt(w,M,D,U);return Ps=null,J}catch(et){if(et===Xa||et===Zo)throw et;var mt=Ye(29,et,null,w.mode);return mt.lanes=U,mt.return=w,mt}finally{}}}var Vs=Sm(!0),xm=Sm(!1),en=I(null),bn=null;function oi(i){var a=i.alternate;F(le,le.current&1),F(en,i),bn===null&&(a===null||Hs.current!==null||a.memoizedState!==null)&&(bn=i)}function Em(i){if(i.tag===22){if(F(le,le.current),F(en,i),bn===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(bn=i)}}else ri()}function ri(){F(le,le.current),F(en,en.current)}function In(i){W(en),bn===i&&(bn=null),W(le)}var le=I(0);function ur(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ef(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function fh(i,a,o,c){a=i.memoizedState,o=o(c,a),o=o==null?a:m({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var dh={enqueueSetState:function(i,a,o){i=i._reactInternals;var c=We(),f=si(c);f.payload=a,o!=null&&(f.callback=o),a=ai(i,f,c),a!==null&&(Xe(a,i,c),Ka(a,i,c))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var c=We(),f=si(c);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=ai(i,f,c),a!==null&&(Xe(a,i,c),Ka(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=We(),c=si(o);c.tag=2,a!=null&&(c.callback=a),a=ai(i,c,o),a!==null&&(Xe(a,i,o),Ka(a,i,o))}};function Tm(i,a,o,c,f,p,y){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,y):a.prototype&&a.prototype.isPureReactComponent?!ja(o,c)||!ja(f,p):!0}function Cm(i,a,o,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==i&&dh.enqueueReplaceState(a,a.state,null)}function Qi(i,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(i=i.defaultProps){o===a&&(o=m({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var hr=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Am(i){hr(i)}function Mm(i){console.error(i)}function wm(i){hr(i)}function fr(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Dm(i,a,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function gh(i,a,o){return o=si(o),o.tag=3,o.payload={element:null},o.callback=function(){fr(i,a)},o}function Om(i){return i=si(i),i.tag=3,i}function Rm(i,a,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){Dm(a,o,c)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(i.callback=function(){Dm(a,o,c),typeof f!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var v=c.stack;this.componentDidCatch(c.value,{componentStack:v!==null?v:""})})}function a1(i,a,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&qa(a,o,f,!0),o=en.current,o!==null){switch(o.tag){case 13:return bn===null?Bh():o.alternate===null&&Qt===0&&(Qt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Yu?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),jh(i,c,f)),!1;case 22:return o.flags|=65536,c===Yu?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),jh(i,c,f)),!1}throw Error(s(435,o.tag))}return jh(i,c,f),Bh(),!1}if(At)return a=en.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==Iu&&(i=Error(s(422),{cause:c}),Fa(Ze(i,o)))):(c!==Iu&&(a=Error(s(423),{cause:c}),Fa(Ze(a,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=Ze(c,o),f=gh(i.stateNode,c,f),Gu(i,f),Qt!==4&&(Qt=2)),!1;var p=Error(s(520),{cause:c});if(p=Ze(p,o),hl===null?hl=[p]:hl.push(p),Qt!==4&&(Qt=2),a===null)return!0;c=Ze(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=gh(o.stateNode,c,i),Gu(o,i),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gi===null||!gi.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Om(f),Rm(f,i,o,c),Gu(o,f),!1}o=o.return}while(o!==null);return!1}var Nm=Error(s(461)),ce=!1;function _e(i,a,o,c){a.child=i===null?xm(a,null,o,c):Vs(a,i.child,o,c)}function km(i,a,o,c,f){o=o.render;var p=a.ref;if("ref"in c){var y={};for(var v in c)v!=="ref"&&(y[v]=c[v])}else y=c;return Gi(a),c=Zu(i,a,o,y,p,f),v=$u(),i!==null&&!ce?(Ju(i,a,f),Hn(i,a,f)):(At&&v&&zu(a),a.flags|=1,_e(i,a,c,f),a.child)}function zm(i,a,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!Ru(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Lm(i,a,p,c,f)):(i=qo(o.type,null,c,a,a.mode,f),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!xh(i,f)){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:ja,o(y,c)&&i.ref===a.ref)return Hn(i,a,f)}return a.flags|=1,i=On(p,c),i.ref=a.ref,i.return=a,a.child=i}function Lm(i,a,o,c,f){if(i!==null){var p=i.memoizedProps;if(ja(p,c)&&i.ref===a.ref)if(ce=!1,a.pendingProps=c=p,xh(i,f))(i.flags&131072)!==0&&(ce=!0);else return a.lanes=i.lanes,Hn(i,a,f)}return ph(i,a,o,c,f)}function Im(i,a,o){var c=a.pendingProps,f=c.children,p=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|o:o,i!==null){for(f=a.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return Hm(i,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&Ko(a,p!==null?p.cachePool:null),p!==null?Lp(a,p):Xu(),Em(a);else return a.lanes=a.childLanes=536870912,Hm(i,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(Ko(a,p.cachePool),Lp(a,p),ri(),a.memoizedState=null):(i!==null&&Ko(a,null),Xu(),ri());return _e(i,a,f,o),a.child}function Hm(i,a,o,c){var f=Vu();return f=f===null?null:{parent:ae._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},i!==null&&Ko(a,null),Xu(),Em(a),i!==null&&qa(i,a,c,!0),null}function dr(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function ph(i,a,o,c,f){return Gi(a),o=Zu(i,a,o,c,void 0,f),c=$u(),i!==null&&!ce?(Ju(i,a,f),Hn(i,a,f)):(At&&c&&zu(a),a.flags|=1,_e(i,a,o,f),a.child)}function Bm(i,a,o,c,f,p){return Gi(a),a.updateQueue=null,o=Hp(a,c,o,f),Ip(i),c=$u(),i!==null&&!ce?(Ju(i,a,p),Hn(i,a,p)):(At&&c&&zu(a),a.flags|=1,_e(i,a,o,p),a.child)}function Um(i,a,o,c,f){if(Gi(a),a.stateNode===null){var p=Ns,y=o.contextType;typeof y=="object"&&y!==null&&(p=Ee(y)),p=new o(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=dh,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Fu(a),y=o.contextType,p.context=typeof y=="object"&&y!==null?Ee(y):Ns,p.state=a.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(fh(a,o,y,c),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(y=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),y!==p.state&&dh.enqueueReplaceState(p,p.state,null),$a(a,c,p,f),Za(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){p=a.stateNode;var v=a.memoizedProps,T=Qi(o,v);p.props=T;var O=p.context,H=o.contextType;y=Ns,typeof H=="object"&&H!==null&&(y=Ee(H));var j=o.getDerivedStateFromProps;H=typeof j=="function"||typeof p.getSnapshotBeforeUpdate=="function",v=a.pendingProps!==v,H||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v||O!==y)&&Cm(a,p,c,y),ii=!1;var R=a.memoizedState;p.state=R,$a(a,c,p,f),Za(),O=a.memoizedState,v||R!==O||ii?(typeof j=="function"&&(fh(a,o,j,c),O=a.memoizedState),(T=ii||Tm(a,o,T,c,R,O,y))?(H||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=O),p.props=c,p.state=O,p.context=y,c=T):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,qu(i,a),y=a.memoizedProps,H=Qi(o,y),p.props=H,j=a.pendingProps,R=p.context,O=o.contextType,T=Ns,typeof O=="object"&&O!==null&&(T=Ee(O)),v=o.getDerivedStateFromProps,(O=typeof v=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==j||R!==T)&&Cm(a,p,c,T),ii=!1,R=a.memoizedState,p.state=R,$a(a,c,p,f),Za();var k=a.memoizedState;y!==j||R!==k||ii||i!==null&&i.dependencies!==null&&Xo(i.dependencies)?(typeof v=="function"&&(fh(a,o,v,c),k=a.memoizedState),(H=ii||Tm(a,o,H,c,R,k,T)||i!==null&&i.dependencies!==null&&Xo(i.dependencies))?(O||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,k,T),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,k,T)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===i.memoizedProps&&R===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&R===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=k),p.props=c,p.state=k,p.context=T,c=H):(typeof p.componentDidUpdate!="function"||y===i.memoizedProps&&R===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&R===i.memoizedState||(a.flags|=1024),c=!1)}return p=c,dr(i,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&c?(a.child=Vs(a,i.child,null,f),a.child=Vs(a,null,o,f)):_e(i,a,o,f),a.memoizedState=p.state,i=a.child):i=Hn(i,a,f),i}function jm(i,a,o,c){return Ya(),a.flags|=256,_e(i,a,o,c),a.child}var mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _h(i){return{baseLanes:i,cachePool:Mp()}}function yh(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=nn),i}function Pm(i,a,o){var c=a.pendingProps,f=!1,p=(a.flags&128)!==0,y;if((y=p)||(y=i!==null&&i.memoizedState===null?!1:(le.current&2)!==0),y&&(f=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,i===null){if(At){if(f?oi(a):ri(),At){var v=Xt,T;if(T=v){t:{for(T=v,v=yn;T.nodeType!==8;){if(!v){v=null;break t}if(T=fn(T.nextSibling),T===null){v=null;break t}}v=T}v!==null?(a.memoizedState={dehydrated:v,treeContext:Pi!==null?{id:Rn,overflow:Nn}:null,retryLane:536870912,hydrationErrors:null},T=Ye(18,null,null,0),T.stateNode=v,T.return=a,a.child=T,Me=a,Xt=null,T=!0):T=!1}T||Fi(a)}if(v=a.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return ef(v)?a.lanes=32:a.lanes=536870912,null;In(a)}return v=c.children,c=c.fallback,f?(ri(),f=a.mode,v=gr({mode:"hidden",children:v},f),c=ji(c,f,o,null),v.return=a,c.return=a,v.sibling=c,a.child=v,f=a.child,f.memoizedState=_h(o),f.childLanes=yh(i,y,o),a.memoizedState=mh,c):(oi(a),bh(a,v))}if(T=i.memoizedState,T!==null&&(v=T.dehydrated,v!==null)){if(p)a.flags&256?(oi(a),a.flags&=-257,a=vh(i,a,o)):a.memoizedState!==null?(ri(),a.child=i.child,a.flags|=128,a=null):(ri(),f=c.fallback,v=a.mode,c=gr({mode:"visible",children:c.children},v),f=ji(f,v,o,null),f.flags|=2,c.return=a,f.return=a,c.sibling=f,a.child=c,Vs(a,i.child,null,o),c=a.child,c.memoizedState=_h(o),c.childLanes=yh(i,y,o),a.memoizedState=mh,a=f);else if(oi(a),ef(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var O=y.dgst;y=O,c=Error(s(419)),c.stack="",c.digest=y,Fa({value:c,source:null,stack:null}),a=vh(i,a,o)}else if(ce||qa(i,a,o,!1),y=(o&i.childLanes)!==0,ce||y){if(y=Ht,y!==null&&(c=o&-o,c=(c&42)!==0?1:nu(c),c=(c&(y.suspendedLanes|o))!==0?0:c,c!==0&&c!==T.retryLane))throw T.retryLane=c,Rs(i,c),Xe(y,i,c),Nm;v.data==="$?"||Bh(),a=vh(i,a,o)}else v.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=T.treeContext,Xt=fn(v.nextSibling),Me=a,At=!0,Yi=null,yn=!1,i!==null&&(Je[tn++]=Rn,Je[tn++]=Nn,Je[tn++]=Pi,Rn=i.id,Nn=i.overflow,Pi=a),a=bh(a,c.children),a.flags|=4096);return a}return f?(ri(),f=c.fallback,v=a.mode,T=i.child,O=T.sibling,c=On(T,{mode:"hidden",children:c.children}),c.subtreeFlags=T.subtreeFlags&65011712,O!==null?f=On(O,f):(f=ji(f,v,o,null),f.flags|=2),f.return=a,c.return=a,c.sibling=f,a.child=c,c=f,f=a.child,v=i.child.memoizedState,v===null?v=_h(o):(T=v.cachePool,T!==null?(O=ae._currentValue,T=T.parent!==O?{parent:O,pool:O}:T):T=Mp(),v={baseLanes:v.baseLanes|o,cachePool:T}),f.memoizedState=v,f.childLanes=yh(i,y,o),a.memoizedState=mh,c):(oi(a),o=i.child,i=o.sibling,o=On(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,i!==null&&(y=a.deletions,y===null?(a.deletions=[i],a.flags|=16):y.push(i)),a.child=o,a.memoizedState=null,o)}function bh(i,a){return a=gr({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function gr(i,a){return i=Ye(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function vh(i,a,o){return Vs(a,i.child,null,o),i=bh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Vm(i,a,o){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Bu(i.return,a,o)}function Sh(i,a,o,c,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function Ym(i,a,o){var c=a.pendingProps,f=c.revealOrder,p=c.tail;if(_e(i,a,c.children,o),c=le.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vm(i,o,a);else if(i.tag===19)Vm(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(F(le,c),f){case"forwards":for(o=a.child,f=null;o!==null;)i=o.alternate,i!==null&&ur(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),Sh(a,!1,f,o,p);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(i=f.alternate,i!==null&&ur(i)===null){a.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Sh(a,!0,o,null,p);break;case"together":Sh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Hn(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),di|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(qa(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,o=On(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=On(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function xh(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&Xo(i)))}function l1(i,a,o){switch(a.tag){case 3:Ft(a,a.stateNode.containerInfo),ni(a,ae,i.memoizedState.cache),Ya();break;case 27:case 5:Zc(a);break;case 4:Ft(a,a.stateNode.containerInfo);break;case 10:ni(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(oi(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Pm(i,a,o):(oi(a),i=Hn(i,a,o),i!==null?i.sibling:null);oi(a);break;case 19:var f=(i.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(qa(i,a,o,!1),c=(o&a.childLanes)!==0),f){if(c)return Ym(i,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),F(le,le.current),c)break;return null;case 22:case 23:return a.lanes=0,Im(i,a,o);case 24:ni(a,ae,i.memoizedState.cache)}return Hn(i,a,o)}function Fm(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)ce=!0;else{if(!xh(i,o)&&(a.flags&128)===0)return ce=!1,l1(i,a,o);ce=(i.flags&131072)!==0}else ce=!1,At&&(a.flags&1048576)!==0&&vp(a,Wo,a.index);switch(a.lanes=0,a.tag){case 16:t:{i=a.pendingProps;var c=a.elementType,f=c._init;if(c=f(c._payload),a.type=c,typeof c=="function")Ru(c)?(i=Qi(c,i),a.tag=1,a=Um(null,a,c,i,o)):(a.tag=0,a=ph(null,a,c,i,o));else{if(c!=null){if(f=c.$$typeof,f===q){a.tag=11,a=km(null,a,c,i,o);break t}else if(f===K){a.tag=14,a=zm(null,a,c,i,o);break t}}throw a=Yt(c)||c,Error(s(306,a,""))}}return a;case 0:return ph(i,a,a.type,a.pendingProps,o);case 1:return c=a.type,f=Qi(c,a.pendingProps),Um(i,a,c,f,o);case 3:t:{if(Ft(a,a.stateNode.containerInfo),i===null)throw Error(s(387));c=a.pendingProps;var p=a.memoizedState;f=p.element,qu(i,a),$a(a,c,null,o);var y=a.memoizedState;if(c=y.cache,ni(a,ae,c),c!==p.cache&&Uu(a,[ae],o,!0),Za(),c=y.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=jm(i,a,c,o);break t}else if(c!==f){f=Ze(Error(s(424)),a),Fa(f),a=jm(i,a,c,o);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Xt=fn(i.firstChild),Me=a,At=!0,Yi=null,yn=!0,o=xm(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Ya(),c===f){a=Hn(i,a,o);break t}_e(i,a,c,o)}a=a.child}return a;case 26:return dr(i,a),i===null?(o=X_(a.type,null,a.pendingProps,null))?a.memoizedState=o:At||(o=a.type,i=a.pendingProps,c=wr(lt.current).createElement(o),c[xe]=a,c[Oe]=i,be(c,o,i),re(c),a.stateNode=c):a.memoizedState=X_(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return Zc(a),i===null&&At&&(c=a.stateNode=q_(a.type,a.pendingProps,lt.current),Me=a,yn=!0,f=Xt,_i(a.type)?(nf=f,Xt=fn(c.firstChild)):Xt=f),_e(i,a,a.pendingProps.children,o),dr(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&At&&((f=c=Xt)&&(c=z1(c,a.type,a.pendingProps,yn),c!==null?(a.stateNode=c,Me=a,Xt=fn(c.firstChild),yn=!1,f=!0):f=!1),f||Fi(a)),Zc(a),f=a.type,p=a.pendingProps,y=i!==null?i.memoizedProps:null,c=p.children,$h(f,p)?c=null:y!==null&&$h(f,y)&&(a.flags|=32),a.memoizedState!==null&&(f=Zu(i,a,$x,null,null,o),vl._currentValue=f),dr(i,a),_e(i,a,c,o),a.child;case 6:return i===null&&At&&((i=o=Xt)&&(o=L1(o,a.pendingProps,yn),o!==null?(a.stateNode=o,Me=a,Xt=null,i=!0):i=!1),i||Fi(a)),null;case 13:return Pm(i,a,o);case 4:return Ft(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Vs(a,null,c,o):_e(i,a,c,o),a.child;case 11:return km(i,a,a.type,a.pendingProps,o);case 7:return _e(i,a,a.pendingProps,o),a.child;case 8:return _e(i,a,a.pendingProps.children,o),a.child;case 12:return _e(i,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,ni(a,a.type,c.value),_e(i,a,c.children,o),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Gi(a),f=Ee(f),c=c(f),a.flags|=1,_e(i,a,c,o),a.child;case 14:return zm(i,a,a.type,a.pendingProps,o);case 15:return Lm(i,a,a.type,a.pendingProps,o);case 19:return Ym(i,a,o);case 31:return c=a.pendingProps,o=a.mode,c={mode:c.mode,children:c.children},i===null?(o=gr(c,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=On(i.child,c),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Im(i,a,o);case 24:return Gi(a),c=Ee(ae),i===null?(f=Vu(),f===null&&(f=Ht,p=ju(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),a.memoizedState={parent:c,cache:f},Fu(a),ni(a,ae,f)):((i.lanes&o)!==0&&(qu(i,a),$a(a,null,null,o),Za()),f=i.memoizedState,p=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),ni(a,ae,c)):(c=p.cache,ni(a,ae,c),c!==f.cache&&Uu(a,[ae],o,!0))),_e(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Bn(i){i.flags|=4}function qm(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J_(a)){if(a=en.current,a!==null&&((Et&4194048)===Et?bn!==null:(Et&62914560)!==Et&&(Et&536870912)===0||a!==bn))throw Qa=Yu,wp;i.flags|=8192}}function pr(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Eg():536870912,i.lanes|=a,Gs|=a)}function al(i,a){if(!At)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Gt(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(a)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,a}function o1(i,a,o){var c=a.pendingProps;switch(Lu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(a),null;case 1:return Gt(a),null;case 3:return o=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),zn(ae),$n(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Va(a)?Bn(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ep())),Gt(a),null;case 26:return o=a.memoizedState,i===null?(Bn(a),o!==null?(Gt(a),qm(a,o)):(Gt(a),a.flags&=-16777217)):o?o!==i.memoizedState?(Bn(a),Gt(a),qm(a,o)):(Gt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Bn(a),Gt(a),a.flags&=-16777217),null;case 27:Ao(a),o=lt.current;var f=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Bn(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Gt(a),null}i=Z.current,Va(a)?Sp(a):(i=q_(f,c,o),a.stateNode=i,Bn(a))}return Gt(a),null;case 5:if(Ao(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Bn(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Gt(a),null}if(i=Z.current,Va(a))Sp(a);else{switch(f=wr(lt.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}i[xe]=a,i[Oe]=c;t:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break t;for(;f.sibling===null;){if(f.return===null||f.return===a)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=i;t:switch(be(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Bn(a)}}return Gt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Bn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(i=lt.current,Va(a)){if(i=a.stateNode,o=a.memoizedProps,c=null,f=Me,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[xe]=a,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||B_(i.nodeValue,o)),i||Fi(a)}else i=wr(i).createTextNode(c),i[xe]=a,a.stateNode=i}return Gt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Va(a),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[xe]=a}else Ya(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Gt(a),f=!1}else f=Ep(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(In(a),a):(In(a),null)}if(In(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),pr(a,a.updateQueue),Gt(a),null;case 4:return $n(),i===null&&Wh(a.stateNode.containerInfo),Gt(a),null;case 10:return zn(a.type),Gt(a),null;case 19:if(W(le),f=a.memoizedState,f===null)return Gt(a),null;if(c=(a.flags&128)!==0,p=f.rendering,p===null)if(c)al(f,!1);else{if(Qt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=ur(i),p!==null){for(a.flags|=128,al(f,!1),i=p.updateQueue,a.updateQueue=i,pr(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)bp(o,i),o=o.sibling;return F(le,le.current&1|2),a.child}i=i.sibling}f.tail!==null&&_n()>yr&&(a.flags|=128,c=!0,al(f,!1),a.lanes=4194304)}else{if(!c)if(i=ur(p),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,pr(a,i),al(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!At)return Gt(a),null}else 2*_n()-f.renderingStartTime>yr&&o!==536870912&&(a.flags|=128,c=!0,al(f,!1),a.lanes=4194304);f.isBackwards?(p.sibling=a.child,a.child=p):(i=f.last,i!==null?i.sibling=p:a.child=p,f.last=p)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=_n(),a.sibling=null,i=le.current,F(le,c?i&1|2:i&1),a):(Gt(a),null);case 22:case 23:return In(a),Qu(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(Gt(a),a.subtreeFlags&6&&(a.flags|=8192)):Gt(a),o=a.updateQueue,o!==null&&pr(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),i!==null&&W(Wi),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),zn(ae),Gt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function r1(i,a){switch(Lu(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return zn(ae),$n(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return Ao(a),null;case 13:if(In(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ya()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return W(le),null;case 4:return $n(),null;case 10:return zn(a.type),null;case 22:case 23:return In(a),Qu(),i!==null&&W(Wi),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return zn(ae),null;case 25:return null;default:return null}}function Gm(i,a){switch(Lu(a),a.tag){case 3:zn(ae),$n();break;case 26:case 27:case 5:Ao(a);break;case 4:$n();break;case 13:In(a);break;case 19:W(le);break;case 10:zn(a.type);break;case 22:case 23:In(a),Qu(),i!==null&&W(Wi);break;case 24:zn(ae)}}function ll(i,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,y=o.inst;c=p(),y.destroy=c}o=o.next}while(o!==f)}}catch(v){It(a,a.return,v)}}function ci(i,a,o){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var y=c.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,f=a;var T=o,O=v;try{O()}catch(H){It(f,T,H)}}}c=c.next}while(c!==p)}}catch(H){It(a,a.return,H)}}function Wm(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{zp(a,o)}catch(c){It(i,i.return,c)}}}function Xm(i,a,o){o.props=Qi(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){It(i,a,c)}}function ol(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){It(i,a,f)}}function vn(i,a){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){It(i,a,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){It(i,a,f)}else o.current=null}function Qm(i){var a=i.type,o=i.memoizedProps,c=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){It(i,i.return,f)}}function Eh(i,a,o){try{var c=i.stateNode;D1(c,i.type,o,a),c[Oe]=a}catch(f){It(i,i.return,f)}}function Km(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&_i(i.type)||i.tag===4}function Th(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Km(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&_i(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ch(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Mr));else if(c!==4&&(c===27&&_i(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(Ch(i,a,o),i=i.sibling;i!==null;)Ch(i,a,o),i=i.sibling}function mr(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(c!==4&&(c===27&&_i(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(mr(i,a,o),i=i.sibling;i!==null;)mr(i,a,o),i=i.sibling}function Zm(i){var a=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);be(a,c,o),a[xe]=i,a[Oe]=o}catch(p){It(i,i.return,p)}}var Un=!1,ee=!1,Ah=!1,$m=typeof WeakSet=="function"?WeakSet:Set,ue=null;function c1(i,a){if(i=i.containerInfo,Kh=zr,i=cp(i),Tu(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var y=0,v=-1,T=-1,O=0,H=0,j=i,R=null;e:for(;;){for(var k;j!==o||f!==0&&j.nodeType!==3||(v=y+f),j!==p||c!==0&&j.nodeType!==3||(T=y+c),j.nodeType===3&&(y+=j.nodeValue.length),(k=j.firstChild)!==null;)R=j,j=k;for(;;){if(j===i)break e;if(R===o&&++O===f&&(v=y),R===p&&++H===c&&(T=y),(k=j.nextSibling)!==null)break;j=R,R=j.parentNode}j=k}o=v===-1||T===-1?null:{start:v,end:T}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zh={focusedElem:i,selectionRange:o},zr=!1,ue=a;ue!==null;)if(a=ue,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,ue=i;else for(;ue!==null;){switch(a=ue,p=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=a,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var ht=Qi(o.type,f,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(ht,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(ot){It(o,o.return,ot)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)tf(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":tf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,ue=i;break}ue=a.return}}function Jm(i,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ui(i,o),c&4&&ll(5,o);break;case 1:if(ui(i,o),c&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(y){It(o,o.return,y)}else{var f=Qi(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(f,a,i.__reactInternalSnapshotBeforeUpdate)}catch(y){It(o,o.return,y)}}c&64&&Wm(o),c&512&&ol(o,o.return);break;case 3:if(ui(i,o),c&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{zp(i,a)}catch(y){It(o,o.return,y)}}break;case 27:a===null&&c&4&&Zm(o);case 26:case 5:ui(i,o),a===null&&c&4&&Qm(o),c&512&&ol(o,o.return);break;case 12:ui(i,o);break;case 13:ui(i,o),c&4&&n_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=y1.bind(null,o),I1(i,o))));break;case 22:if(c=o.memoizedState!==null||Un,!c){a=a!==null&&a.memoizedState!==null||ee,f=Un;var p=ee;Un=c,(ee=a)&&!p?hi(i,o,(o.subtreeFlags&8772)!==0):ui(i,o),Un=f,ee=p}break;case 30:break;default:ui(i,o)}}function t_(i){var a=i.alternate;a!==null&&(i.alternate=null,t_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&au(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var qt=null,ke=!1;function jn(i,a,o){for(o=o.child;o!==null;)e_(i,a,o),o=o.sibling}function e_(i,a,o){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(wa,o)}catch{}switch(o.tag){case 26:ee||vn(o,a),jn(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ee||vn(o,a);var c=qt,f=ke;_i(o.type)&&(qt=o.stateNode,ke=!1),jn(i,a,o),ml(o.stateNode),qt=c,ke=f;break;case 5:ee||vn(o,a);case 6:if(c=qt,f=ke,qt=null,jn(i,a,o),qt=c,ke=f,qt!==null)if(ke)try{(qt.nodeType===9?qt.body:qt.nodeName==="HTML"?qt.ownerDocument.body:qt).removeChild(o.stateNode)}catch(p){It(o,a,p)}else try{qt.removeChild(o.stateNode)}catch(p){It(o,a,p)}break;case 18:qt!==null&&(ke?(i=qt,Y_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Tl(i)):Y_(qt,o.stateNode));break;case 4:c=qt,f=ke,qt=o.stateNode.containerInfo,ke=!0,jn(i,a,o),qt=c,ke=f;break;case 0:case 11:case 14:case 15:ee||ci(2,o,a),ee||ci(4,o,a),jn(i,a,o);break;case 1:ee||(vn(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Xm(o,a,c)),jn(i,a,o);break;case 21:jn(i,a,o);break;case 22:ee=(c=ee)||o.memoizedState!==null,jn(i,a,o),ee=c;break;default:jn(i,a,o)}}function n_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Tl(i)}catch(o){It(a,a.return,o)}}function u1(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new $m),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new $m),a;default:throw Error(s(435,i.tag))}}function Mh(i,a){var o=u1(i);a.forEach(function(c){var f=b1.bind(null,i,c);o.has(c)||(o.add(c),c.then(f,f))})}function Fe(i,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,y=a,v=y;t:for(;v!==null;){switch(v.tag){case 27:if(_i(v.type)){qt=v.stateNode,ke=!1;break t}break;case 5:qt=v.stateNode,ke=!1;break t;case 3:case 4:qt=v.stateNode.containerInfo,ke=!0;break t}v=v.return}if(qt===null)throw Error(s(160));e_(p,y,f),qt=null,ke=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)i_(a,i),a=a.sibling}var hn=null;function i_(i,a){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Fe(a,i),qe(i),c&4&&(ci(3,i,i.return),ll(3,i),ci(5,i,i.return));break;case 1:Fe(a,i),qe(i),c&512&&(ee||o===null||vn(o,o.return)),c&64&&Un&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=hn;if(Fe(a,i),qe(i),c&512&&(ee||o===null||vn(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){t:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ra]||p[xe]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),be(p,c,o),p[xe]=i,re(p),c=p;break t;case"link":var y=Z_("link","href",f).get(c+(o.href||""));if(y){for(var v=0;v<y.length;v++)if(p=y[v],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(v,1);break e}}p=f.createElement(c),be(p,c,o),f.head.appendChild(p);break;case"meta":if(y=Z_("meta","content",f).get(c+(o.content||""))){for(v=0;v<y.length;v++)if(p=y[v],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(v,1);break e}}p=f.createElement(c),be(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[xe]=i,re(p),c=p}i.stateNode=c}else $_(f,i.type,i.stateNode);else i.stateNode=K_(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?$_(f,i.type,i.stateNode):K_(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Eh(i,i.memoizedProps,o.memoizedProps)}break;case 27:Fe(a,i),qe(i),c&512&&(ee||o===null||vn(o,o.return)),o!==null&&c&4&&Eh(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Fe(a,i),qe(i),c&512&&(ee||o===null||vn(o,o.return)),i.flags&32){f=i.stateNode;try{Ts(f,"")}catch(k){It(i,i.return,k)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Eh(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Ah=!0);break;case 6:if(Fe(a,i),qe(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(k){It(i,i.return,k)}}break;case 3:if(Rr=null,f=hn,hn=Dr(a.containerInfo),Fe(a,i),hn=f,qe(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Tl(a.containerInfo)}catch(k){It(i,i.return,k)}Ah&&(Ah=!1,s_(i));break;case 4:c=hn,hn=Dr(i.stateNode.containerInfo),Fe(a,i),qe(i),hn=c;break;case 12:Fe(a,i),qe(i);break;case 13:Fe(a,i),qe(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kh=_n()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 22:f=i.memoizedState!==null;var T=o!==null&&o.memoizedState!==null,O=Un,H=ee;if(Un=O||f,ee=H||T,Fe(a,i),ee=H,Un=O,qe(i),c&8192)t:for(a=i.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||T||Un||ee||Ki(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){T=o=a;try{if(p=T.stateNode,f)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=T.stateNode;var j=T.memoizedProps.style,R=j!=null&&j.hasOwnProperty("display")?j.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(k){It(T,T.return,k)}}}else if(a.tag===6){if(o===null){T=a;try{T.stateNode.nodeValue=f?"":T.memoizedProps}catch(k){It(T,T.return,k)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(i,o))));break;case 19:Fe(a,i),qe(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 30:break;case 21:break;default:Fe(a,i),qe(i)}}function qe(i){var a=i.flags;if(a&2){try{for(var o,c=i.return;c!==null;){if(Km(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Th(i);mr(i,p,f);break;case 5:var y=o.stateNode;o.flags&32&&(Ts(y,""),o.flags&=-33);var v=Th(i);mr(i,v,y);break;case 3:case 4:var T=o.stateNode.containerInfo,O=Th(i);Ch(i,O,T);break;default:throw Error(s(161))}}catch(H){It(i,i.return,H)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function s_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;s_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function ui(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Jm(i,a.alternate,a),a=a.sibling}function Ki(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:ci(4,a,a.return),Ki(a);break;case 1:vn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Xm(a,a.return,o),Ki(a);break;case 27:ml(a.stateNode);case 26:case 5:vn(a,a.return),Ki(a);break;case 22:a.memoizedState===null&&Ki(a);break;case 30:Ki(a);break;default:Ki(a)}i=i.sibling}}function hi(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=i,p=a,y=p.flags;switch(p.tag){case 0:case 11:case 15:hi(f,p,o),ll(4,p);break;case 1:if(hi(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){It(c,c.return,O)}if(c=p,f=c.updateQueue,f!==null){var v=c.stateNode;try{var T=f.shared.hiddenCallbacks;if(T!==null)for(f.shared.hiddenCallbacks=null,f=0;f<T.length;f++)kp(T[f],v)}catch(O){It(c,c.return,O)}}o&&y&64&&Wm(p),ol(p,p.return);break;case 27:Zm(p);case 26:case 5:hi(f,p,o),o&&c===null&&y&4&&Qm(p),ol(p,p.return);break;case 12:hi(f,p,o);break;case 13:hi(f,p,o),o&&y&4&&n_(f,p);break;case 22:p.memoizedState===null&&hi(f,p,o),ol(p,p.return);break;case 30:break;default:hi(f,p,o)}a=a.sibling}}function wh(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Ga(o))}function Dh(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ga(i))}function Sn(i,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)a_(i,a,o,c),a=a.sibling}function a_(i,a,o,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:Sn(i,a,o,c),f&2048&&ll(9,a);break;case 1:Sn(i,a,o,c);break;case 3:Sn(i,a,o,c),f&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Ga(i)));break;case 12:if(f&2048){Sn(i,a,o,c),i=a.stateNode;try{var p=a.memoizedProps,y=p.id,v=p.onPostCommit;typeof v=="function"&&v(y,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(T){It(a,a.return,T)}}else Sn(i,a,o,c);break;case 13:Sn(i,a,o,c);break;case 23:break;case 22:p=a.stateNode,y=a.alternate,a.memoizedState!==null?p._visibility&2?Sn(i,a,o,c):rl(i,a):p._visibility&2?Sn(i,a,o,c):(p._visibility|=2,Ys(i,a,o,c,(a.subtreeFlags&10256)!==0)),f&2048&&wh(y,a);break;case 24:Sn(i,a,o,c),f&2048&&Dh(a.alternate,a);break;default:Sn(i,a,o,c)}}function Ys(i,a,o,c,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=i,y=a,v=o,T=c,O=y.flags;switch(y.tag){case 0:case 11:case 15:Ys(p,y,v,T,f),ll(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&2?Ys(p,y,v,T,f):rl(p,y):(H._visibility|=2,Ys(p,y,v,T,f)),f&&O&2048&&wh(y.alternate,y);break;case 24:Ys(p,y,v,T,f),f&&O&2048&&Dh(y.alternate,y);break;default:Ys(p,y,v,T,f)}a=a.sibling}}function rl(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,c=a,f=c.flags;switch(c.tag){case 22:rl(o,c),f&2048&&wh(c.alternate,c);break;case 24:rl(o,c),f&2048&&Dh(c.alternate,c);break;default:rl(o,c)}a=a.sibling}}var cl=8192;function Fs(i){if(i.subtreeFlags&cl)for(i=i.child;i!==null;)l_(i),i=i.sibling}function l_(i){switch(i.tag){case 26:Fs(i),i.flags&cl&&i.memoizedState!==null&&Q1(hn,i.memoizedState,i.memoizedProps);break;case 5:Fs(i);break;case 3:case 4:var a=hn;hn=Dr(i.stateNode.containerInfo),Fs(i),hn=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=cl,cl=16777216,Fs(i),cl=a):Fs(i));break;default:Fs(i)}}function o_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function ul(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];ue=c,c_(c,i)}o_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(i),i=i.sibling}function r_(i){switch(i.tag){case 0:case 11:case 15:ul(i),i.flags&2048&&ci(9,i,i.return);break;case 3:ul(i);break;case 12:ul(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,_r(i)):ul(i);break;default:ul(i)}}function _r(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];ue=c,c_(c,i)}o_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:ci(8,a,a.return),_r(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,_r(a));break;default:_r(a)}i=i.sibling}}function c_(i,a){for(;ue!==null;){var o=ue;switch(o.tag){case 0:case 11:case 15:ci(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ga(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ue=c;else t:for(o=i;ue!==null;){c=ue;var f=c.sibling,p=c.return;if(t_(c),c===o){ue=null;break t}if(f!==null){f.return=p,ue=f;break t}ue=p}}}var h1={getCacheForType:function(i){var a=Ee(ae),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},f1=typeof WeakMap=="function"?WeakMap:Map,wt=0,Ht=null,bt=null,Et=0,Dt=0,Ge=null,fi=!1,qs=!1,Oh=!1,Pn=0,Qt=0,di=0,Zi=0,Rh=0,nn=0,Gs=0,hl=null,ze=null,Nh=!1,kh=0,yr=1/0,br=null,gi=null,ye=0,pi=null,Ws=null,Xs=0,zh=0,Lh=null,u_=null,fl=0,Ih=null;function We(){if((wt&2)!==0&&Et!==0)return Et&-Et;if(N.T!==null){var i=Ls;return i!==0?i:Yh()}return Ag()}function h_(){nn===0&&(nn=(Et&536870912)===0||At?xg():536870912);var i=en.current;return i!==null&&(i.flags|=32),nn}function Xe(i,a,o){(i===Ht&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)&&(Qs(i,0),mi(i,Et,nn,!1)),Oa(i,o),((wt&2)===0||i!==Ht)&&(i===Ht&&((wt&2)===0&&(Zi|=o),Qt===4&&mi(i,Et,nn,!1)),xn(i))}function f_(i,a,o){if((wt&6)!==0)throw Error(s(327));var c=!o&&(a&124)===0&&(a&i.expiredLanes)===0||Da(i,a),f=c?p1(i,a):Uh(i,a,!0),p=c;do{if(f===0){qs&&!c&&mi(i,a,0,!1);break}else{if(o=i.current.alternate,p&&!d1(o)){f=Uh(i,a,!1),p=!1;continue}if(f===2){if(p=a,i.errorRecoveryDisabledLanes&p)var y=0;else y=i.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;t:{var v=i;f=hl;var T=v.current.memoizedState.isDehydrated;if(T&&(Qs(v,y).flags|=256),y=Uh(v,y,!1),y!==2){if(Oh&&!T){v.errorRecoveryDisabledLanes|=p,Zi|=p,f=4;break t}p=ze,ze=f,p!==null&&(ze===null?ze=p:ze.push.apply(ze,p))}f=y}if(p=!1,f!==2)continue}}if(f===1){Qs(i,0),mi(i,a,0,!0);break}t:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:mi(c,a,nn,!fi);break t;case 2:ze=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(f=kh+300-_n(),10<f)){if(mi(c,a,nn,!fi),Oo(c,0,!0)!==0)break t;c.timeoutHandle=P_(d_.bind(null,c,o,ze,br,Nh,a,nn,Zi,Gs,fi,p,2,-0,0),f);break t}d_(c,o,ze,br,Nh,a,nn,Zi,Gs,fi,p,0,-0,0)}}break}while(!0);xn(i)}function d_(i,a,o,c,f,p,y,v,T,O,H,j,R,k){if(i.timeoutHandle=-1,j=a.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(bl={stylesheets:null,count:0,unsuspend:X1},l_(a),j=K1(),j!==null)){i.cancelPendingCommit=j(v_.bind(null,i,a,p,o,c,f,y,v,T,H,1,R,k)),mi(i,p,y,!O);return}v_(i,a,p,o,c,f,y,v,T)}function d1(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Ve(p(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mi(i,a,o,c){a&=~Rh,a&=~Zi,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var f=a;0<f;){var p=31-Pe(f),y=1<<p;c[p]=-1,f&=~y}o!==0&&Tg(i,o,a)}function vr(){return(wt&6)===0?(dl(0),!1):!0}function Hh(){if(bt!==null){if(Dt===0)var i=bt.return;else i=bt,kn=qi=null,th(i),Ps=null,il=0,i=bt;for(;i!==null;)Gm(i.alternate,i),i=i.return;bt=null}}function Qs(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,R1(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Hh(),Ht=i,bt=o=On(i.current,null),Et=a,Dt=0,Ge=null,fi=!1,qs=Da(i,a),Oh=!1,Gs=nn=Rh=Zi=di=Qt=0,ze=hl=null,Nh=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var f=31-Pe(c),p=1<<f;a|=i[f],c&=~p}return Pn=a,Vo(),o}function g_(i,a){pt=null,N.H=or,a===Xa||a===Zo?(a=Rp(),Dt=3):a===wp?(a=Rp(),Dt=4):Dt=a===Nm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ge=a,bt===null&&(Qt=1,fr(i,Ze(a,i.current)))}function p_(){var i=N.H;return N.H=or,i===null?or:i}function m_(){var i=N.A;return N.A=h1,i}function Bh(){Qt=4,fi||(Et&4194048)!==Et&&en.current!==null||(qs=!0),(di&134217727)===0&&(Zi&134217727)===0||Ht===null||mi(Ht,Et,nn,!1)}function Uh(i,a,o){var c=wt;wt|=2;var f=p_(),p=m_();(Ht!==i||Et!==a)&&(br=null,Qs(i,a)),a=!1;var y=Qt;t:do try{if(Dt!==0&&bt!==null){var v=bt,T=Ge;switch(Dt){case 8:Hh(),y=6;break t;case 3:case 2:case 9:case 6:en.current===null&&(a=!0);var O=Dt;if(Dt=0,Ge=null,Ks(i,v,T,O),o&&qs){y=0;break t}break;default:O=Dt,Dt=0,Ge=null,Ks(i,v,T,O)}}g1(),y=Qt;break}catch(H){g_(i,H)}while(!0);return a&&i.shellSuspendCounter++,kn=qi=null,wt=c,N.H=f,N.A=p,bt===null&&(Ht=null,Et=0,Vo()),y}function g1(){for(;bt!==null;)__(bt)}function p1(i,a){var o=wt;wt|=2;var c=p_(),f=m_();Ht!==i||Et!==a?(br=null,yr=_n()+500,Qs(i,a)):qs=Da(i,a);t:do try{if(Dt!==0&&bt!==null){a=bt;var p=Ge;e:switch(Dt){case 1:Dt=0,Ge=null,Ks(i,a,p,1);break;case 2:case 9:if(Dp(p)){Dt=0,Ge=null,y_(a);break}a=function(){Dt!==2&&Dt!==9||Ht!==i||(Dt=7),xn(i)},p.then(a,a);break t;case 3:Dt=7;break t;case 4:Dt=5;break t;case 7:Dp(p)?(Dt=0,Ge=null,y_(a)):(Dt=0,Ge=null,Ks(i,a,p,7));break;case 5:var y=null;switch(bt.tag){case 26:y=bt.memoizedState;case 5:case 27:var v=bt;if(!y||J_(y)){Dt=0,Ge=null;var T=v.sibling;if(T!==null)bt=T;else{var O=v.return;O!==null?(bt=O,Sr(O)):bt=null}break e}}Dt=0,Ge=null,Ks(i,a,p,5);break;case 6:Dt=0,Ge=null,Ks(i,a,p,6);break;case 8:Hh(),Qt=6;break t;default:throw Error(s(462))}}m1();break}catch(H){g_(i,H)}while(!0);return kn=qi=null,N.H=c,N.A=f,wt=o,bt!==null?0:(Ht=null,Et=0,Vo(),Qt)}function m1(){for(;bt!==null&&!BS();)__(bt)}function __(i){var a=Fm(i.alternate,i,Pn);i.memoizedProps=i.pendingProps,a===null?Sr(i):bt=a}function y_(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=Bm(o,a,a.pendingProps,a.type,void 0,Et);break;case 11:a=Bm(o,a,a.pendingProps,a.type.render,a.ref,Et);break;case 5:th(a);default:Gm(o,a),a=bt=bp(a,Pn),a=Fm(o,a,Pn)}i.memoizedProps=i.pendingProps,a===null?Sr(i):bt=a}function Ks(i,a,o,c){kn=qi=null,th(a),Ps=null,il=0;var f=a.return;try{if(a1(i,f,a,o,Et)){Qt=1,fr(i,Ze(o,i.current)),bt=null;return}}catch(p){if(f!==null)throw bt=f,p;Qt=1,fr(i,Ze(o,i.current)),bt=null;return}a.flags&32768?(At||c===1?i=!0:qs||(Et&536870912)!==0?i=!1:(fi=i=!0,(c===2||c===9||c===3||c===6)&&(c=en.current,c!==null&&c.tag===13&&(c.flags|=16384))),b_(a,i)):Sr(a)}function Sr(i){var a=i;do{if((a.flags&32768)!==0){b_(a,fi);return}i=a.return;var o=o1(a.alternate,a,Pn);if(o!==null){bt=o;return}if(a=a.sibling,a!==null){bt=a;return}bt=a=i}while(a!==null);Qt===0&&(Qt=5)}function b_(i,a){do{var o=r1(i.alternate,i);if(o!==null){o.flags&=32767,bt=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){bt=i;return}bt=i=o}while(i!==null);Qt=6,bt=null}function v_(i,a,o,c,f,p,y,v,T){i.cancelPendingCommit=null;do xr();while(ye!==0);if((wt&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=Du,XS(i,o,p,y,v,T),i===Ht&&(bt=Ht=null,Et=0),Ws=a,pi=i,Xs=o,zh=p,Lh=f,u_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,v1(Mo,function(){return C_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=N.T,N.T=null,f=V.p,V.p=2,y=wt,wt|=4;try{c1(i,a,o)}finally{wt=y,V.p=f,N.T=c}}ye=1,S_(),x_(),E_()}}function S_(){if(ye===1){ye=0;var i=pi,a=Ws,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=N.T,N.T=null;var c=V.p;V.p=2;var f=wt;wt|=4;try{i_(a,i);var p=Zh,y=cp(i.containerInfo),v=p.focusedElem,T=p.selectionRange;if(y!==v&&v&&v.ownerDocument&&rp(v.ownerDocument.documentElement,v)){if(T!==null&&Tu(v)){var O=T.start,H=T.end;if(H===void 0&&(H=O),"selectionStart"in v)v.selectionStart=O,v.selectionEnd=Math.min(H,v.value.length);else{var j=v.ownerDocument||document,R=j&&j.defaultView||window;if(R.getSelection){var k=R.getSelection(),ht=v.textContent.length,ot=Math.min(T.start,ht),kt=T.end===void 0?ot:Math.min(T.end,ht);!k.extend&&ot>kt&&(y=kt,kt=ot,ot=y);var w=op(v,ot),M=op(v,kt);if(w&&M&&(k.rangeCount!==1||k.anchorNode!==w.node||k.anchorOffset!==w.offset||k.focusNode!==M.node||k.focusOffset!==M.offset)){var D=j.createRange();D.setStart(w.node,w.offset),k.removeAllRanges(),ot>kt?(k.addRange(D),k.extend(M.node,M.offset)):(D.setEnd(M.node,M.offset),k.addRange(D))}}}}for(j=[],k=v;k=k.parentNode;)k.nodeType===1&&j.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<j.length;v++){var U=j[v];U.element.scrollLeft=U.left,U.element.scrollTop=U.top}}zr=!!Kh,Zh=Kh=null}finally{wt=f,V.p=c,N.T=o}}i.current=a,ye=2}}function x_(){if(ye===2){ye=0;var i=pi,a=Ws,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=N.T,N.T=null;var c=V.p;V.p=2;var f=wt;wt|=4;try{Jm(i,a.alternate,a)}finally{wt=f,V.p=c,N.T=o}}ye=3}}function E_(){if(ye===4||ye===3){ye=0,US();var i=pi,a=Ws,o=Xs,c=u_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?ye=5:(ye=0,Ws=pi=null,T_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(gi=null),iu(o),a=a.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(wa,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=N.T,f=V.p,V.p=2,N.T=null;try{for(var p=i.onRecoverableError,y=0;y<c.length;y++){var v=c[y];p(v.value,{componentStack:v.stack})}}finally{N.T=a,V.p=f}}(Xs&3)!==0&&xr(),xn(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Ih?fl++:(fl=0,Ih=i):fl=0,dl(0)}}function T_(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Ga(a)))}function xr(i){return S_(),x_(),E_(),C_()}function C_(){if(ye!==5)return!1;var i=pi,a=zh;zh=0;var o=iu(Xs),c=N.T,f=V.p;try{V.p=32>o?32:o,N.T=null,o=Lh,Lh=null;var p=pi,y=Xs;if(ye=0,Ws=pi=null,Xs=0,(wt&6)!==0)throw Error(s(331));var v=wt;if(wt|=4,r_(p.current),a_(p,p.current,y,o),wt=v,dl(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(wa,p)}catch{}return!0}finally{V.p=f,N.T=c,T_(i,a)}}function A_(i,a,o){a=Ze(o,a),a=gh(i.stateNode,a,2),i=ai(i,a,2),i!==null&&(Oa(i,2),xn(i))}function It(i,a,o){if(i.tag===3)A_(i,i,o);else for(;a!==null;){if(a.tag===3){A_(a,i,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gi===null||!gi.has(c))){i=Ze(o,i),o=Om(2),c=ai(a,o,2),c!==null&&(Rm(o,c,a,i),Oa(c,2),xn(c));break}}a=a.return}}function jh(i,a,o){var c=i.pingCache;if(c===null){c=i.pingCache=new f1;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(o)||(Oh=!0,f.add(o),i=_1.bind(null,i,a,o),a.then(i,i))}function _1(i,a,o){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,Ht===i&&(Et&o)===o&&(Qt===4||Qt===3&&(Et&62914560)===Et&&300>_n()-kh?(wt&2)===0&&Qs(i,0):Rh|=o,Gs===Et&&(Gs=0)),xn(i)}function M_(i,a){a===0&&(a=Eg()),i=Rs(i,a),i!==null&&(Oa(i,a),xn(i))}function y1(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),M_(i,o)}function b1(i,a){var o=0;switch(i.tag){case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),M_(i,o)}function v1(i,a){return Jc(i,a)}var Er=null,Zs=null,Ph=!1,Tr=!1,Vh=!1,$i=0;function xn(i){i!==Zs&&i.next===null&&(Zs===null?Er=Zs=i:Zs=Zs.next=i),Tr=!0,Ph||(Ph=!0,x1())}function dl(i,a){if(!Vh&&Tr){Vh=!0;do for(var o=!1,c=Er;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var y=c.suspendedLanes,v=c.pingedLanes;p=(1<<31-Pe(42|i)+1)-1,p&=f&~(y&~v),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,R_(c,p))}else p=Et,p=Oo(c,c===Ht?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Da(c,p)||(o=!0,R_(c,p));c=c.next}while(o);Vh=!1}}function S1(){w_()}function w_(){Tr=Ph=!1;var i=0;$i!==0&&(O1()&&(i=$i),$i=0);for(var a=_n(),o=null,c=Er;c!==null;){var f=c.next,p=D_(c,a);p===0?(c.next=null,o===null?Er=f:o.next=f,f===null&&(Zs=o)):(o=c,(i!==0||(p&3)!==0)&&(Tr=!0)),c=f}dl(i)}function D_(i,a){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var y=31-Pe(p),v=1<<y,T=f[y];T===-1?((v&o)===0||(v&c)!==0)&&(f[y]=WS(v,a)):T<=a&&(i.expiredLanes|=v),p&=~v}if(a=Ht,o=Et,o=Oo(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===a&&(Dt===2||Dt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&tu(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||Da(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(c!==null&&tu(c),iu(o)){case 2:case 8:o=vg;break;case 32:o=Mo;break;case 268435456:o=Sg;break;default:o=Mo}return c=O_.bind(null,i),o=Jc(o,c),i.callbackPriority=a,i.callbackNode=o,a}return c!==null&&c!==null&&tu(c),i.callbackPriority=2,i.callbackNode=null,2}function O_(i,a){if(ye!==0&&ye!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(xr()&&i.callbackNode!==o)return null;var c=Et;return c=Oo(i,i===Ht?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(f_(i,c,a),D_(i,_n()),i.callbackNode!=null&&i.callbackNode===o?O_.bind(null,i):null)}function R_(i,a){if(xr())return null;f_(i,a,!0)}function x1(){N1(function(){(wt&6)!==0?Jc(bg,S1):w_()})}function Yh(){return $i===0&&($i=xg()),$i}function N_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Lo(""+i)}function k_(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function E1(i,a,o,c,f){if(a==="submit"&&o&&o.stateNode===f){var p=N_((f[Oe]||null).action),y=c.submitter;y&&(a=(a=y[Oe]||null)?N_(a.formAction):y.getAttribute("formAction"),a!==null&&(p=a,y=null));var v=new Uo("action","action",null,c,f);i.push({event:v,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if($i!==0){var T=y?k_(f,y):new FormData(f);ch(o,{pending:!0,data:T,method:f.method,action:p},null,T)}}else typeof p=="function"&&(v.preventDefault(),T=y?k_(f,y):new FormData(f),ch(o,{pending:!0,data:T,method:f.method,action:p},p,T))},currentTarget:f}]})}}for(var Fh=0;Fh<wu.length;Fh++){var qh=wu[Fh],T1=qh.toLowerCase(),C1=qh[0].toUpperCase()+qh.slice(1);un(T1,"on"+C1)}un(fp,"onAnimationEnd"),un(dp,"onAnimationIteration"),un(gp,"onAnimationStart"),un("dblclick","onDoubleClick"),un("focusin","onFocus"),un("focusout","onBlur"),un(Vx,"onTransitionRun"),un(Yx,"onTransitionStart"),un(Fx,"onTransitionCancel"),un(pp,"onTransitionEnd"),Ss("onMouseEnter",["mouseout","mouseover"]),Ss("onMouseLeave",["mouseout","mouseover"]),Ss("onPointerEnter",["pointerout","pointerover"]),Ss("onPointerLeave",["pointerout","pointerover"]),Ii("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ii("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ii("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ii("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ii("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gl));function z_(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var y=c.length-1;0<=y;y--){var v=c[y],T=v.instance,O=v.currentTarget;if(v=v.listener,T!==p&&f.isPropagationStopped())break t;p=v,f.currentTarget=O;try{p(f)}catch(H){hr(H)}f.currentTarget=null,p=T}else for(y=0;y<c.length;y++){if(v=c[y],T=v.instance,O=v.currentTarget,v=v.listener,T!==p&&f.isPropagationStopped())break t;p=v,f.currentTarget=O;try{p(f)}catch(H){hr(H)}f.currentTarget=null,p=T}}}}function vt(i,a){var o=a[su];o===void 0&&(o=a[su]=new Set);var c=i+"__bubble";o.has(c)||(L_(a,i,2,!1),o.add(c))}function Gh(i,a,o){var c=0;a&&(c|=4),L_(o,i,c,a)}var Cr="_reactListening"+Math.random().toString(36).slice(2);function Wh(i){if(!i[Cr]){i[Cr]=!0,wg.forEach(function(o){o!=="selectionchange"&&(A1.has(o)||Gh(o,!1,i),Gh(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Cr]||(a[Cr]=!0,Gh("selectionchange",!1,a))}}function L_(i,a,o,c){switch(ay(a)){case 2:var f=J1;break;case 8:f=tE;break;default:f=rf}o=f.bind(null,a,o,i),f=void 0,!pu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(a,o,{capture:!0,passive:f}):i.addEventListener(a,o,!0):f!==void 0?i.addEventListener(a,o,{passive:f}):i.addEventListener(a,o,!1)}function Xh(i,a,o,c,f){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var v=c.stateNode.containerInfo;if(v===f)break;if(y===4)for(y=c.return;y!==null;){var T=y.tag;if((T===3||T===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;v!==null;){if(y=ys(v),y===null)return;if(T=y.tag,T===5||T===6||T===26||T===27){c=p=y;continue t}v=v.parentNode}}c=c.return}Vg(function(){var O=p,H=du(o),j=[];t:{var R=mp.get(i);if(R!==void 0){var k=Uo,ht=i;switch(i){case"keypress":if(Ho(o)===0)break t;case"keydown":case"keyup":k=vx;break;case"focusin":ht="focus",k=bu;break;case"focusout":ht="blur",k=bu;break;case"beforeblur":case"afterblur":k=bu;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Ex;break;case fp:case dp:case gp:k=hx;break;case pp:k=Cx;break;case"scroll":case"scrollend":k=lx;break;case"wheel":k=Mx;break;case"copy":case"cut":case"paste":k=dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Wg;break;case"toggle":case"beforetoggle":k=Dx}var ot=(a&4)!==0,kt=!ot&&(i==="scroll"||i==="scrollend"),w=ot?R!==null?R+"Capture":null:R;ot=[];for(var M=O,D;M!==null;){var U=M;if(D=U.stateNode,U=U.tag,U!==5&&U!==26&&U!==27||D===null||w===null||(U=ka(M,w),U!=null&&ot.push(pl(M,U,D))),kt)break;M=M.return}0<ot.length&&(R=new k(R,ht,null,o,H),j.push({event:R,listeners:ot}))}}if((a&7)===0){t:{if(R=i==="mouseover"||i==="pointerover",k=i==="mouseout"||i==="pointerout",R&&o!==fu&&(ht=o.relatedTarget||o.fromElement)&&(ys(ht)||ht[_s]))break t;if((k||R)&&(R=H.window===H?H:(R=H.ownerDocument)?R.defaultView||R.parentWindow:window,k?(ht=o.relatedTarget||o.toElement,k=O,ht=ht?ys(ht):null,ht!==null&&(kt=r(ht),ot=ht.tag,ht!==kt||ot!==5&&ot!==27&&ot!==6)&&(ht=null)):(k=null,ht=O),k!==ht)){if(ot=qg,U="onMouseLeave",w="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(ot=Wg,U="onPointerLeave",w="onPointerEnter",M="pointer"),kt=k==null?R:Na(k),D=ht==null?R:Na(ht),R=new ot(U,M+"leave",k,o,H),R.target=kt,R.relatedTarget=D,U=null,ys(H)===O&&(ot=new ot(w,M+"enter",ht,o,H),ot.target=D,ot.relatedTarget=kt,U=ot),kt=U,k&&ht)e:{for(ot=k,w=ht,M=0,D=ot;D;D=$s(D))M++;for(D=0,U=w;U;U=$s(U))D++;for(;0<M-D;)ot=$s(ot),M--;for(;0<D-M;)w=$s(w),D--;for(;M--;){if(ot===w||w!==null&&ot===w.alternate)break e;ot=$s(ot),w=$s(w)}ot=null}else ot=null;k!==null&&I_(j,R,k,ot,!1),ht!==null&&kt!==null&&I_(j,kt,ht,ot,!0)}}t:{if(R=O?Na(O):window,k=R.nodeName&&R.nodeName.toLowerCase(),k==="select"||k==="input"&&R.type==="file")var J=ep;else if(Jg(R))if(np)J=Ux;else{J=Hx;var mt=Ix}else k=R.nodeName,!k||k.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&hu(O.elementType)&&(J=ep):J=Bx;if(J&&(J=J(i,O))){tp(j,J,o,H);break t}mt&&mt(i,R,O),i==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&uu(R,"number",R.value)}switch(mt=O?Na(O):window,i){case"focusin":(Jg(mt)||mt.contentEditable==="true")&&(ws=mt,Cu=O,Pa=null);break;case"focusout":Pa=Cu=ws=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,up(j,o,H);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":up(j,o,H)}var et;if(Su)t:{switch(i){case"compositionstart":var rt="onCompositionStart";break t;case"compositionend":rt="onCompositionEnd";break t;case"compositionupdate":rt="onCompositionUpdate";break t}rt=void 0}else Ms?Zg(i,o)&&(rt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(Xg&&o.locale!=="ko"&&(Ms||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Ms&&(et=Yg()):(ei=H,mu="value"in ei?ei.value:ei.textContent,Ms=!0)),mt=Ar(O,rt),0<mt.length&&(rt=new Gg(rt,i,null,o,H),j.push({event:rt,listeners:mt}),et?rt.data=et:(et=$g(o),et!==null&&(rt.data=et)))),(et=Rx?Nx(i,o):kx(i,o))&&(rt=Ar(O,"onBeforeInput"),0<rt.length&&(mt=new Gg("onBeforeInput","beforeinput",null,o,H),j.push({event:mt,listeners:rt}),mt.data=et)),E1(j,i,O,o,H)}z_(j,a)})}function pl(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Ar(i,a){for(var o=a+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=ka(i,o),f!=null&&c.unshift(pl(i,f,p)),f=ka(i,a),f!=null&&c.push(pl(i,f,p))),i.tag===3)return c;i=i.return}return[]}function $s(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function I_(i,a,o,c,f){for(var p=a._reactName,y=[];o!==null&&o!==c;){var v=o,T=v.alternate,O=v.stateNode;if(v=v.tag,T!==null&&T===c)break;v!==5&&v!==26&&v!==27||O===null||(T=O,f?(O=ka(o,p),O!=null&&y.unshift(pl(o,O,T))):f||(O=ka(o,p),O!=null&&y.push(pl(o,O,T)))),o=o.return}y.length!==0&&i.push({event:a,listeners:y})}var M1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function H_(i){return(typeof i=="string"?i:""+i).replace(M1,`
`).replace(w1,"")}function B_(i,a){return a=H_(a),H_(i)===a}function Mr(){}function Nt(i,a,o,c,f,p){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ts(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ts(i,""+c);break;case"className":No(i,"class",c);break;case"tabIndex":No(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":No(i,o,c);break;case"style":jg(i,c,p);break;case"data":if(a!=="object"){No(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Lo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&Nt(i,a,"name",f.name,f,null),Nt(i,a,"formEncType",f.formEncType,f,null),Nt(i,a,"formMethod",f.formMethod,f,null),Nt(i,a,"formTarget",f.formTarget,f,null)):(Nt(i,a,"encType",f.encType,f,null),Nt(i,a,"method",f.method,f,null),Nt(i,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Lo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Mr);break;case"onScroll":c!=null&&vt("scroll",i);break;case"onScrollEnd":c!=null&&vt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Lo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":vt("beforetoggle",i),vt("toggle",i),Ro(i,"popover",c);break;case"xlinkActuate":wn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":wn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":wn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":wn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":wn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":wn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":wn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":wn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":wn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ro(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sx.get(o)||o,Ro(i,o,c))}}function Qh(i,a,o,c,f,p){switch(o){case"style":jg(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Ts(i,c):(typeof c=="number"||typeof c=="bigint")&&Ts(i,""+c);break;case"onScroll":c!=null&&vt("scroll",i);break;case"onScrollEnd":c!=null&&vt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Mr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dg.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),p=i[Oe]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(a,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,c,f);break t}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Ro(i,o,c)}}}function be(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":vt("error",i),vt("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var y=o[p];if(y!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Nt(i,a,p,y,o,null)}}f&&Nt(i,a,"srcSet",o.srcSet,o,null),c&&Nt(i,a,"src",o.src,o,null);return;case"input":vt("invalid",i);var v=p=y=f=null,T=null,O=null;for(c in o)if(o.hasOwnProperty(c)){var H=o[c];if(H!=null)switch(c){case"name":f=H;break;case"type":y=H;break;case"checked":T=H;break;case"defaultChecked":O=H;break;case"value":p=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,a));break;default:Nt(i,a,c,H,o,null)}}Ig(i,p,v,T,O,y,f,!1),ko(i);return;case"select":vt("invalid",i),c=y=p=null;for(f in o)if(o.hasOwnProperty(f)&&(v=o[f],v!=null))switch(f){case"value":p=v;break;case"defaultValue":y=v;break;case"multiple":c=v;default:Nt(i,a,f,v,o,null)}a=p,o=y,i.multiple=!!c,a!=null?Es(i,!!c,a,!1):o!=null&&Es(i,!!c,o,!0);return;case"textarea":vt("invalid",i),p=f=c=null;for(y in o)if(o.hasOwnProperty(y)&&(v=o[y],v!=null))switch(y){case"value":c=v;break;case"defaultValue":f=v;break;case"children":p=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:Nt(i,a,y,v,o,null)}Bg(i,c,f,p),ko(i);return;case"option":for(T in o)if(o.hasOwnProperty(T)&&(c=o[T],c!=null))switch(T){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:Nt(i,a,T,c,o,null)}return;case"dialog":vt("beforetoggle",i),vt("toggle",i),vt("cancel",i),vt("close",i);break;case"iframe":case"object":vt("load",i);break;case"video":case"audio":for(c=0;c<gl.length;c++)vt(gl[c],i);break;case"image":vt("error",i),vt("load",i);break;case"details":vt("toggle",i);break;case"embed":case"source":case"link":vt("error",i),vt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:Nt(i,a,O,c,o,null)}return;default:if(hu(a)){for(H in o)o.hasOwnProperty(H)&&(c=o[H],c!==void 0&&Qh(i,a,H,c,o,void 0));return}}for(v in o)o.hasOwnProperty(v)&&(c=o[v],c!=null&&Nt(i,a,v,c,o,null))}function D1(i,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,y=null,v=null,T=null,O=null,H=null;for(k in o){var j=o[k];if(o.hasOwnProperty(k)&&j!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":T=j;default:c.hasOwnProperty(k)||Nt(i,a,k,null,c,j)}}for(var R in c){var k=c[R];if(j=o[R],c.hasOwnProperty(R)&&(k!=null||j!=null))switch(R){case"type":p=k;break;case"name":f=k;break;case"checked":O=k;break;case"defaultChecked":H=k;break;case"value":y=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,a));break;default:k!==j&&Nt(i,a,R,k,c,j)}}cu(i,y,v,T,O,H,p,f);return;case"select":k=y=v=R=null;for(p in o)if(T=o[p],o.hasOwnProperty(p)&&T!=null)switch(p){case"value":break;case"multiple":k=T;default:c.hasOwnProperty(p)||Nt(i,a,p,null,c,T)}for(f in c)if(p=c[f],T=o[f],c.hasOwnProperty(f)&&(p!=null||T!=null))switch(f){case"value":R=p;break;case"defaultValue":v=p;break;case"multiple":y=p;default:p!==T&&Nt(i,a,f,p,c,T)}a=v,o=y,c=k,R!=null?Es(i,!!o,R,!1):!!c!=!!o&&(a!=null?Es(i,!!o,a,!0):Es(i,!!o,o?[]:"",!1));return;case"textarea":k=R=null;for(v in o)if(f=o[v],o.hasOwnProperty(v)&&f!=null&&!c.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Nt(i,a,v,null,c,f)}for(y in c)if(f=c[y],p=o[y],c.hasOwnProperty(y)&&(f!=null||p!=null))switch(y){case"value":R=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&Nt(i,a,y,f,c,p)}Hg(i,R,k);return;case"option":for(var ht in o)if(R=o[ht],o.hasOwnProperty(ht)&&R!=null&&!c.hasOwnProperty(ht))switch(ht){case"selected":i.selected=!1;break;default:Nt(i,a,ht,null,c,R)}for(T in c)if(R=c[T],k=o[T],c.hasOwnProperty(T)&&R!==k&&(R!=null||k!=null))switch(T){case"selected":i.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:Nt(i,a,T,R,c,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in o)R=o[ot],o.hasOwnProperty(ot)&&R!=null&&!c.hasOwnProperty(ot)&&Nt(i,a,ot,null,c,R);for(O in c)if(R=c[O],k=o[O],c.hasOwnProperty(O)&&R!==k&&(R!=null||k!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,a));break;default:Nt(i,a,O,R,c,k)}return;default:if(hu(a)){for(var kt in o)R=o[kt],o.hasOwnProperty(kt)&&R!==void 0&&!c.hasOwnProperty(kt)&&Qh(i,a,kt,void 0,c,R);for(H in c)R=c[H],k=o[H],!c.hasOwnProperty(H)||R===k||R===void 0&&k===void 0||Qh(i,a,H,R,c,k);return}}for(var w in o)R=o[w],o.hasOwnProperty(w)&&R!=null&&!c.hasOwnProperty(w)&&Nt(i,a,w,null,c,R);for(j in c)R=c[j],k=o[j],!c.hasOwnProperty(j)||R===k||R==null&&k==null||Nt(i,a,j,R,c,k)}var Kh=null,Zh=null;function wr(i){return i.nodeType===9?i:i.ownerDocument}function U_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function $h(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jh=null;function O1(){var i=window.event;return i&&i.type==="popstate"?i===Jh?!1:(Jh=i,!0):(Jh=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(i){return V_.resolve(null).then(i).catch(k1)}:P_;function k1(i){setTimeout(function(){throw i})}function _i(i){return i==="head"}function Y_(i,a){var o=a,c=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<c&&8>c){o=c;var y=i.ownerDocument;if(o&1&&ml(y.documentElement),o&2&&ml(y.body),o&4)for(o=y.head,ml(o),y=o.firstChild;y;){var v=y.nextSibling,T=y.nodeName;y[Ra]||T==="SCRIPT"||T==="STYLE"||T==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=v}}if(f===0){i.removeChild(p),Tl(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=p}while(o);Tl(a)}function tf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":tf(o),au(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function z1(i,a,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ra])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=fn(i.nextSibling),i===null)break}return null}function L1(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=fn(i.nextSibling),i===null))return null;return i}function ef(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function I1(i,a){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function fn(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var nf=null;function F_(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function q_(i,a,o){switch(a=wr(o),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function ml(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);au(i)}var sn=new Map,G_=new Set;function Dr(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Vn=V.d;V.d={f:H1,r:B1,D:U1,C:j1,L:P1,m:V1,X:F1,S:Y1,M:q1};function H1(){var i=Vn.f(),a=vr();return i||a}function B1(i){var a=bs(i);a!==null&&a.tag===5&&a.type==="form"?fm(a):Vn.r(i)}var Js=typeof document>"u"?null:document;function W_(i,a,o){var c=Js;if(c&&typeof a=="string"&&a){var f=Ke(a);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),G_.has(f)||(G_.add(f),i={rel:i,crossOrigin:o,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),be(a,"link",i),re(a),c.head.appendChild(a)))}}function U1(i){Vn.D(i),W_("dns-prefetch",i,null)}function j1(i,a){Vn.C(i,a),W_("preconnect",i,a)}function P1(i,a,o){Vn.L(i,a,o);var c=Js;if(c&&i&&a){var f='link[rel="preload"][as="'+Ke(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ke(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ke(o.imageSizes)+'"]')):f+='[href="'+Ke(i)+'"]';var p=f;switch(a){case"style":p=ta(i);break;case"script":p=ea(i)}sn.has(p)||(i=m({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),sn.set(p,i),c.querySelector(f)!==null||a==="style"&&c.querySelector(_l(p))||a==="script"&&c.querySelector(yl(p))||(a=c.createElement("link"),be(a,"link",i),re(a),c.head.appendChild(a)))}}function V1(i,a){Vn.m(i,a);var o=Js;if(o&&i){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Ke(c)+'"][href="'+Ke(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ea(i)}if(!sn.has(p)&&(i=m({rel:"modulepreload",href:i},a),sn.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(yl(p)))return}c=o.createElement("link"),be(c,"link",i),re(c),o.head.appendChild(c)}}}function Y1(i,a,o){Vn.S(i,a,o);var c=Js;if(c&&i){var f=vs(c).hoistableStyles,p=ta(i);a=a||"default";var y=f.get(p);if(!y){var v={loading:0,preload:null};if(y=c.querySelector(_l(p)))v.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},o),(o=sn.get(p))&&sf(i,o);var T=y=c.createElement("link");re(T),be(T,"link",i),T._p=new Promise(function(O,H){T.onload=O,T.onerror=H}),T.addEventListener("load",function(){v.loading|=1}),T.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Or(y,a,c)}y={type:"stylesheet",instance:y,count:1,state:v},f.set(p,y)}}}function F1(i,a){Vn.X(i,a);var o=Js;if(o&&i){var c=vs(o).hoistableScripts,f=ea(i),p=c.get(f);p||(p=o.querySelector(yl(f)),p||(i=m({src:i,async:!0},a),(a=sn.get(f))&&af(i,a),p=o.createElement("script"),re(p),be(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function q1(i,a){Vn.M(i,a);var o=Js;if(o&&i){var c=vs(o).hoistableScripts,f=ea(i),p=c.get(f);p||(p=o.querySelector(yl(f)),p||(i=m({src:i,async:!0,type:"module"},a),(a=sn.get(f))&&af(i,a),p=o.createElement("script"),re(p),be(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function X_(i,a,o,c){var f=(f=lt.current)?Dr(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=ta(o.href),o=vs(f).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=ta(o.href);var p=vs(f).hoistableStyles,y=p.get(i);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,y),(p=f.querySelector(_l(i)))&&!p._p&&(y.instance=p,y.state.loading=5),sn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},sn.set(i,o),p||G1(f,i,o,y.state))),a&&c===null)throw Error(s(528,""));return y}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ea(o),o=vs(f).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function ta(i){return'href="'+Ke(i)+'"'}function _l(i){return'link[rel="stylesheet"]['+i+"]"}function Q_(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function G1(i,a,o,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),be(a,"link",o),re(a),i.head.appendChild(a))}function ea(i){return'[src="'+Ke(i)+'"]'}function yl(i){return"script[async]"+i}function K_(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+Ke(o.href)+'"]');if(c)return a.instance=c,re(c),c;var f=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),re(c),be(c,"style",f),Or(c,o.precedence,i),a.instance=c;case"stylesheet":f=ta(o.href);var p=i.querySelector(_l(f));if(p)return a.state.loading|=4,a.instance=p,re(p),p;c=Q_(o),(f=sn.get(f))&&sf(c,f),p=(i.ownerDocument||i).createElement("link"),re(p);var y=p;return y._p=new Promise(function(v,T){y.onload=v,y.onerror=T}),be(p,"link",c),a.state.loading|=4,Or(p,o.precedence,i),a.instance=p;case"script":return p=ea(o.src),(f=i.querySelector(yl(p)))?(a.instance=f,re(f),f):(c=o,(f=sn.get(p))&&(c=m({},o),af(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),re(f),be(f,"link",c),i.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Or(c,o.precedence,i));return a.instance}function Or(i,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,y=0;y<c.length;y++){var v=c[y];if(v.dataset.precedence===a)p=v;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function sf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function af(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Rr=null;function Z_(i,a,o){if(Rr===null){var c=new Map,f=Rr=new Map;f.set(o,c)}else f=Rr,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ra]||p[xe]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var y=p.getAttribute(a)||"";y=i+y;var v=c.get(y);v?v.push(p):c.set(y,[p])}}return c}function $_(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function W1(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function J_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var bl=null;function X1(){}function Q1(i,a,o){if(bl===null)throw Error(s(475));var c=bl;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=ta(o.href),p=i.querySelector(_l(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Nr.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=p,re(p);return}p=i.ownerDocument||i,o=Q_(o),(f=sn.get(f))&&sf(o,f),p=p.createElement("link"),re(p);var y=p;y._p=new Promise(function(v,T){y.onload=v,y.onerror=T}),be(p,"link",o),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Nr.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function K1(){if(bl===null)throw Error(s(475));var i=bl;return i.stylesheets&&i.count===0&&lf(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Nr(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var kr=null;function lf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,kr=new Map,a.forEach(Z1,i),kr=null,Nr.call(i))}function Z1(i,a){if(!(a.state.loading&4)){var o=kr.get(i);if(o)var c=o.get(null);else{o=new Map,kr.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var y=f[p];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),c=y)}c&&o.set(null,c)}f=a.instance,y=f.getAttribute("data-precedence"),p=o.get(y)||c,p===c&&o.set(null,f),o.set(y,f),this.count++,c=Nr.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),a.state.loading|=4}}var vl={$$typeof:P,Provider:null,Consumer:null,_currentValue:$,_currentValue2:$,_threadCount:0};function $1(i,a,o,c,f,p,y,v){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function ty(i,a,o,c,f,p,y,v,T,O,H,j){return i=new $1(i,a,o,y,v,T,O,j),a=1,p===!0&&(a|=24),p=Ye(3,null,null,a),i.current=p,p.stateNode=i,a=ju(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:a},Fu(p),i}function ey(i){return i?(i=Ns,i):Ns}function ny(i,a,o,c,f,p){f=ey(f),c.context===null?c.context=f:c.pendingContext=f,c=si(a),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=ai(i,c,a),o!==null&&(Xe(o,i,a),Ka(o,i,a))}function iy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function of(i,a){iy(i,a),(i=i.alternate)&&iy(i,a)}function sy(i){if(i.tag===13){var a=Rs(i,67108864);a!==null&&Xe(a,i,67108864),of(i,67108864)}}var zr=!0;function J1(i,a,o,c){var f=N.T;N.T=null;var p=V.p;try{V.p=2,rf(i,a,o,c)}finally{V.p=p,N.T=f}}function tE(i,a,o,c){var f=N.T;N.T=null;var p=V.p;try{V.p=8,rf(i,a,o,c)}finally{V.p=p,N.T=f}}function rf(i,a,o,c){if(zr){var f=cf(c);if(f===null)Xh(i,a,c,Lr,o),ly(i,c);else if(nE(f,i,a,o,c))c.stopPropagation();else if(ly(i,c),a&4&&-1<eE.indexOf(i)){for(;f!==null;){var p=bs(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var y=Li(p.pendingLanes);if(y!==0){var v=p;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var T=1<<31-Pe(y);v.entanglements[1]|=T,y&=~T}xn(p),(wt&6)===0&&(yr=_n()+500,dl(0))}}break;case 13:v=Rs(p,2),v!==null&&Xe(v,p,2),vr(),of(p,2)}if(p=cf(c),p===null&&Xh(i,a,c,Lr,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Xh(i,a,c,null,o)}}function cf(i){return i=du(i),uf(i)}var Lr=null;function uf(i){if(Lr=null,i=ys(i),i!==null){var a=r(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=u(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Lr=i,null}function ay(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jS()){case bg:return 2;case vg:return 8;case Mo:case PS:return 32;case Sg:return 268435456;default:return 32}default:return 32}}var hf=!1,yi=null,bi=null,vi=null,Sl=new Map,xl=new Map,Si=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(i,a){switch(i){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Sl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":xl.delete(a.pointerId)}}function El(i,a,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},a!==null&&(a=bs(a),a!==null&&sy(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),i)}function nE(i,a,o,c,f){switch(a){case"focusin":return yi=El(yi,i,a,o,c,f),!0;case"dragenter":return bi=El(bi,i,a,o,c,f),!0;case"mouseover":return vi=El(vi,i,a,o,c,f),!0;case"pointerover":var p=f.pointerId;return Sl.set(p,El(Sl.get(p)||null,i,a,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,xl.set(p,El(xl.get(p)||null,i,a,o,c,f)),!0}return!1}function oy(i){var a=ys(i.target);if(a!==null){var o=r(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){i.blockedOn=a,QS(i.priority,function(){if(o.tag===13){var c=We();c=nu(c);var f=Rs(o,c);f!==null&&Xe(f,o,c),of(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ir(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=cf(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);fu=c,o.target.dispatchEvent(c),fu=null}else return a=bs(o),a!==null&&sy(a),i.blockedOn=o,!1;a.shift()}return!0}function ry(i,a,o){Ir(i)&&o.delete(a)}function iE(){hf=!1,yi!==null&&Ir(yi)&&(yi=null),bi!==null&&Ir(bi)&&(bi=null),vi!==null&&Ir(vi)&&(vi=null),Sl.forEach(ry),xl.forEach(ry)}function Hr(i,a){i.blockedOn===a&&(i.blockedOn=null,hf||(hf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,iE)))}var Br=null;function cy(i){Br!==i&&(Br=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Br===i&&(Br=null);for(var a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],f=i[a+2];if(typeof c!="function"){if(uf(c||o)===null)continue;break}var p=bs(o);p!==null&&(i.splice(a,3),a-=3,ch(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Tl(i){function a(T){return Hr(T,i)}yi!==null&&Hr(yi,i),bi!==null&&Hr(bi,i),vi!==null&&Hr(vi,i),Sl.forEach(a),xl.forEach(a);for(var o=0;o<Si.length;o++){var c=Si[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Si.length&&(o=Si[0],o.blockedOn===null);)oy(o),o.blockedOn===null&&Si.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],y=f[Oe]||null;if(typeof p=="function")y||cy(o);else if(y){var v=null;if(p&&p.hasAttribute("formAction")){if(f=p,y=p[Oe]||null)v=y.formAction;else if(uf(f)!==null)continue}else v=y.action;typeof v=="function"?o[c+1]=v:(o.splice(c,3),c-=3),cy(o)}}}function ff(i){this._internalRoot=i}Ur.prototype.render=ff.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,c=We();ny(o,c,i,a,null,null)},Ur.prototype.unmount=ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ny(i.current,2,null,i,null,null),vr(),a[_s]=null}};function Ur(i){this._internalRoot=i}Ur.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ag();i={blockedOn:null,target:i,priority:a};for(var o=0;o<Si.length&&a!==0&&a<Si[o].priority;o++);Si.splice(o,0,i),o===0&&oy(i)}};var uy=t.version;if(uy!=="19.1.0")throw Error(s(527,uy,"19.1.0"));V.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var sE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:N,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jr.isDisabled&&jr.supportsFiber)try{wa=jr.inject(sE),je=jr}catch{}}return Al.createRoot=function(i,a){if(!l(i))throw Error(s(299));var o=!1,c="",f=Am,p=Mm,y=wm,v=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(v=a.unstable_transitionCallbacks)),a=ty(i,1,!1,null,null,o,c,f,p,y,v,null),i[_s]=a.current,Wh(i),new ff(a)},Al.hydrateRoot=function(i,a,o){if(!l(i))throw Error(s(299));var c=!1,f="",p=Am,y=Mm,v=wm,T=null,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(v=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(T=o.unstable_transitionCallbacks),o.formState!==void 0&&(O=o.formState)),a=ty(i,1,!0,a,o??null,c,f,p,y,v,T,O),a.context=ey(null),o=a.current,c=We(),c=nu(c),f=si(c),f.callback=null,ai(o,f,c),o=c,a.current.lanes=o,Oa(a,o),xn(a),i[_s]=a.current,Wh(i),new Ur(a)},Al.version="19.1.0",Al}var vy;function _E(){if(vy)return pf.exports;vy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),pf.exports=mE(),pf.exports}var yE=_E();const bE=()=>{};var Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G=function(n,t){if(!n)throw xa(t)},xa=function(n){return new Error("Firebase Database ("+Mv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},vE=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const l=n[e++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const r=n[e++];t[s++]=String.fromCharCode((l&31)<<6|r&63)}else if(l>239&&l<365){const r=n[e++],u=n[e++],h=n[e++],d=((l&7)<<18|(r&63)<<12|(u&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const r=n[e++],u=n[e++];t[s++]=String.fromCharCode((l&15)<<12|(r&63)<<6|u&63)}}return t.join("")},yd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const r=n[l],u=l+1<n.length,h=u?n[l+1]:0,d=l+2<n.length,g=d?n[l+2]:0,m=r>>2,_=(r&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;d||(S=64,u||(b=64)),s.push(e[m],e[_],e[b],e[S])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(wv(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):vE(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const r=e[n.charAt(l++)],h=l<n.length?e[n.charAt(l)]:0;++l;const g=l<n.length?e[n.charAt(l)]:64;++l;const _=l<n.length?e[n.charAt(l)]:64;if(++l,r==null||h==null||g==null||_==null)throw new SE;const b=r<<2|h>>4;if(s.push(b),g!==64){const S=h<<4&240|g>>2;if(s.push(S),_!==64){const x=g<<6&192|_;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dv=function(n){const t=wv(n);return yd.encodeByteArray(t,!0)},rc=function(n){return Dv(n).replace(/\./g,"")},Uf=function(n){try{return yd.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(n){return Ov(void 0,n)}function Ov(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!EE(e)||(n[e]=Ov(n[e],t[e]));return n}function EE(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=()=>TE().__FIREBASE_DEFAULTS__,AE=()=>{if(typeof process>"u"||typeof Sy>"u")return;const n=Sy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ME=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Uf(n[1]);return t&&JSON.parse(t)},Rv=()=>{try{return bE()||CE()||AE()||ME()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wE=n=>{var t,e;return(e=(t=Rv())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},DE=n=>{const t=wE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},Nv=()=>{var n;return(n=Rv())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",l=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[rc(JSON.stringify(e)),rc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(RE())}function NE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kE(){return Mv.NODE_ADMIN===!0}function zE(){try{return typeof indexedDB=="object"}catch{return!1}}function LE(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var r;t(((r=l.error)===null||r===void 0?void 0:r.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="FirebaseError";class vo extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=IE,Object.setPrototypeOf(this,vo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zv.prototype.create)}}class zv{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},l=`${this.service}/${t}`,r=this.errors[t],u=r?HE(r,s):"Error",h=`${this.serviceName}: ${u} (${l}).`;return new vo(l,h,s)}}function HE(n,t){return n.replace(BE,(e,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const BE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function to(n){return JSON.parse(n)}function pe(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(n){let t={},e={},s={},l="";try{const r=n.split(".");t=to(Uf(r[0])||""),e=to(Uf(r[1])||""),l=r[2],s=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:s,signature:l}},UE=function(n){const t=Lv(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},jE=function(n){const t=Lv(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mn(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function da(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function xy(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function cc(n,t,e){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=t.call(e,n[l],l,n));return s}function uc(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const l of e){if(!s.includes(l))return!1;const r=n[l],u=t[l];if(Ey(r)&&Ey(u)){if(!uc(r,u))return!1}else if(r!==u)return!1}for(const l of s)if(!e.includes(l))return!1;return!0}function Ey(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const s=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)s[_]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let _=0;_<16;_++)s[_]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let _=16;_<80;_++){const b=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],r=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],g,m;for(let _=0;_<80;_++){_<40?_<20?(g=h^r&(u^h),m=1518500249):(g=r^u^h,m=1859775393):_<60?(g=r&u|h&(r|u),m=2400959708):(g=r^u^h,m=3395469782);const b=(l<<5|l>>>27)+g+d+m+s[_]&4294967295;d=h,h=u,u=(r<<30|r>>>2)&4294967295,r=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const s=e-this.blockSize;let l=0;const r=this.buf_;let u=this.inbuf_;for(;l<e;){if(u===0)for(;l<=s;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(r[u]=t.charCodeAt(l),++u,++l,u===this.blockSize){this.compress_(r),u=0;break}}else for(;l<e;)if(r[u]=t[l],++u,++l,u===this.blockSize){this.compress_(r),u=0;break}}this.inbuf_=u,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=e&255,e/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let r=24;r>=0;r-=8)t[s]=this.chain_[l]>>r&255,++s;return t}}function zc(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const r=l-55296;s++,G(s<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(s)-56320;l=65536+(r<<10)+u}l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):l<65536?(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},Lc=function(n){let t=0;for(let e=0;e<n.length;e++){const s=n.charCodeAt(e);s<128?t++:s<2048?t+=2:s>=55296&&s<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(n){return n&&n._delegate?n._delegate:n}class eo{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new bo;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(l)return null;throw r}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GE(t))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const r=this.getOrInitializeService({instanceIdentifier:l});s.resolve(r)}catch{}}}}clearInstance(t=ns){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=ns){return this.instances.has(t)}getOptions(t=ns){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[r,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(r);s===h&&u.resolve(l)}return l}onInit(t,e){var s;const l=this.normalizeInstanceIdentifier(e),r=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;r.add(t),this.onInitCallbacks.set(l,r);const u=this.instances.get(l);return u&&t(u,l),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const l of s)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qE(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=ns){return this.component?this.component.multipleInstances?t:ns:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qE(n){return n===ns?void 0:n}function GE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new FE(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ut||(Ut={}));const XE={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},QE=Ut.INFO,KE={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},ZE=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),l=KE[t];if(l)console[l](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Iv{constructor(t){this.name=t,this._logLevel=QE,this._logHandler=ZE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const $E=(n,t)=>t.some(e=>n instanceof e);let Ty,Cy;function JE(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tT(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Hv=new WeakMap,jf=new WeakMap,Bv=new WeakMap,bf=new WeakMap,bd=new WeakMap;function eT(n){const t=new Promise((e,s)=>{const l=()=>{n.removeEventListener("success",r),n.removeEventListener("error",u)},r=()=>{e(Mi(n.result)),l()},u=()=>{s(n.error),l()};n.addEventListener("success",r),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&Hv.set(e,n)}).catch(()=>{}),bd.set(t,n),t}function nT(n){if(jf.has(n))return;const t=new Promise((e,s)=>{const l=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",u),n.removeEventListener("abort",u)},r=()=>{e(),l()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",r),n.addEventListener("error",u),n.addEventListener("abort",u)});jf.set(n,t)}let Pf={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return jf.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Bv.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Mi(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function iT(n){Pf=n(Pf)}function sT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(vf(this),t,...e);return Bv.set(s,t.sort?t.sort():[t]),Mi(s)}:tT().includes(n)?function(...t){return n.apply(vf(this),t),Mi(Hv.get(this))}:function(...t){return Mi(n.apply(vf(this),t))}}function aT(n){return typeof n=="function"?sT(n):(n instanceof IDBTransaction&&nT(n),$E(n,JE())?new Proxy(n,Pf):n)}function Mi(n){if(n instanceof IDBRequest)return eT(n);if(bf.has(n))return bf.get(n);const t=aT(n);return t!==n&&(bf.set(n,t),bd.set(t,n)),t}const vf=n=>bd.get(n);function lT(n,t,{blocked:e,upgrade:s,blocking:l,terminated:r}={}){const u=indexedDB.open(n,t),h=Mi(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Mi(u.result),d.oldVersion,d.newVersion,Mi(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{r&&d.addEventListener("close",()=>r()),l&&d.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const oT=["get","getKey","getAll","getAllKeys","count"],rT=["put","add","delete","clear"],Sf=new Map;function Ay(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Sf.get(t))return Sf.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,l=rT.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(l||oT.includes(e)))return;const r=async function(u,...h){const d=this.transaction(u,l?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),l&&d.done]))[0]};return Sf.set(t,r),r}iT(n=>({...n,get:(t,e,s)=>Ay(t,e)||n.get(t,e,s),has:(t,e)=>!!Ay(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(uT(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function uT(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vf="@firebase/app",My="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kn=new Iv("@firebase/app"),hT="@firebase/app-compat",fT="@firebase/analytics-compat",dT="@firebase/analytics",gT="@firebase/app-check-compat",pT="@firebase/app-check",mT="@firebase/auth",_T="@firebase/auth-compat",yT="@firebase/database",bT="@firebase/data-connect",vT="@firebase/database-compat",ST="@firebase/functions",xT="@firebase/functions-compat",ET="@firebase/installations",TT="@firebase/installations-compat",CT="@firebase/messaging",AT="@firebase/messaging-compat",MT="@firebase/performance",wT="@firebase/performance-compat",DT="@firebase/remote-config",OT="@firebase/remote-config-compat",RT="@firebase/storage",NT="@firebase/storage-compat",kT="@firebase/firestore",zT="@firebase/vertexai",LT="@firebase/firestore-compat",IT="firebase",HT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",BT={[Vf]:"fire-core",[hT]:"fire-core-compat",[dT]:"fire-analytics",[fT]:"fire-analytics-compat",[pT]:"fire-app-check",[gT]:"fire-app-check-compat",[mT]:"fire-auth",[_T]:"fire-auth-compat",[yT]:"fire-rtdb",[bT]:"fire-data-connect",[vT]:"fire-rtdb-compat",[ST]:"fire-fn",[xT]:"fire-fn-compat",[ET]:"fire-iid",[TT]:"fire-iid-compat",[CT]:"fire-fcm",[AT]:"fire-fcm-compat",[MT]:"fire-perf",[wT]:"fire-perf-compat",[DT]:"fire-rc",[OT]:"fire-rc-compat",[RT]:"fire-gcs",[NT]:"fire-gcs-compat",[kT]:"fire-fst",[LT]:"fire-fst-compat",[zT]:"fire-vertex","fire-js":"fire-js",[IT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,UT=new Map,Ff=new Map;function wy(n,t){try{n.container.addComponent(t)}catch(e){Kn.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function fc(n){const t=n.name;if(Ff.has(t))return Kn.debug(`There were multiple attempts to register component ${t}.`),!1;Ff.set(t,n);for(const e of hc.values())wy(e,n);for(const e of UT.values())wy(e,n);return!0}function jT(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function PT(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},wi=new zv("app","Firebase",VT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new eo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw wi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=HT;function Uv(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Yf,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw wi.create("bad-app-name",{appName:String(l)});if(e||(e=Nv()),!e)throw wi.create("no-options");const r=hc.get(l);if(r){if(uc(e,r.options)&&uc(s,r.config))return r;throw wi.create("duplicate-app",{appName:l})}const u=new WE(l);for(const d of Ff.values())u.addComponent(d);const h=new YT(e,s,u);return hc.set(l,h),h}function qT(n=Yf){const t=hc.get(n);if(!t&&n===Yf&&Nv())return Uv();if(!t)throw wi.create("no-app",{appName:n});return t}function oa(n,t,e){var s;let l=(s=BT[n])!==null&&s!==void 0?s:n;e&&(l+=`-${e}`);const r=l.match(/\s|\//),u=t.match(/\s|\//);if(r||u){const h=[`Unable to register library "${l}" with version "${t}":`];r&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),r&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Kn.warn(h.join(" "));return}fc(new eo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebase-heartbeat-database",WT=1,no="firebase-heartbeat-store";let xf=null;function jv(){return xf||(xf=lT(GT,WT,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(no)}catch(e){console.warn(e)}}}}).catch(n=>{throw wi.create("idb-open",{originalErrorMessage:n.message})})),xf}async function XT(n){try{const e=(await jv()).transaction(no),s=await e.objectStore(no).get(Pv(n));return await e.done,s}catch(t){if(t instanceof vo)Kn.warn(t.message);else{const e=wi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Kn.warn(e.message)}}}async function Dy(n,t){try{const s=(await jv()).transaction(no,"readwrite");await s.objectStore(no).put(t,Pv(n)),await s.done}catch(e){if(e instanceof vo)Kn.warn(e.message);else{const s=wi.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Kn.warn(s.message)}}}function Pv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=1024,KT=30;class ZT{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new JT(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Oy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>KT){const u=tC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Kn.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Oy(),{heartbeatsToSend:s,unsentEntries:l}=$T(this._heartbeatsCache.heartbeats),r=rc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Kn.warn(e),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function $T(n,t=QT){const e=[];let s=n.slice();for(const l of n){const r=e.find(u=>u.agent===l.agent);if(r){if(r.dates.push(l.date),Ry(e)>t){r.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),Ry(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class JT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zE()?LE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await XT(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Ry(n){return rc(JSON.stringify({version:2,heartbeats:n})).length}function tC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n){fc(new eo("platform-logger",t=>new cT(t),"PRIVATE")),fc(new eo("heartbeat",t=>new ZT(t),"PRIVATE")),oa(Vf,My,n),oa(Vf,My,"esm2017"),oa("fire-js","")}eC("");var nC="firebase",iC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */oa(nC,iC,"app");var Ny={};const ky="@firebase/database",zy="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vv="";function sC(n){Vv=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),pe(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:to(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Mn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new aC(t)}}catch{}return new lC},ls=Yv("localStorage"),oC=Yv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ra=new Iv("@firebase/database"),rC=function(){let n=1;return function(){return n++}}(),Fv=function(n){const t=YE(n),e=new VE;e.update(t);const s=e.digest();return yd.encodeByteArray(s)},So=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?t+=So.apply(null,s):typeof s=="object"?t+=pe(s):t+=s,t+=" "}return t};let Fl=null,Ly=!0;const cC=function(n,t){G(!0,"Can't turn on custom loggers persistently."),ra.logLevel=Ut.VERBOSE,Fl=ra.log.bind(ra)},ve=function(...n){if(Ly===!0&&(Ly=!1,Fl===null&&oC.get("logging_enabled")===!0&&cC()),Fl){const t=So.apply(null,n);Fl(t)}},xo=function(n){return function(...t){ve(n,...t)}},qf=function(...n){const t="FIREBASE INTERNAL ERROR: "+So(...n);ra.error(t)},Zn=function(...n){const t=`FIREBASE FATAL ERROR: ${So(...n)}`;throw ra.error(t),new Error(t)},De=function(...n){const t="FIREBASE WARNING: "+So(...n);ra.warn(t)},uC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&De("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vd=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},hC=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},ga="[MIN_NAME]",cs="[MAX_NAME]",gs=function(n,t){if(n===t)return 0;if(n===ga||t===cs)return-1;if(t===ga||n===cs)return 1;{const e=Iy(n),s=Iy(t);return e!==null?s!==null?e-s===0?n.length-t.length:e-s:-1:s!==null?1:n<t?-1:1}},fC=function(n,t){return n===t?0:n<t?-1:1},Ml=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+pe(t))},Sd=function(n){if(typeof n!="object"||n===null)return pe(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)s!==0&&(e+=","),e+=pe(t[s]),e+=":",e+=Sd(n[t[s]]);return e+="}",e},qv=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let l=0;l<e;l+=t)l+t>e?s.push(n.substring(l,e)):s.push(n.substring(l,l+t));return s};function Se(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Gv=function(n){G(!vd(n),"Invalid JSON number");const t=11,e=52,s=(1<<t-1)-1;let l,r,u,h,d;n===0?(r=0,u=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),r=h+s,u=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(r=0,u=Math.round(n/Math.pow(2,1-s-e))));const g=[];for(d=e;d;d-=1)g.push(u%2?1:0),u=Math.floor(u/2);for(d=t;d;d-=1)g.push(r%2?1:0),r=Math.floor(r/2);g.push(l?1:0),g.reverse();const m=g.join("");let _="";for(d=0;d<64;d+=8){let b=parseInt(m.substr(d,8),2).toString(16);b.length===1&&(b="0"+b),_=_+b}return _.toLowerCase()},dC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pC(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}const mC=new RegExp("^-?(0*)\\d{1,10}$"),_C=-2147483648,yC=2147483647,Iy=function(n){if(mC.test(n)){const t=Number(n);if(t>=_C&&t<=yC)return t}return null},Ta=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw De("Exception was thrown by user callback.",e),t},Math.floor(0))}},bC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ql=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,PT(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e==null?void 0:e.getImmediate({optional:!0}),this.appCheck||e==null||e.get().then(s=>this.appCheck=s)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){De(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(ve("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',De(t)}}class ic{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}ic.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="5",Wv="v",Xv="s",Qv="r",Kv="f",Zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$v="ls",Jv="p",Gf="ac",t0="websocket",e0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t,e,s,l,r=!1,u="",h=!1,d=!1,g=null){this.secure=e,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=r,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ls.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&ls.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function xC(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function i0(n,t,e){G(typeof t=="string","typeof type must == string"),G(typeof e=="object","typeof params must == object");let s;if(t===t0)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===e0)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xC(n)&&(e.ns=n.namespace);const l=[];return Se(e,(r,u)=>{l.push(r+"="+u)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.counters_={}}incrementCounter(t,e=1){Mn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return xE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef={},Tf={};function Ed(n){const t=n.toString();return Ef[t]||(Ef[t]=new EC),Ef[t]}function TC(n,t){const e=n.toString();return Tf[e]||(Tf[e]=t()),Tf[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Ta(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hy="start",AC="close",MC="pLPCommand",wC="pRTLPCB",s0="id",a0="pw",l0="ser",DC="cb",OC="seg",RC="ts",NC="d",kC="dframe",o0=1870,r0=30,zC=o0-r0,LC=25e3,IC=3e4;class aa{constructor(t,e,s,l,r,u,h){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=l,this.authToken=r,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xo(t),this.stats_=Ed(e),this.urlFn=d=>(this.appCheckToken&&(d[Gf]=this.appCheckToken),i0(e,e0,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new CC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IC)),hC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Td((...r)=>{const[u,h,d,g,m]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===Hy)this.id=h,this.password=d;else if(u===AC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...r)=>{const[u,h]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[Hy]="t",s[l0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[DC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Wv]=xd,this.transportSessionId&&(s[Xv]=this.transportSessionId),this.lastSessionId&&(s[$v]=this.lastSessionId),this.applicationId&&(s[Jv]=this.applicationId),this.appCheckToken&&(s[Gf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(s[Qv]=Kv);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){aa.forceAllow_=!0}static forceDisallow(){aa.forceDisallow_=!0}static isAvailable(){return aa.forceAllow_?!0:!aa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dC()&&!gC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=pe(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=Dv(e),l=qv(s,zC);for(let r=0;r<l.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[r]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const s={};s[kC]="t",s[s0]=t,s[a0]=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=pe(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Td{constructor(t,e,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rC(),window[MC+this.uniqueCallbackIdentifier]=t,window[wC+this.uniqueCallbackIdentifier]=e,this.myIFrame=Td.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){ve("frame writing exception"),h.stack&&ve(h.stack),ve(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||ve("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[s0]=this.myID,t[a0]=this.myPW,t[l0]=this.currentSerial;let e=this.urlFn(t),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+r0+s.length<=o0;){const u=this.pendingSegs.shift();s=s+"&"+OC+l+"="+u.seg+"&"+RC+l+"="+u.ts+"&"+NC+l+"="+u.d,l++}return e=e+s,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(s,Math.floor(LC)),r=()=>{clearTimeout(l),s()};this.addTag(t,r)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{ve("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HC=16384,BC=45e3;let dc=null;typeof MozWebSocket<"u"?dc=MozWebSocket:typeof WebSocket<"u"&&(dc=WebSocket);class dn{constructor(t,e,s,l,r,u,h){this.connId=t,this.applicationId=s,this.appCheckToken=l,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xo(this.connId),this.stats_=Ed(e),this.connURL=dn.connectionURL_(e,u,h,l,s),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,s,l,r){const u={};return u[Wv]=xd,typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(u[Qv]=Kv),e&&(u[Xv]=e),s&&(u[$v]=s),l&&(u[Gf]=l),r&&(u[Jv]=r),i0(t,t0,u)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ls.set("previous_websocket_failure",!0);try{let s;kE(),this.mySock=new dc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){dn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(e);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&dc!==null&&!dn.forceDisallow_}static previouslyFailed(){return ls.isInMemoryStorage||ls.get("previous_websocket_failure")===!0}markConnectionHealthy(){ls.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const s=to(e);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(G(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const s=this.extractFrameCount_(e);s!==null&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const e=pe(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=qv(e,HC);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(BC))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}dn.responsesRequiredToBeHealthy=2;dn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{static get ALL_TRANSPORTS(){return[aa,dn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=dn&&dn.isAvailable();let s=e&&!dn.previouslyFailed();if(t.webSocketOnly&&(e||De("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[dn];else{const l=this.transports_=[];for(const r of io.ALL_TRANSPORTS)r&&r.isAvailable()&&l.push(r);io.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}io.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=6e4,jC=5e3,PC=10*1024,VC=100*1024,Cf="t",By="d",YC="s",Uy="r",FC="e",jy="o",Py="a",Vy="n",Yy="p",qC="h";class GC{constructor(t,e,s,l,r,u,h,d,g,m){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=r,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=g,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xo("c:"+this.id+":"),this.transportManager_=new io(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=ql(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>PC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Cf in t){const e=t[Cf];e===Py?this.upgradeIfSecondaryHealthy_():e===Uy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===jy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Ml("t",t),s=Ml("d",t);if(e==="c")this.onSecondaryControl_(s);else if(e==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Py,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Ml("t",t),s=Ml("d",t);e==="c"?this.onControl_(s):e==="d"&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Ml(Cf,t);if(By in t){const s=t[By];if(e===qC){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(e===Vy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===YC?this.onConnectionShutdown_(s):e===Uy?this.onReset_(s):e===FC?qf("Server Error: "+s):e===jy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qf("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),xd!==s&&De("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),ql(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ql(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ls.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{put(t,e,s,l){}merge(t,e,s,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t){this.allowedEvents_=t,this.listeners_={},G(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const l=this.getInitialEvent(t);l&&e.apply(s,l)}off(t,e,s){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let r=0;r<l.length;r++)if(l[r].callback===e&&(!s||s===l[r].context)){l.splice(r,1);return}}validateEventType_(t){G(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends u0{static getInstance(){return new gc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return G(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=32,qy=768;class zt{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function Mt(){return new zt("")}function _t(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ri(n){return n.pieces_.length-n.pieceNum_}function jt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new zt(n.pieces_,t)}function Cd(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function WC(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function so(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function h0(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new zt(t,0)}function Kt(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof zt)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&e.push(s[l])}return new zt(e,0)}function St(n){return n.pieceNum_>=n.pieces_.length}function He(n,t){const e=_t(n),s=_t(t);if(e===null)return t;if(e===s)return He(jt(n),jt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function XC(n,t){const e=so(n,0),s=so(t,0);for(let l=0;l<e.length&&l<s.length;l++){const r=gs(e[l],s[l]);if(r!==0)return r}return e.length===s.length?0:e.length<s.length?-1:1}function Ad(n,t){if(Ri(n)!==Ri(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function ln(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Ri(n)>Ri(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class QC{constructor(t,e){this.errorPrefix_=e,this.parts_=so(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Lc(this.parts_[s]);f0(this)}}function KC(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Lc(t),f0(n)}function ZC(n){const t=n.parts_.pop();n.byteLength_-=Lc(t),n.parts_.length>0&&(n.byteLength_-=1)}function f0(n){if(n.byteLength_>qy)throw new Error(n.errorPrefix_+"has a key path longer than "+qy+" bytes ("+n.byteLength_+").");if(n.parts_.length>Fy)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fy+") or object contains a cycle "+is(n))}function is(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends u0{static getInstance(){return new Md}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(t){return G(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wl=1e3,$C=60*5*1e3,Gy=30*1e3,JC=1.3,tA=3e4,eA="server_kill",Wy=3;class Qn extends c0{constructor(t,e,s,l,r,u,h,d){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=r,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Qn.nextPersistentConnectionId_++,this.log_=xo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=wl,this.maxReconnectDelay_=$C,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Md.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&gc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,s){const l=++this.requestNumber_,r={r:l,a:t,b:e};this.log_(pe(r)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[l]=s)}get(t){this.initConnection_();const e=new bo,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),e.promise}listen(t,e,s,l){this.initConnection_();const r=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+r),this.listens.has(u)||this.listens.set(u,new Map),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(u).has(r),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:e,query:t,tag:s};this.listens.get(u).set(r,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(s)})}sendListen_(t){const e=t.query,s=e._path.toString(),l=e._queryIdentifier;this.log_("Listen on "+s+" for "+l);const r={p:s},u="q";t.tag&&(r.q=e._queryObject,r.t=t.tag),r.h=t.hashFn(),this.sendRequest(u,r,h=>{const d=h.d,g=h.s;Qn.warnOnListenWarnings_(d,e),(this.listens.get(s)&&this.listens.get(s).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),t.onComplete&&t.onComplete(g,d))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Mn(t,"w")){const s=da(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+e._queryParams.getIndex().toString()+'"',r=e._path.toString();De(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||jE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=UE(t)?"auth":"gauth",s={cred:t};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(e,s,l=>{const r=l.s,u=l.d||"error";this.authToken_===t&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,s=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,s)})}unlisten(t,e){const s=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),G(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,t._queryObject,e)}sendUnlisten_(t,e,s,l){this.log_("Unlisten on "+t+" for "+e);const r={p:t},u="n";l&&(r.q=s,r.t=l),this.sendRequest(u,r)}onDisconnectPut(t,e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:s})}onDisconnectMerge(t,e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:s})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,s,l){const r={p:e,d:s};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,u=>{l&&setTimeout(()=>{l(u.s,u.d)},Math.floor(0))})}put(t,e,s,l){this.putInternal("p",t,e,s,l)}merge(t,e,s,l){this.putInternal("m",t,e,s,l)}putInternal(t,e,s,l,r){this.initConnection_();const u={p:e,d:s};r!==void 0&&(u.h=r),this.outstandingPuts_.push({action:t,request:u,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,s,r=>{this.log_(e+" response",r),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(r.s,r.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+pe(t));const e=t.r,s=this.requestCBHash_[e];s&&(delete this.requestCBHash_[e],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):qf("Unrecognized action received from server: "+pe(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tA&&(this.reconnectDelay_=wl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Qn.nextConnectionId_++,r=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,s())},g=function(_){G(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:d,sendRequest:g};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,b]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);u?ve("getToken() completed but was canceled"):(ve("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=b&&b.token,h=new GC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,s,S=>{De(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(eA)},r))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&De(_),d())}}}interrupt(t){ve("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){ve("Resuming connection for reason: "+t),delete this.interruptReasons_[t],xy(this.interruptReasons_)&&(this.reconnectDelay_=wl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let s;e?s=e.map(r=>Sd(r)).join("$"):s="default";const l=this.removeListen_(t,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,e){const s=new zt(t).toString();let l;if(this.listens.has(s)){const r=this.listens.get(s);l=r.get(e),r.delete(e),r.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(t,e){ve("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wy&&(this.reconnectDelay_=Gy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){ve("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+Vv.replace(/\./g,"-")]=1,kv()?t["framework.cordova"]=1:NE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=gc.getInstance().currentlyOnline();return xy(this.interruptReasons_)&&t}}Qn.nextPersistentConnectionId_=0;Qn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new yt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ic{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new yt(ga,t),l=new yt(ga,e);return this.compare(s,l)!==0}minPost(){return yt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pr;class d0 extends Ic{static get __EMPTY_NODE(){return Pr}static set __EMPTY_NODE(t){Pr=t}compare(t,e){return gs(t.name,e.name)}isDefinedOn(t){throw xa("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return yt.MIN}maxPost(){return new yt(cs,Pr)}makePost(t,e){return G(typeof t=="string","KeyIndex indexValue must always be a string."),new yt(t,Pr)}toString(){return".key"}}const ca=new d0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(t,e,s,l,r=null){this.isReverse_=l,this.resultGenerator_=r,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=e?s(t.key,e):1,l&&(u*=-1),u<0)this.isReverse_?t=t.left:t=t.right;else if(u===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class de{constructor(t,e,s,l,r){this.key=t,this.value=e,this.color=s??de.RED,this.left=l??Be.EMPTY_NODE,this.right=r??Be.EMPTY_NODE}copy(t,e,s,l,r){return new de(t??this.key,e??this.value,s??this.color,l??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let l=this;const r=s(t,l.key);return r<0?l=l.copy(null,null,null,l.left.insert(t,e,s),null):r===0?l=l.copy(null,e,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,e,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Be.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let s,l;if(s=this,e(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),e(t,s.key)===0){if(s.right.isEmpty())return Be.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,de.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,de.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}de.RED=!0;de.BLACK=!1;class nA{copy(t,e,s,l,r){return this}insert(t,e,s){return new de(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Be{constructor(t,e=Be.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Be(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,de.BLACK,null,null))}remove(t){return new Be(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,de.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),e===0)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,l=null;for(;!s.isEmpty();)if(e=this.comparator_(t,s.key),e===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else e<0?s=s.left:e>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Vr(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Vr(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Vr(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Vr(this.root_,null,this.comparator_,!0,t)}}Be.EMPTY_NODE=new nA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n,t){return gs(n.name,t.name)}function wd(n,t){return gs(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf;function sA(n){Wf=n}const g0=function(n){return typeof n=="number"?"number:"+Gv(n):"string:"+n},p0=function(n){if(n.isLeafNode()){const t=n.val();G(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Mn(t,".sv"),"Priority must be a string or number.")}else G(n===Wf||n.isEmpty(),"priority of unexpected type.");G(n===Wf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy;class fe{static set __childrenNodeConstructor(t){Xy=t}static get __childrenNodeConstructor(){return Xy}constructor(t,e=fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,G(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),p0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new fe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:fe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return St(t)?this:_t(t)===".priority"?this.priorityNode_:fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const s=_t(t);return s===null?e:e.isEmpty()&&s!==".priority"?this:(G(s!==".priority"||Ri(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(jt(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+g0(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=Gv(this.value_):t+=this.value_,this.lazyHash_=Fv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===fe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof fe.__childrenNodeConstructor?-1:(G(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,s=typeof this.value_,l=fe.VALUE_TYPE_ORDER.indexOf(e),r=fe.VALUE_TYPE_ORDER.indexOf(s);return G(l>=0,"Unknown leaf type: "+e),G(r>=0,"Unknown leaf type: "+s),l===r?s==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m0,_0;function aA(n){m0=n}function lA(n){_0=n}class oA extends Ic{compare(t,e){const s=t.node.getPriority(),l=e.node.getPriority(),r=s.compareTo(l);return r===0?gs(t.name,e.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return yt.MIN}maxPost(){return new yt(cs,new fe("[PRIORITY-POST]",_0))}makePost(t,e){const s=m0(t);return new yt(e,new fe("[PRIORITY-POST]",s))}toString(){return".priority"}}const Zt=new oA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=Math.log(2);class cA{constructor(t){const e=r=>parseInt(Math.log(r)/rA,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const l=s(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const pc=function(n,t,e,s){n.sort(t);const l=function(d,g){const m=g-d;let _,b;if(m===0)return null;if(m===1)return _=n[d],b=e?e(_):_,new de(b,_.node,de.BLACK,null,null);{const S=parseInt(m/2,10)+d,x=l(d,S),C=l(S+1,g);return _=n[S],b=e?e(_):_,new de(b,_.node,de.BLACK,x,C)}},r=function(d){let g=null,m=null,_=n.length;const b=function(x,C){const A=_-x,z=_;_-=x;const B=l(A+1,z),P=n[A],q=e?e(P):P;S(new de(q,P.node,C,null,B))},S=function(x){g?(g.left=x,g=x):(m=x,g=x)};for(let x=0;x<d.count;++x){const C=d.nextBitIsOne(),A=Math.pow(2,d.count-(x+1));C?b(A,de.BLACK):(b(A,de.BLACK),b(A,de.RED))}return m},u=new cA(n.length),h=r(u);return new Be(s||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;const na={};class Wn{static get Default(){return G(na&&Zt,"ChildrenNode.ts has not been loaded"),Af=Af||new Wn({".priority":na},{".priority":Zt}),Af}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=da(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Be?e:null}hasIndex(t){return Mn(this.indexSet_,t.toString())}addIndex(t,e){G(t!==ca,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const r=e.getIterator(yt.Wrap);let u=r.getNext();for(;u;)l=l||t.isDefinedOn(u.node),s.push(u),u=r.getNext();let h;l?h=pc(s,t.getCompare()):h=na;const d=t.toString(),g=Object.assign({},this.indexSet_);g[d]=t;const m=Object.assign({},this.indexes_);return m[d]=h,new Wn(m,g)}addToIndexes(t,e){const s=cc(this.indexes_,(l,r)=>{const u=da(this.indexSet_,r);if(G(u,"Missing index implementation for "+r),l===na)if(u.isDefinedOn(t.node)){const h=[],d=e.getIterator(yt.Wrap);let g=d.getNext();for(;g;)g.name!==t.name&&h.push(g),g=d.getNext();return h.push(t),pc(h,u.getCompare())}else return na;else{const h=e.get(t.name);let d=l;return h&&(d=d.remove(new yt(t.name,h))),d.insert(t,t.node)}});return new Wn(s,this.indexSet_)}removeFromIndexes(t,e){const s=cc(this.indexes_,l=>{if(l===na)return l;{const r=e.get(t.name);return r?l.remove(new yt(t.name,r)):l}});return new Wn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dl;class ft{static get EMPTY_NODE(){return Dl||(Dl=new ft(new Be(wd),null,Wn.Default))}constructor(t,e,s){this.children_=t,this.priorityNode_=e,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&p0(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dl}updatePriority(t){return this.children_.isEmpty()?this:new ft(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?Dl:e}}getChild(t){const e=_t(t);return e===null?this:this.getImmediateChild(e).getChild(jt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(G(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const s=new yt(t,e);let l,r;e.isEmpty()?(l=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(t,e),r=this.indexMap_.addToIndexes(s,this.children_));const u=l.isEmpty()?Dl:this.priorityNode_;return new ft(l,u,r)}}updateChild(t,e){const s=_t(t);if(s===null)return e;{G(_t(t)!==".priority"||Ri(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(jt(t),e);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let s=0,l=0,r=!0;if(this.forEachChild(Zt,(u,h)=>{e[u]=h.val(t),s++,r&&ft.INTEGER_REGEXP_.test(u)?l=Math.max(l,Number(u)):r=!1}),!t&&r&&l<2*s){const u=[];for(const h in e)u[h]=e[h];return u}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+g0(this.getPriority().val())+":"),this.forEachChild(Zt,(e,s)=>{const l=s.hash();l!==""&&(t+=":"+e+":"+l)}),this.lazyHash_=t===""?"":Fv(t)}return this.lazyHash_}getPredecessorChildName(t,e,s){const l=this.resolveIndex_(s);if(l){const r=l.getPredecessorKey(new yt(t,e));return r?r.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const s=e.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new yt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const s=e.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new yt(e,this.children_.get(e)):null}forEachChild(t,e){const s=this.resolveIndex_(t);return s?s.inorderTraversal(l=>e(l.name,l.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const s=this.resolveIndex_(e);if(s)return s.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,yt.Wrap);let r=l.peek();for(;r!=null&&e.compare(r,t)<0;)l.getNext(),r=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const s=this.resolveIndex_(e);if(s)return s.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,yt.Wrap);let r=l.peek();for(;r!=null&&e.compare(r,t)>0;)l.getNext(),r=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Eo?-1:0}withIndex(t){if(t===ca||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new ft(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===ca||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const s=this.getIterator(Zt),l=e.getIterator(Zt);let r=s.getNext(),u=l.getNext();for(;r&&u;){if(r.name!==u.name||!r.node.equals(u.node))return!1;r=s.getNext(),u=l.getNext()}return r===null&&u===null}else return!1;else return!1}}resolveIndex_(t){return t===ca?null:this.indexMap_.get(t.toString())}}ft.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class uA extends ft{constructor(){super(new Be(wd),ft.EMPTY_NODE,Wn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ft.EMPTY_NODE}isEmpty(){return!1}}const Eo=new uA;Object.defineProperties(yt,{MIN:{value:new yt(ga,ft.EMPTY_NODE)},MAX:{value:new yt(cs,Eo)}});d0.__EMPTY_NODE=ft.EMPTY_NODE;fe.__childrenNodeConstructor=ft;sA(Eo);lA(Eo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=!0;function ge(n,t=null){if(n===null)return ft.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),G(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new fe(e,ge(t))}if(!(n instanceof Array)&&hA){const e=[];let s=!1;if(Se(n,(u,h)=>{if(u.substring(0,1)!=="."){const d=ge(h);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),e.push(new yt(u,d)))}}),e.length===0)return ft.EMPTY_NODE;const r=pc(e,iA,u=>u.name,wd);if(s){const u=pc(e,Zt.getCompare());return new ft(r,ge(t),new Wn({".priority":u},{".priority":Zt}))}else return new ft(r,ge(t),Wn.Default)}else{let e=ft.EMPTY_NODE;return Se(n,(s,l)=>{if(Mn(n,s)&&s.substring(0,1)!=="."){const r=ge(l);(r.isLeafNode()||!r.isEmpty())&&(e=e.updateImmediateChild(s,r))}}),e.updatePriority(ge(t))}}aA(ge);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends Ic{constructor(t){super(),this.indexPath_=t,G(!St(t)&&_t(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),l=this.extractChild(e.node),r=s.compareTo(l);return r===0?gs(t.name,e.name):r}makePost(t,e){const s=ge(t),l=ft.EMPTY_NODE.updateChild(this.indexPath_,s);return new yt(e,l)}maxPost(){const t=ft.EMPTY_NODE.updateChild(this.indexPath_,Eo);return new yt(cs,t)}toString(){return so(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends Ic{compare(t,e){const s=t.node.compareTo(e.node);return s===0?gs(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return yt.MIN}maxPost(){return yt.MAX}makePost(t,e){const s=ge(t);return new yt(e,s)}toString(){return".value"}}const gA=new dA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n){return{type:"value",snapshotNode:n}}function pa(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function ao(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function lo(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function pA(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t){this.index_=t}updateChild(t,e,s,l,r,u){G(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?t.hasChild(e)?u.trackChildChange(ao(e,h)):G(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(pa(e,s)):u.trackChildChange(lo(e,s,h))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return s!=null&&(t.isLeafNode()||t.forEachChild(Zt,(l,r)=>{e.hasChild(l)||s.trackChildChange(ao(l,r))}),e.isLeafNode()||e.forEachChild(Zt,(l,r)=>{if(t.hasChild(l)){const u=t.getImmediateChild(l);u.equals(r)||s.trackChildChange(lo(l,r,u))}else s.trackChildChange(pa(l,r))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ft.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oo{constructor(t){this.indexedFilter_=new Dd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=oo.getStartPost_(t),this.endPost_=oo.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&s}updateChild(t,e,s,l,r,u){return this.matches(new yt(e,s))||(s=ft.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,l,r,u)}updateFullNode(t,e,s){e.isLeafNode()&&(e=ft.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(ft.EMPTY_NODE);const r=this;return e.forEachChild(Zt,(u,h)=>{r.matches(new yt(u,h))||(l=l.updateImmediateChild(u,ft.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new oo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,s,l,r,u){return this.rangedFilter_.matches(new yt(e,s))||(s=ft.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,l,r,u):this.fullLimitUpdateChild_(t,e,s,r,u)}updateFullNode(t,e,s){let l;if(e.isLeafNode()||e.isEmpty())l=ft.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){l=ft.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;r.hasNext()&&u<this.limit_;){const h=r.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{l=e.withIndex(this.index_),l=l.updatePriority(ft.EMPTY_NODE);let r;this.reverse_?r=l.getReverseIterator(this.index_):r=l.getIterator(this.index_);let u=0;for(;r.hasNext();){const h=r.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:l=l.updateImmediateChild(h.name,ft.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,l,r){let u;if(this.reverse_){const _=this.index_.getCompare();u=(b,S)=>_(S,b)}else u=this.index_.getCompare();const h=t;G(h.numChildren()===this.limit_,"");const d=new yt(e,s),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(h.hasChild(e)){const _=h.getImmediateChild(e);let b=l.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===e||h.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const S=b==null?1:u(b,d);if(m&&!s.isEmpty()&&S>=0)return r!=null&&r.trackChildChange(lo(e,s,_)),h.updateImmediateChild(e,s);{r!=null&&r.trackChildChange(ao(e,_));const C=h.updateImmediateChild(e,ft.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(r!=null&&r.trackChildChange(pa(b.name,b.node)),C.updateImmediateChild(b.name,b.node)):C}}else return s.isEmpty()?t:m&&u(g,d)>=0?(r!=null&&(r.trackChildChange(ao(g.name,g.node)),r.trackChildChange(pa(e,s))),h.updateImmediateChild(e,s).updateImmediateChild(g.name,ft.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Zt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ga}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Zt}copy(){const t=new Od;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _A(n){return n.loadsAllData()?new Dd(n.getIndex()):n.hasLimit()?new mA(n):new oo(n)}function Qy(n){const t={};if(n.isDefault())return t;let e;if(n.index_===Zt?e="$priority":n.index_===gA?e="$value":n.index_===ca?e="$key":(G(n.index_ instanceof fA,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=pe(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";t[s]=pe(n.indexStartValue_),n.startNameSet_&&(t[s]+=","+pe(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";t[s]=pe(n.indexEndValue_),n.endNameSet_&&(t[s]+=","+pe(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Ky(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==Zt&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mc extends c0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(G(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,s,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=xo("p:rest:"),this.listens_={}}listen(t,e,s,l){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const u=mc.getListenId_(t,s),h={};this.listens_[u]=h;const d=Qy(t._queryParams);this.restRequest_(r+".json",d,(g,m)=>{let _=m;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(r,_,!1,s),da(this.listens_,u)===h){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",l(b,null)}})}unlisten(t,e){const s=mc.getListenId_(t,e);delete this.listens_[s]}get(t){const e=Qy(t._queryParams),s=t._path.toString(),l=new bo;return this.restRequest_(s+".json",e,(r,u)=>{let h=u;r===404&&(h=null,r=null),r===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,r])=>{l&&l.accessToken&&(e.auth=l.accessToken),r&&r.token&&(e.ac=r.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+PE(e);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=to(h.responseText)}catch{De("Failed to parse JSON response for "+u+": "+h.responseText)}s(null,d)}else h.status!==401&&h.status!==404&&De("Got unsuccessful REST response for "+u+" Status: "+h.status),s(h.status);s=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.rootNode_=ft.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _c(){return{value:null,children:new Map}}function b0(n,t,e){if(St(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const s=_t(t);n.children.has(s)||n.children.set(s,_c());const l=n.children.get(s);t=jt(t),b0(l,t,e)}}function Xf(n,t,e){n.value!==null?e(t,n.value):bA(n,(s,l)=>{const r=new zt(t.toString()+"/"+s);Xf(l,r,e)})}function bA(n,t){n.children.forEach((e,s)=>{t(s,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Se(this.last_,(s,l)=>{e[s]=e[s]-l}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=10*1e3,SA=30*1e3,xA=5*60*1e3;class EA{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new vA(t);const s=Zy+(SA-Zy)*Math.random();ql(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Se(t,(l,r)=>{r>0&&Mn(this.statsToReport_,l)&&(e[l]=r,s=!0)}),s&&this.server_.reportStats(e),ql(this.reportStats_.bind(this),Math.floor(Math.random()*2*xA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gn||(gn={}));function Rd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kd(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=gn.ACK_USER_WRITE,this.source=Rd()}operationForChild(t){if(St(this.path)){if(this.affectedTree.value!=null)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new zt(t));return new yc(Mt(),e,this.revert)}}else return G(_t(this.path)===t,"operationForChild called for unrelated child."),new yc(jt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(t,e){this.source=t,this.path=e,this.type=gn.LISTEN_COMPLETE}operationForChild(t){return St(this.path)?new ro(this.source,Mt()):new ro(this.source,jt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=gn.OVERWRITE}operationForChild(t){return St(this.path)?new us(this.source,Mt(),this.snap.getImmediateChild(t)):new us(this.source,jt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=gn.MERGE}operationForChild(t){if(St(this.path)){const e=this.children.subtree(new zt(t));return e.isEmpty()?null:e.value?new us(this.source,Mt(),e.value):new ma(this.source,Mt(),e)}else return G(_t(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new ma(this.source,jt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(St(t))return this.isFullyInitialized()&&!this.filtered_;const e=_t(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function CA(n,t,e,s){const l=[],r=[];return t.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&r.push(pA(u.childName,u.snapshotNode))}),Ol(n,l,"child_removed",t,s,e),Ol(n,l,"child_added",t,s,e),Ol(n,l,"child_moved",r,s,e),Ol(n,l,"child_changed",t,s,e),Ol(n,l,"value",t,s,e),l}function Ol(n,t,e,s,l,r){const u=s.filter(h=>h.type===e);u.sort((h,d)=>MA(n,h,d)),u.forEach(h=>{const d=AA(n,h,r);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(d,n.query_))})})}function AA(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function MA(n,t,e){if(t.childName==null||e.childName==null)throw xa("Should only compare child_ events.");const s=new yt(t.childName,t.snapshotNode),l=new yt(e.childName,e.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(n,t){return{eventCache:n,serverCache:t}}function Gl(n,t,e,s){return Hc(new hs(t,e,s),n.serverCache)}function v0(n,t,e,s){return Hc(n.eventCache,new hs(t,e,s))}function Qf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function fs(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf;const wA=()=>(Mf||(Mf=new Be(fC)),Mf);class Bt{static fromObject(t){let e=new Bt(null);return Se(t,(s,l)=>{e=e.set(new zt(s),l)}),e}constructor(t,e=wA()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:Mt(),value:this.value};if(St(t))return null;{const s=_t(t),l=this.children.get(s);if(l!==null){const r=l.findRootMostMatchingPathAndValue(jt(t),e);return r!=null?{path:Kt(new zt(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(St(t))return this;{const e=_t(t),s=this.children.get(e);return s!==null?s.subtree(jt(t)):new Bt(null)}}set(t,e){if(St(t))return new Bt(e,this.children);{const s=_t(t),r=(this.children.get(s)||new Bt(null)).set(jt(t),e),u=this.children.insert(s,r);return new Bt(this.value,u)}}remove(t){if(St(t))return this.children.isEmpty()?new Bt(null):new Bt(null,this.children);{const e=_t(t),s=this.children.get(e);if(s){const l=s.remove(jt(t));let r;return l.isEmpty()?r=this.children.remove(e):r=this.children.insert(e,l),this.value===null&&r.isEmpty()?new Bt(null):new Bt(this.value,r)}else return this}}get(t){if(St(t))return this.value;{const e=_t(t),s=this.children.get(e);return s?s.get(jt(t)):null}}setTree(t,e){if(St(t))return e;{const s=_t(t),r=(this.children.get(s)||new Bt(null)).setTree(jt(t),e);let u;return r.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,r),new Bt(this.value,u)}}fold(t){return this.fold_(Mt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((l,r)=>{s[l]=r.fold_(Kt(t,l),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Mt(),e)}findOnPath_(t,e,s){const l=this.value?s(e,this.value):!1;if(l)return l;if(St(t))return null;{const r=_t(t),u=this.children.get(r);return u?u.findOnPath_(jt(t),Kt(e,r),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Mt(),e)}foreachOnPath_(t,e,s){if(St(t))return this;{this.value&&s(e,this.value);const l=_t(t),r=this.children.get(l);return r?r.foreachOnPath_(jt(t),Kt(e,l),s):new Bt(null)}}foreach(t){this.foreach_(Mt(),t)}foreach_(t,e){this.children.inorderTraversal((s,l)=>{l.foreach_(Kt(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.writeTree_=t}static empty(){return new pn(new Bt(null))}}function Wl(n,t,e){if(St(t))return new pn(new Bt(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(s!=null){const l=s.path;let r=s.value;const u=He(l,t);return r=r.updateChild(u,e),new pn(n.writeTree_.set(l,r))}else{const l=new Bt(e),r=n.writeTree_.setTree(t,l);return new pn(r)}}}function Kf(n,t,e){let s=n;return Se(e,(l,r)=>{s=Wl(s,Kt(t,l),r)}),s}function $y(n,t){if(St(t))return pn.empty();{const e=n.writeTree_.setTree(t,new Bt(null));return new pn(e)}}function Zf(n,t){return ps(n,t)!=null}function ps(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(He(e.path,t)):null}function Jy(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Zt,(s,l)=>{t.push(new yt(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&t.push(new yt(s,l.value))}),t}function Di(n,t){if(St(t))return n;{const e=ps(n,t);return e!=null?new pn(new Bt(e)):new pn(n.writeTree_.subtree(t))}}function $f(n){return n.writeTree_.isEmpty()}function _a(n,t){return S0(Mt(),n.writeTree_,t)}function S0(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((l,r)=>{l===".priority"?(G(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):e=S0(Kt(n,l),r,e)}),!e.getChild(n).isEmpty()&&s!==null&&(e=e.updateChild(Kt(n,".priority"),s)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(n,t){return C0(t,n)}function DA(n,t,e,s,l){G(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:l}),l&&(n.visibleWrites=Wl(n.visibleWrites,t,e)),n.lastWriteId=s}function OA(n,t,e,s){G(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Kf(n.visibleWrites,t,e),n.lastWriteId=s}function RA(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}function NA(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);G(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let l=s.visible,r=!1,u=n.allWrites.length-1;for(;l&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=e&&kA(h,s.path)?l=!1:ln(s.path,h.path)&&(r=!0)),u--}if(l){if(r)return zA(n),!0;if(s.snap)n.visibleWrites=$y(n.visibleWrites,s.path);else{const h=s.children;Se(h,d=>{n.visibleWrites=$y(n.visibleWrites,Kt(s.path,d))})}return!0}else return!1}function kA(n,t){if(n.snap)return ln(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&ln(Kt(n.path,e),t))return!0;return!1}function zA(n){n.visibleWrites=x0(n.allWrites,LA,Mt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function LA(n){return n.visible}function x0(n,t,e){let s=pn.empty();for(let l=0;l<n.length;++l){const r=n[l];if(t(r)){const u=r.path;let h;if(r.snap)ln(e,u)?(h=He(e,u),s=Wl(s,h,r.snap)):ln(u,e)&&(h=He(u,e),s=Wl(s,Mt(),r.snap.getChild(h)));else if(r.children){if(ln(e,u))h=He(e,u),s=Kf(s,h,r.children);else if(ln(u,e))if(h=He(u,e),St(h))s=Kf(s,Mt(),r.children);else{const d=da(r.children,_t(h));if(d){const g=d.getChild(jt(h));s=Wl(s,Mt(),g)}}}else throw xa("WriteRecord should have .snap or .children")}}return s}function E0(n,t,e,s,l){if(!s&&!l){const r=ps(n.visibleWrites,t);if(r!=null)return r;{const u=Di(n.visibleWrites,t);if($f(u))return e;if(e==null&&!Zf(u,Mt()))return null;{const h=e||ft.EMPTY_NODE;return _a(u,h)}}}else{const r=Di(n.visibleWrites,t);if(!l&&$f(r))return e;if(!l&&e==null&&!Zf(r,Mt()))return null;{const u=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(ln(g.path,t)||ln(t,g.path))},h=x0(n.allWrites,u,t),d=e||ft.EMPTY_NODE;return _a(h,d)}}}function IA(n,t,e){let s=ft.EMPTY_NODE;const l=ps(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Zt,(r,u)=>{s=s.updateImmediateChild(r,u)}),s;if(e){const r=Di(n.visibleWrites,t);return e.forEachChild(Zt,(u,h)=>{const d=_a(Di(r,new zt(u)),h);s=s.updateImmediateChild(u,d)}),Jy(r).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const r=Di(n.visibleWrites,t);return Jy(r).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function HA(n,t,e,s,l){G(s||l,"Either existingEventSnap or existingServerSnap must exist");const r=Kt(t,e);if(Zf(n.visibleWrites,r))return null;{const u=Di(n.visibleWrites,r);return $f(u)?l.getChild(e):_a(u,l.getChild(e))}}function BA(n,t,e,s){const l=Kt(t,e),r=ps(n.visibleWrites,l);if(r!=null)return r;if(s.isCompleteForChild(e)){const u=Di(n.visibleWrites,l);return _a(u,s.getNode().getImmediateChild(e))}else return null}function UA(n,t){return ps(n.visibleWrites,t)}function jA(n,t,e,s,l,r,u){let h;const d=Di(n.visibleWrites,t),g=ps(d,Mt());if(g!=null)h=g;else if(e!=null)h=_a(d,e);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const m=[],_=u.getCompare(),b=r?h.getReverseIteratorFrom(s,u):h.getIteratorFrom(s,u);let S=b.getNext();for(;S&&m.length<l;)_(S,s)!==0&&m.push(S),S=b.getNext();return m}else return[]}function PA(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function bc(n,t,e,s){return E0(n.writeTree,n.treePath,t,e,s)}function Ld(n,t){return IA(n.writeTree,n.treePath,t)}function tb(n,t,e,s){return HA(n.writeTree,n.treePath,t,e,s)}function vc(n,t){return UA(n.writeTree,Kt(n.treePath,t))}function VA(n,t,e,s,l,r){return jA(n.writeTree,n.treePath,t,e,s,l,r)}function Id(n,t,e){return BA(n.writeTree,n.treePath,t,e)}function T0(n,t){return C0(Kt(n.treePath,t),n.writeTree)}function C0(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;G(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),G(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const r=l.type;if(e==="child_added"&&r==="child_removed")this.changeMap.set(s,lo(s,t.snapshotNode,l.snapshotNode));else if(e==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(e==="child_removed"&&r==="child_changed")this.changeMap.set(s,ao(s,l.oldSnap));else if(e==="child_changed"&&r==="child_added")this.changeMap.set(s,pa(s,t.snapshotNode));else if(e==="child_changed"&&r==="child_changed")this.changeMap.set(s,lo(s,t.snapshotNode,l.oldSnap));else throw xa("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}}const A0=new FA;class Hd{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=this.optCompleteServerCache_!=null?new hs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Id(this.writes_,t,s)}}getChildAfterChild(t,e,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),r=VA(this.writes_,l,e,1,s,t);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n){return{filter:n}}function GA(n,t){G(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),G(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function WA(n,t,e,s,l){const r=new YA;let u,h;if(e.type===gn.OVERWRITE){const g=e;g.source.fromUser?u=Jf(n,t,g.path,g.snap,s,l,r):(G(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!St(g.path),u=Sc(n,t,g.path,g.snap,s,l,h,r))}else if(e.type===gn.MERGE){const g=e;g.source.fromUser?u=QA(n,t,g.path,g.children,s,l,r):(G(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),u=td(n,t,g.path,g.children,s,l,h,r))}else if(e.type===gn.ACK_USER_WRITE){const g=e;g.revert?u=$A(n,t,g.path,s,l,r):u=KA(n,t,g.path,g.affectedTree,s,l,r)}else if(e.type===gn.LISTEN_COMPLETE)u=ZA(n,t,e.path,s,r);else throw xa("Unknown operation type: "+e.type);const d=r.getChanges();return XA(t,u,d),{viewCache:u,changes:d}}function XA(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Qf(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&e.push(y0(Qf(t)))}}function M0(n,t,e,s,l,r){const u=t.eventCache;if(vc(s,e)!=null)return t;{let h,d;if(St(e))if(G(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=fs(t),m=g instanceof ft?g:ft.EMPTY_NODE,_=Ld(s,m);h=n.filter.updateFullNode(t.eventCache.getNode(),_,r)}else{const g=bc(s,fs(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,r)}else{const g=_t(e);if(g===".priority"){G(Ri(e)===1,"Can't have a priority with additional path components");const m=u.getNode();d=t.serverCache.getNode();const _=tb(s,e,m,d);_!=null?h=n.filter.updatePriority(m,_):h=u.getNode()}else{const m=jt(e);let _;if(u.isCompleteForChild(g)){d=t.serverCache.getNode();const b=tb(s,e,u.getNode(),d);b!=null?_=u.getNode().getImmediateChild(g).updateChild(m,b):_=u.getNode().getImmediateChild(g)}else _=Id(s,g,t.serverCache);_!=null?h=n.filter.updateChild(u.getNode(),g,_,m,l,r):h=u.getNode()}}return Gl(t,h,u.isFullyInitialized()||St(e),n.filter.filtersNodes())}}function Sc(n,t,e,s,l,r,u,h){const d=t.serverCache;let g;const m=u?n.filter:n.filter.getIndexedFilter();if(St(e))g=m.updateFullNode(d.getNode(),s,null);else if(m.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(e,s);g=m.updateFullNode(d.getNode(),S,null)}else{const S=_t(e);if(!d.isCompleteForPath(e)&&Ri(e)>1)return t;const x=jt(e),A=d.getNode().getImmediateChild(S).updateChild(x,s);S===".priority"?g=m.updatePriority(d.getNode(),A):g=m.updateChild(d.getNode(),S,A,x,A0,null)}const _=v0(t,g,d.isFullyInitialized()||St(e),m.filtersNodes()),b=new Hd(l,_,r);return M0(n,_,e,l,b,h)}function Jf(n,t,e,s,l,r,u){const h=t.eventCache;let d,g;const m=new Hd(l,t,r);if(St(e))g=n.filter.updateFullNode(t.eventCache.getNode(),s,u),d=Gl(t,g,!0,n.filter.filtersNodes());else{const _=_t(e);if(_===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),s),d=Gl(t,g,h.isFullyInitialized(),h.isFiltered());else{const b=jt(e),S=h.getNode().getImmediateChild(_);let x;if(St(b))x=s;else{const C=m.getCompleteChild(_);C!=null?Cd(b)===".priority"&&C.getChild(h0(b)).isEmpty()?x=C:x=C.updateChild(b,s):x=ft.EMPTY_NODE}if(S.equals(x))d=t;else{const C=n.filter.updateChild(h.getNode(),_,x,b,m,u);d=Gl(t,C,h.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function eb(n,t){return n.eventCache.isCompleteForChild(t)}function QA(n,t,e,s,l,r,u){let h=t;return s.foreach((d,g)=>{const m=Kt(e,d);eb(t,_t(m))&&(h=Jf(n,h,m,g,l,r,u))}),s.foreach((d,g)=>{const m=Kt(e,d);eb(t,_t(m))||(h=Jf(n,h,m,g,l,r,u))}),h}function nb(n,t,e){return e.foreach((s,l)=>{t=t.updateChild(s,l)}),t}function td(n,t,e,s,l,r,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,g;St(e)?g=s:g=new Bt(null).setTree(e,s);const m=t.serverCache.getNode();return g.children.inorderTraversal((_,b)=>{if(m.hasChild(_)){const S=t.serverCache.getNode().getImmediateChild(_),x=nb(n,S,b);d=Sc(n,d,new zt(_),x,l,r,u,h)}}),g.children.inorderTraversal((_,b)=>{const S=!t.serverCache.isCompleteForChild(_)&&b.value===null;if(!m.hasChild(_)&&!S){const x=t.serverCache.getNode().getImmediateChild(_),C=nb(n,x,b);d=Sc(n,d,new zt(_),C,l,r,u,h)}}),d}function KA(n,t,e,s,l,r,u){if(vc(l,e)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(s.value!=null){if(St(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return Sc(n,t,e,d.getNode().getChild(e),l,r,h,u);if(St(e)){let g=new Bt(null);return d.getNode().forEachChild(ca,(m,_)=>{g=g.set(new zt(m),_)}),td(n,t,e,g,l,r,h,u)}else return t}else{let g=new Bt(null);return s.foreach((m,_)=>{const b=Kt(e,m);d.isCompleteForPath(b)&&(g=g.set(m,d.getNode().getChild(b)))}),td(n,t,e,g,l,r,h,u)}}function ZA(n,t,e,s,l){const r=t.serverCache,u=v0(t,r.getNode(),r.isFullyInitialized()||St(e),r.isFiltered());return M0(n,u,e,s,A0,l)}function $A(n,t,e,s,l,r){let u;if(vc(s,e)!=null)return t;{const h=new Hd(s,t,l),d=t.eventCache.getNode();let g;if(St(e)||_t(e)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=bc(s,fs(t));else{const _=t.serverCache.getNode();G(_ instanceof ft,"serverChildren would be complete if leaf node"),m=Ld(s,_)}m=m,g=n.filter.updateFullNode(d,m,r)}else{const m=_t(e);let _=Id(s,m,t.serverCache);_==null&&t.serverCache.isCompleteForChild(m)&&(_=d.getImmediateChild(m)),_!=null?g=n.filter.updateChild(d,m,_,jt(e),h,r):t.eventCache.getNode().hasChild(m)?g=n.filter.updateChild(d,m,ft.EMPTY_NODE,jt(e),h,r):g=d,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=bc(s,fs(t)),u.isLeafNode()&&(g=n.filter.updateFullNode(g,u,r)))}return u=t.serverCache.isFullyInitialized()||vc(s,Mt())!=null,Gl(t,g,u,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Dd(s.getIndex()),r=_A(s);this.processor_=qA(r);const u=e.serverCache,h=e.eventCache,d=l.updateFullNode(ft.EMPTY_NODE,u.getNode(),null),g=r.updateFullNode(ft.EMPTY_NODE,h.getNode(),null),m=new hs(d,u.isFullyInitialized(),l.filtersNodes()),_=new hs(g,h.isFullyInitialized(),r.filtersNodes());this.viewCache_=Hc(_,m),this.eventGenerator_=new TA(this.query_)}get query(){return this.query_}}function tM(n){return n.viewCache_.serverCache.getNode()}function eM(n,t){const e=fs(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!St(t)&&!e.getImmediateChild(_t(t)).isEmpty())?e.getChild(t):null}function ib(n){return n.eventRegistrations_.length===0}function nM(n,t){n.eventRegistrations_.push(t)}function sb(n,t,e){const s=[];if(e){G(t==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(r=>{const u=r.createCancelEvent(e,l);u&&s.push(u)})}if(t){let l=[];for(let r=0;r<n.eventRegistrations_.length;++r){const u=n.eventRegistrations_[r];if(!u.matches(t))l.push(u);else if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function ab(n,t,e,s){t.type===gn.MERGE&&t.source.queryId!==null&&(G(fs(n.viewCache_),"We should always have a full cache before handling merges"),G(Qf(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,r=WA(n.processor_,l,t,e,s);return GA(n.processor_,r.viewCache),G(r.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,w0(n,r.changes,r.viewCache.eventCache.getNode(),null)}function iM(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Zt,(r,u)=>{s.push(pa(r,u))}),e.isFullyInitialized()&&s.push(y0(e.getNode())),w0(n,s,e.getNode(),t)}function w0(n,t,e,s){const l=s?[s]:n.eventRegistrations_;return CA(n.eventGenerator_,t,e,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xc;class sM{constructor(){this.views=new Map}}function aM(n){G(!xc,"__referenceConstructor has already been defined"),xc=n}function lM(){return G(xc,"Reference.ts has not been loaded"),xc}function oM(n){return n.views.size===0}function Bd(n,t,e,s){const l=t.source.queryId;if(l!==null){const r=n.views.get(l);return G(r!=null,"SyncTree gave us an op for an invalid query."),ab(r,t,e,s)}else{let r=[];for(const u of n.views.values())r=r.concat(ab(u,t,e,s));return r}}function rM(n,t,e,s,l){const r=t._queryIdentifier,u=n.views.get(r);if(!u){let h=bc(e,l?s:null),d=!1;h?d=!0:s instanceof ft?(h=Ld(e,s),d=!1):(h=ft.EMPTY_NODE,d=!1);const g=Hc(new hs(h,d,!1),new hs(s,l,!1));return new JA(t,g)}return u}function cM(n,t,e,s,l,r){const u=rM(n,t,s,l,r);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),nM(u,e),iM(u,e)}function uM(n,t,e,s){const l=t._queryIdentifier,r=[];let u=[];const h=Ni(n);if(l==="default")for(const[d,g]of n.views.entries())u=u.concat(sb(g,e,s)),ib(g)&&(n.views.delete(d),g.query._queryParams.loadsAllData()||r.push(g.query));else{const d=n.views.get(l);d&&(u=u.concat(sb(d,e,s)),ib(d)&&(n.views.delete(l),d.query._queryParams.loadsAllData()||r.push(d.query)))}return h&&!Ni(n)&&r.push(new(lM())(t._repo,t._path)),{removed:r,events:u}}function D0(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ua(n,t){let e=null;for(const s of n.views.values())e=e||eM(s,t);return e}function O0(n,t){if(t._queryParams.loadsAllData())return Bc(n);{const s=t._queryIdentifier;return n.views.get(s)}}function R0(n,t){return O0(n,t)!=null}function Ni(n){return Bc(n)!=null}function Bc(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ec;function hM(n){G(!Ec,"__referenceConstructor has already been defined"),Ec=n}function fM(){return G(Ec,"Reference.ts has not been loaded"),Ec}let dM=1;class lb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Bt(null),this.pendingWriteTree_=PA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function N0(n,t,e,s,l){return DA(n.pendingWriteTree_,t,e,s,l),l?Ca(n,new us(Rd(),t,e)):[]}function gM(n,t,e,s){OA(n.pendingWriteTree_,t,e,s);const l=Bt.fromObject(e);return Ca(n,new ma(Rd(),t,l))}function Ci(n,t,e=!1){const s=RA(n.pendingWriteTree_,t);if(NA(n.pendingWriteTree_,t)){let r=new Bt(null);return s.snap!=null?r=r.set(Mt(),!0):Se(s.children,u=>{r=r.set(new zt(u),!0)}),Ca(n,new yc(s.path,r,e))}else return[]}function Uc(n,t,e){return Ca(n,new us(Nd(),t,e))}function pM(n,t,e){const s=Bt.fromObject(e);return Ca(n,new ma(Nd(),t,s))}function mM(n,t){return Ca(n,new ro(Nd(),t))}function _M(n,t,e){const s=jd(n,e);if(s){const l=Pd(s),r=l.path,u=l.queryId,h=He(r,t),d=new ro(kd(u),h);return Vd(n,r,d)}else return[]}function ed(n,t,e,s,l=!1){const r=t._path,u=n.syncPointTree_.get(r);let h=[];if(u&&(t._queryIdentifier==="default"||R0(u,t))){const d=uM(u,t,e,s);oM(u)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const g=d.removed;if(h=d.events,!l){const m=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(r,(b,S)=>Ni(S));if(m&&!_){const b=n.syncPointTree_.subtree(r);if(!b.isEmpty()){const S=vM(b);for(let x=0;x<S.length;++x){const C=S[x],A=C.query,z=L0(n,C);n.listenProvider_.startListening(Xl(A),Tc(n,A),z.hashFn,z.onComplete)}}}!_&&g.length>0&&!s&&(m?n.listenProvider_.stopListening(Xl(t),null):g.forEach(b=>{const S=n.queryToTagMap.get(jc(b));n.listenProvider_.stopListening(Xl(b),S)}))}SM(n,g)}return h}function yM(n,t,e,s){const l=jd(n,s);if(l!=null){const r=Pd(l),u=r.path,h=r.queryId,d=He(u,t),g=new us(kd(h),d,e);return Vd(n,u,g)}else return[]}function bM(n,t,e,s){const l=jd(n,s);if(l){const r=Pd(l),u=r.path,h=r.queryId,d=He(u,t),g=Bt.fromObject(e),m=new ma(kd(h),d,g);return Vd(n,u,m)}else return[]}function ob(n,t,e,s=!1){const l=t._path;let r=null,u=!1;n.syncPointTree_.foreachOnPath(l,(b,S)=>{const x=He(b,l);r=r||ua(S,x),u=u||Ni(S)});let h=n.syncPointTree_.get(l);h?(u=u||Ni(h),r=r||ua(h,Mt())):(h=new sM,n.syncPointTree_=n.syncPointTree_.set(l,h));let d;r!=null?d=!0:(d=!1,r=ft.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((S,x)=>{const C=ua(x,Mt());C&&(r=r.updateImmediateChild(S,C))}));const g=R0(h,t);if(!g&&!t._queryParams.loadsAllData()){const b=jc(t);G(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const S=xM();n.queryToTagMap.set(b,S),n.tagToQueryMap.set(S,b)}const m=zd(n.pendingWriteTree_,l);let _=cM(h,t,e,m,r,d);if(!g&&!u&&!s){const b=O0(h,t);_=_.concat(EM(n,t,b))}return _}function Ud(n,t,e){const l=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(t,(u,h)=>{const d=He(u,t),g=ua(h,d);if(g)return g});return E0(l,t,r,e,!0)}function Ca(n,t){return k0(t,n.syncPointTree_,null,zd(n.pendingWriteTree_,Mt()))}function k0(n,t,e,s){if(St(n.path))return z0(n,t,e,s);{const l=t.get(Mt());e==null&&l!=null&&(e=ua(l,Mt()));let r=[];const u=_t(n.path),h=n.operationForChild(u),d=t.children.get(u);if(d&&h){const g=e?e.getImmediateChild(u):null,m=T0(s,u);r=r.concat(k0(h,d,g,m))}return l&&(r=r.concat(Bd(l,n,s,e))),r}}function z0(n,t,e,s){const l=t.get(Mt());e==null&&l!=null&&(e=ua(l,Mt()));let r=[];return t.children.inorderTraversal((u,h)=>{const d=e?e.getImmediateChild(u):null,g=T0(s,u),m=n.operationForChild(u);m&&(r=r.concat(z0(m,h,d,g)))}),l&&(r=r.concat(Bd(l,n,s,e))),r}function L0(n,t){const e=t.query,s=Tc(n,e);return{hashFn:()=>(tM(t)||ft.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?_M(n,e._path,s):mM(n,e._path);{const r=pC(l,e);return ed(n,e,null,r)}}}}function Tc(n,t){const e=jc(t);return n.queryToTagMap.get(e)}function jc(n){return n._path.toString()+"$"+n._queryIdentifier}function jd(n,t){return n.tagToQueryMap.get(t)}function Pd(n){const t=n.indexOf("$");return G(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new zt(n.substr(0,t))}}function Vd(n,t,e){const s=n.syncPointTree_.get(t);G(s,"Missing sync point for query tag that we're tracking");const l=zd(n.pendingWriteTree_,t);return Bd(s,e,l,null)}function vM(n){return n.fold((t,e,s)=>{if(e&&Ni(e))return[Bc(e)];{let l=[];return e&&(l=D0(e)),Se(s,(r,u)=>{l=l.concat(u)}),l}})}function Xl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(fM())(n._repo,n._path):n}function SM(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const l=jc(s),r=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(r)}}}function xM(){return dM++}function EM(n,t,e){const s=t._path,l=Tc(n,t),r=L0(n,e),u=n.listenProvider_.startListening(Xl(t),l,r.hashFn,r.onComplete),h=n.syncPointTree_.subtree(s);if(l)G(!Ni(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((g,m,_)=>{if(!St(g)&&m&&Ni(m))return[Bc(m).query];{let b=[];return m&&(b=b.concat(D0(m).map(S=>S.query))),Se(_,(S,x)=>{b=b.concat(x)}),b}});for(let g=0;g<d.length;++g){const m=d[g];n.listenProvider_.stopListening(Xl(m),Tc(n,m))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Yd(e)}node(){return this.node_}}class Fd{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Kt(this.path_,t);return new Fd(this.syncTree_,e)}node(){return Ud(this.syncTree_,this.path_)}}const TM=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},rb=function(n,t,e){if(!n||typeof n!="object")return n;if(G(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return CM(n[".sv"],t,e);if(typeof n[".sv"]=="object")return AM(n[".sv"],t);G(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},CM=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:G(!1,"Unexpected server value: "+n)}},AM=function(n,t,e){n.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&G(!1,"Unexpected increment value: "+s);const l=t.node();if(G(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const u=l.getValue();return typeof u!="number"?s:u+s},I0=function(n,t,e,s){return qd(t,new Fd(e,n),s)},H0=function(n,t,e){return qd(n,new Yd(t),e)};function qd(n,t,e){const s=n.getPriority().val(),l=rb(s,t.getImmediateChild(".priority"),e);let r;if(n.isLeafNode()){const u=n,h=rb(u.getValue(),t,e);return h!==u.getValue()||l!==u.getPriority().val()?new fe(h,ge(l)):n}else{const u=n;return r=u,l!==u.getPriority().val()&&(r=r.updatePriority(new fe(l))),u.forEachChild(Zt,(h,d)=>{const g=qd(d,t.getImmediateChild(h),e);g!==d&&(r=r.updateImmediateChild(h,g))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function Wd(n,t){let e=t instanceof zt?t:new zt(t),s=n,l=_t(e);for(;l!==null;){const r=da(s.node.children,l)||{children:{},childCount:0};s=new Gd(l,s,r),e=jt(e),l=_t(e)}return s}function Aa(n){return n.node.value}function B0(n,t){n.node.value=t,nd(n)}function U0(n){return n.node.childCount>0}function MM(n){return Aa(n)===void 0&&!U0(n)}function Pc(n,t){Se(n.node.children,(e,s)=>{t(new Gd(e,n,s))})}function j0(n,t,e,s){e&&t(n),Pc(n,l=>{j0(l,t,!0)})}function wM(n,t,e){let s=n.parent;for(;s!==null;){if(t(s))return!0;s=s.parent}return!1}function To(n){return new zt(n.parent===null?n.name:To(n.parent)+"/"+n.name)}function nd(n){n.parent!==null&&DM(n.parent,n.name,n)}function DM(n,t,e){const s=MM(e),l=Mn(n.node.children,t);s&&l?(delete n.node.children[t],n.node.childCount--,nd(n)):!s&&!l&&(n.node.children[t]=e.node,n.node.childCount++,nd(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/[\[\].#$\/\u0000-\u001F\u007F]/,RM=/[\[\].#$\u0000-\u001F\u007F]/,wf=10*1024*1024,Xd=function(n){return typeof n=="string"&&n.length!==0&&!OM.test(n)},P0=function(n){return typeof n=="string"&&n.length!==0&&!RM.test(n)},NM=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),P0(n)},kM=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!vd(n)||n&&typeof n=="object"&&Mn(n,".sv")},V0=function(n,t,e,s){s&&t===void 0||Vc(zc(n,"value"),t,e)},Vc=function(n,t,e){const s=e instanceof zt?new QC(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+is(s));if(typeof t=="function")throw new Error(n+"contains a function "+is(s)+" with contents = "+t.toString());if(vd(t))throw new Error(n+"contains "+t.toString()+" "+is(s));if(typeof t=="string"&&t.length>wf/3&&Lc(t)>wf)throw new Error(n+"contains a string greater than "+wf+" utf8 bytes "+is(s)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,r=!1;if(Se(t,(u,h)=>{if(u===".value")l=!0;else if(u!==".priority"&&u!==".sv"&&(r=!0,!Xd(u)))throw new Error(n+" contains an invalid key ("+u+") "+is(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KC(s,u),Vc(n,h,s),ZC(s)}),l&&r)throw new Error(n+' contains ".value" child '+is(s)+" in addition to actual children.")}},zM=function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const r=so(s);for(let u=0;u<r.length;u++)if(!(r[u]===".priority"&&u===r.length-1)){if(!Xd(r[u]))throw new Error(n+"contains an invalid key ("+r[u]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(XC);let l=null;for(e=0;e<t.length;e++){if(s=t[e],l!==null&&ln(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},LM=function(n,t,e,s){const l=zc(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const r=[];Se(t,(u,h)=>{const d=new zt(u);if(Vc(l,h,Kt(e,d)),Cd(d)===".priority"&&!kM(h))throw new Error(l+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(d)}),zM(l,r)},Y0=function(n,t,e,s){if(!P0(e))throw new Error(zc(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IM=function(n,t,e,s){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Y0(n,t,e)},Qd=function(n,t){if(_t(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},HM=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Xd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!NM(e))throw new Error(zc(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Yc(n,t){let e=null;for(let s=0;s<t.length;s++){const l=t[s],r=l.getPath();e!==null&&!Ad(r,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:r}),e.events.push(l)}e&&n.eventLists_.push(e)}function F0(n,t,e){Yc(n,e),q0(n,s=>Ad(s,t))}function mn(n,t,e){Yc(n,e),q0(n,s=>ln(s,t)||ln(t,s))}function q0(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const r=l.path;t(r)?(UM(n.eventLists_[s]),n.eventLists_[s]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function UM(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const s=e.getEventRunner();Fl&&ve("event: "+e.toString()),Ta(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="repo_interrupt",PM=25;class VM{constructor(t,e,s,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new BM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=_c(),this.transactionQueueTree_=new Gd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YM(n,t,e){if(n.stats_=Ed(n.repoInfo_),n.forceRestClient_||bC())n.server_=new mc(n.repoInfo_,(s,l,r,u)=>{cb(n,s,l,r,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ub(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pe(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new Qn(n.repoInfo_,t,(s,l,r,u)=>{cb(n,s,l,r,u)},s=>{ub(n,s)},s=>{FM(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=TC(n.repoInfo_,()=>new EA(n.stats_,n.server_)),n.infoData_=new yA,n.infoSyncTree_=new lb({startListening:(s,l,r,u)=>{let h=[];const d=n.infoData_.getNode(s._path);return d.isEmpty()||(h=Uc(n.infoSyncTree_,s._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),Kd(n,"connected",!1),n.serverSyncTree_=new lb({startListening:(s,l,r,u)=>(n.server_.listen(s,r,l,(h,d)=>{const g=u(h,d);mn(n.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function G0(n){const e=n.infoData_.getNode(new zt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function Fc(n){return TM({timestamp:G0(n)})}function cb(n,t,e,s,l){n.dataUpdateCount++;const r=new zt(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(l)if(s){const d=cc(e,g=>ge(g));u=bM(n.serverSyncTree_,r,d,l)}else{const d=ge(e);u=yM(n.serverSyncTree_,r,d,l)}else if(s){const d=cc(e,g=>ge(g));u=pM(n.serverSyncTree_,r,d)}else{const d=ge(e);u=Uc(n.serverSyncTree_,r,d)}let h=r;u.length>0&&(h=ya(n,r)),mn(n.eventQueue_,h,u)}function ub(n,t){Kd(n,"connected",t),t===!1&&WM(n)}function FM(n,t){Se(t,(e,s)=>{Kd(n,e,s)})}function Kd(n,t,e){const s=new zt("/.info/"+t),l=ge(e);n.infoData_.updateSnapshot(s,l);const r=Uc(n.infoSyncTree_,s,l);mn(n.eventQueue_,s,r)}function Zd(n){return n.nextWriteId_++}function qM(n,t,e,s,l){qc(n,"set",{path:t.toString(),value:e,priority:s});const r=Fc(n),u=ge(e,s),h=Ud(n.serverSyncTree_,t),d=H0(u,h,r),g=Zd(n),m=N0(n.serverSyncTree_,t,d,g,!0);Yc(n.eventQueue_,m),n.server_.put(t.toString(),u.val(!0),(b,S)=>{const x=b==="ok";x||De("set at "+t+" failed: "+b);const C=Ci(n.serverSyncTree_,g,!x);mn(n.eventQueue_,t,C),id(n,l,b,S)});const _=Jd(n,t);ya(n,_),mn(n.eventQueue_,_,[])}function GM(n,t,e,s){qc(n,"update",{path:t.toString(),value:e});let l=!0;const r=Fc(n),u={};if(Se(e,(h,d)=>{l=!1,u[h]=I0(Kt(t,h),ge(d),n.serverSyncTree_,r)}),l)ve("update() called with empty data.  Don't do anything."),id(n,s,"ok",void 0);else{const h=Zd(n),d=gM(n.serverSyncTree_,t,u,h);Yc(n.eventQueue_,d),n.server_.merge(t.toString(),e,(g,m)=>{const _=g==="ok";_||De("update at "+t+" failed: "+g);const b=Ci(n.serverSyncTree_,h,!_),S=b.length>0?ya(n,t):t;mn(n.eventQueue_,S,b),id(n,s,g,m)}),Se(e,g=>{const m=Jd(n,Kt(t,g));ya(n,m)}),mn(n.eventQueue_,t,[])}}function WM(n){qc(n,"onDisconnectEvents");const t=Fc(n),e=_c();Xf(n.onDisconnect_,Mt(),(l,r)=>{const u=I0(l,r,n.serverSyncTree_,t);b0(e,l,u)});let s=[];Xf(e,Mt(),(l,r)=>{s=s.concat(Uc(n.serverSyncTree_,l,r));const u=Jd(n,l);ya(n,u)}),n.onDisconnect_=_c(),mn(n.eventQueue_,Mt(),s)}function XM(n,t,e){let s;_t(t._path)===".info"?s=ob(n.infoSyncTree_,t,e):s=ob(n.serverSyncTree_,t,e),F0(n.eventQueue_,t._path,s)}function QM(n,t,e){let s;_t(t._path)===".info"?s=ed(n.infoSyncTree_,t,e):s=ed(n.serverSyncTree_,t,e),F0(n.eventQueue_,t._path,s)}function KM(n){n.persistentConnection_&&n.persistentConnection_.interrupt(jM)}function qc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),ve(e,...t)}function id(n,t,e,s){t&&Ta(()=>{if(e==="ok")t(null);else{const l=(e||"error").toUpperCase();let r=l;s&&(r+=": "+s);const u=new Error(r);u.code=l,t(u)}})}function W0(n,t,e){return Ud(n.serverSyncTree_,t,e)||ft.EMPTY_NODE}function $d(n,t=n.transactionQueueTree_){if(t||Gc(n,t),Aa(t)){const e=Q0(n,t);G(e.length>0,"Sending zero length transaction queue"),e.every(l=>l.status===0)&&ZM(n,To(t),e)}else U0(t)&&Pc(t,e=>{$d(n,e)})}function ZM(n,t,e){const s=e.map(g=>g.currentWriteId),l=W0(n,t,s);let r=l;const u=l.hash();for(let g=0;g<e.length;g++){const m=e[g];G(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=He(t,m.path);r=r.updateChild(_,m.currentOutputSnapshotRaw)}const h=r.val(!0),d=t;n.server_.put(d.toString(),h,g=>{qc(n,"transaction put response",{path:d.toString(),status:g});let m=[];if(g==="ok"){const _=[];for(let b=0;b<e.length;b++)e[b].status=2,m=m.concat(Ci(n.serverSyncTree_,e[b].currentWriteId)),e[b].onComplete&&_.push(()=>e[b].onComplete(null,!0,e[b].currentOutputSnapshotResolved)),e[b].unwatcher();Gc(n,Wd(n.transactionQueueTree_,t)),$d(n,n.transactionQueueTree_),mn(n.eventQueue_,t,m);for(let b=0;b<_.length;b++)Ta(_[b])}else{if(g==="datastale")for(let _=0;_<e.length;_++)e[_].status===3?e[_].status=4:e[_].status=0;else{De("transaction at "+d.toString()+" failed: "+g);for(let _=0;_<e.length;_++)e[_].status=4,e[_].abortReason=g}ya(n,t)}},u)}function ya(n,t){const e=X0(n,t),s=To(e),l=Q0(n,e);return $M(n,l,s),s}function $M(n,t,e){if(t.length===0)return;const s=[];let l=[];const u=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],g=He(e,d.path);let m=!1,_;if(G(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,_=d.abortReason,l=l.concat(Ci(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=PM)m=!0,_="maxretry",l=l.concat(Ci(n.serverSyncTree_,d.currentWriteId,!0));else{const b=W0(n,d.path,u);d.currentInputSnapshot=b;const S=t[h].update(b.val());if(S!==void 0){Vc("transaction failed: Data returned ",S,d.path);let x=ge(S);typeof S=="object"&&S!=null&&Mn(S,".priority")||(x=x.updatePriority(b.getPriority()));const A=d.currentWriteId,z=Fc(n),B=H0(x,b,z);d.currentOutputSnapshotRaw=x,d.currentOutputSnapshotResolved=B,d.currentWriteId=Zd(n),u.splice(u.indexOf(A),1),l=l.concat(N0(n.serverSyncTree_,d.path,B,d.currentWriteId,d.applyLocally)),l=l.concat(Ci(n.serverSyncTree_,A,!0))}else m=!0,_="nodata",l=l.concat(Ci(n.serverSyncTree_,d.currentWriteId,!0))}mn(n.eventQueue_,e,l),l=[],m&&(t[h].status=2,function(b){setTimeout(b,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(_==="nodata"?s.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):s.push(()=>t[h].onComplete(new Error(_),!1,null))))}Gc(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)Ta(s[h]);$d(n,n.transactionQueueTree_)}function X0(n,t){let e,s=n.transactionQueueTree_;for(e=_t(t);e!==null&&Aa(s)===void 0;)s=Wd(s,e),t=jt(t),e=_t(t);return s}function Q0(n,t){const e=[];return K0(n,t,e),e.sort((s,l)=>s.order-l.order),e}function K0(n,t,e){const s=Aa(t);if(s)for(let l=0;l<s.length;l++)e.push(s[l]);Pc(t,l=>{K0(n,l,e)})}function Gc(n,t){const e=Aa(t);if(e){let s=0;for(let l=0;l<e.length;l++)e[l].status!==2&&(e[s]=e[l],s++);e.length=s,B0(t,e.length>0?e:void 0)}Pc(t,s=>{Gc(n,s)})}function Jd(n,t){const e=To(X0(n,t)),s=Wd(n.transactionQueueTree_,t);return wM(s,l=>{Df(n,l)}),Df(n,s),j0(s,l=>{Df(n,l)}),e}function Df(n,t){const e=Aa(t);if(e){const s=[];let l=[],r=-1;for(let u=0;u<e.length;u++)e[u].status===3||(e[u].status===1?(G(r===u-1,"All SENT items should be at beginning of queue."),r=u,e[u].status=3,e[u].abortReason="set"):(G(e[u].status===0,"Unexpected transaction status in abort"),e[u].unwatcher(),l=l.concat(Ci(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&s.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));r===-1?B0(t,void 0):e.length=r+1,mn(n.eventQueue_,To(t),l);for(let u=0;u<s.length;u++)Ta(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let l=e[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function tw(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const s=e.split("=");s.length===2?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):De(`Invalid query segment '${e}' in query '${n}'`)}return t}const hb=function(n,t){const e=ew(n),s=e.namespace;e.domain==="firebase.com"&&Zn(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&e.domain!=="localhost"&&Zn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||uC();const l=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new n0(e.host,e.secure,s,l,t,"",s!==e.subdomain),path:new zt(e.pathString)}},ew=function(n){let t="",e="",s="",l="",r="",u=!0,h="https",d=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let m=n.indexOf("/");m===-1&&(m=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),t=n.substring(0,Math.min(m,_)),m<_&&(l=JM(n.substring(m,_)));const b=tw(n.substring(Math.min(n.length,_)));g=t.indexOf(":"),g>=0?(u=h==="https"||h==="wss",d=parseInt(t.substring(g+1),10)):g=t.length;const S=t.slice(0,g);if(S.toLowerCase()==="localhost")e="localhost";else if(S.split(".").length<=2)e=S;else{const x=t.indexOf(".");s=t.substring(0,x).toLowerCase(),e=t.substring(x+1),r=s}"ns"in b&&(r=b.ns)}return{host:t,port:d,domain:e,subdomain:s,secure:u,scheme:h,pathString:l,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nw=function(){let n=0;const t=[];return function(e){const s=e===n;n=e;let l;const r=new Array(8);for(l=7;l>=0;l--)r[l]=fb.charAt(e%64),e=Math.floor(e/64);G(e===0,"Cannot push at time == 0");let u=r.join("");if(s){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)u+=fb.charAt(t[l]);return G(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,e,s,l){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+pe(this.snapshot.exportVal())}}class sw{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return G(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,e,s,l){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=l}get key(){return St(this._path)?null:Cd(this._path)}get ref(){return new zi(this._repo,this._path)}get _queryIdentifier(){const t=Ky(this._queryParams),e=Sd(t);return e==="{}"?"default":e}get _queryObject(){return Ky(this._queryParams)}isEqual(t){if(t=Ea(t),!(t instanceof tg))return!1;const e=this._repo===t._repo,s=Ad(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return e&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+WC(this._path)}}class zi extends tg{constructor(t,e){super(t,e,new Od,!1)}get parent(){const t=h0(this._path);return t===null?null:new zi(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Cc{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new zt(t),s=co(this.ref,t);return new Cc(this._node.getChild(e),s,Zt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>t(new Cc(l,co(this.ref,s),Zt)))}hasChild(t){const e=new zt(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Rl(n,t){return n=Ea(n),n._checkNotDeleted("ref"),t!==void 0?co(n._root,t):n._root}function co(n,t){return n=Ea(n),_t(n._path)===null?IM("child","path",t):Y0("child","path",t),new zi(n._repo,Kt(n._path,t))}function lw(n,t){n=Ea(n),Qd("push",n._path),V0("push",t,n._path,!0);const e=G0(n._repo),s=nw(e),l=co(n,s),r=co(n,s);let u;return t!=null?u=Z0(r,t).then(()=>r):u=Promise.resolve(r),l.then=u.then.bind(u),l.catch=u.then.bind(u,void 0),l}function db(n){return Qd("remove",n._path),Z0(n,null)}function Z0(n,t){n=Ea(n),Qd("set",n._path),V0("set",t,n._path,!1);const e=new bo;return qM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ow(n,t){LM("update",t,n._path);const e=new bo;return GM(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class eg{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const s=e._queryParams.getIndex();return new iw("value",this,new Cc(t.snapshotNode,new zi(e._repo,e._path),s))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sw(this,t,e):null}matches(t){return t instanceof eg?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rw(n,t,e,s,l){const r=new aw(e,void 0),u=new eg(r);return XM(n._repo,n,u),()=>QM(n._repo,n,u)}function cw(n,t,e,s){return rw(n,"value",t)}aM(zi);hM(zi);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="FIREBASE_DATABASE_EMULATOR_HOST",sd={};let hw=!1;function fw(n,t,e,s){n.repoInfo_=new n0(t,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),s&&(n.authTokenProvider_=s)}function dw(n,t,e,s,l){let r=s||n.options.databaseURL;r===void 0&&(n.options.projectId||Zn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),ve("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=hb(r,l),h=u.repoInfo,d;typeof process<"u"&&Ny&&(d=Ny[uw]),d?(r=`http://${d}?ns=${h.namespace}`,u=hb(r,l),h=u.repoInfo):u.repoInfo.secure;const g=new SC(n.name,n.options,t);HM("Invalid Firebase Database URL",u),St(u.path)||Zn("Database URL must point to the root of a Firebase Database (not including a child path).");const m=pw(h,n,g,new vC(n,e));return new mw(m,n)}function gw(n,t){const e=sd[t];(!e||e[n.key]!==n)&&Zn(`Database ${t}(${n.repoInfo_}) has already been deleted.`),KM(n),delete e[n.key]}function pw(n,t,e,s){let l=sd[t.name];l||(l={},sd[t.name]=l);let r=l[n.toURLString()];return r&&Zn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new VM(n,hw,e,s),l[n.toURLString()]=r,r}class mw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(YM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new zi(this._repo,Mt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Zn("Cannot call "+t+" on a deleted database.")}}function _w(n=qT(),t){const e=jT(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const s=DE("database");s&&yw(e,...s)}return e}function yw(n,t,e,s={}){n=Ea(n),n._checkNotDeleted("useEmulator");const l=`${t}:${e}`,r=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&uc(s,r.repoInfo_.emulatorOptions))return;Zn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&Zn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new ic(ic.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:OE(s.mockUserToken,n.app.options.projectId);u=new ic(h)}fw(r,l,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n){sC(FT),fc(new eo("database",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return dw(s,l,r,e)},"PUBLIC").setMultipleInstances(!0)),oa(ky,zy,n),oa(ky,zy,"esm2017")}Qn.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};Qn.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};bw();const vw={apiKey:"...",authDomain:"...",databaseURL:"https://moneytechbank-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"...",storageBucket:"...",messagingSenderId:"...",appId:"..."},Sw=Uv(vw),Nl=_w(Sw);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Co(n){return n+.5|0}const Ai=(n,t,e)=>Math.max(Math.min(n,e),t);function Bl(n){return Ai(Co(n*2.55),0,255)}function Oi(n){return Ai(Co(n*255),0,255)}function Gn(n){return Ai(Co(n/2.55)/100,0,1)}function gb(n){return Ai(Co(n*100),0,100)}const an={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ad=[..."0123456789ABCDEF"],xw=n=>ad[n&15],Ew=n=>ad[(n&240)>>4]+ad[n&15],Yr=n=>(n&240)>>4===(n&15),Tw=n=>Yr(n.r)&&Yr(n.g)&&Yr(n.b)&&Yr(n.a);function Cw(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&an[n[1]]*17,g:255&an[n[2]]*17,b:255&an[n[3]]*17,a:t===5?an[n[4]]*17:255}:(t===7||t===9)&&(e={r:an[n[1]]<<4|an[n[2]],g:an[n[3]]<<4|an[n[4]],b:an[n[5]]<<4|an[n[6]],a:t===9?an[n[7]]<<4|an[n[8]]:255})),e}const Aw=(n,t)=>n<255?t(n):"";function Mw(n){var t=Tw(n)?xw:Ew;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Aw(n.a,t):void 0}const ww=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $0(n,t,e){const s=t*Math.min(e,1-e),l=(r,u=(r+n/30)%12)=>e-s*Math.max(Math.min(u-3,9-u,1),-1);return[l(0),l(8),l(4)]}function Dw(n,t,e){const s=(l,r=(l+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Ow(n,t,e){const s=$0(n,1,.5);let l;for(t+e>1&&(l=1/(t+e),t*=l,e*=l),l=0;l<3;l++)s[l]*=1-t-e,s[l]+=t;return s}function Rw(n,t,e,s,l){return n===l?(t-e)/s+(t<e?6:0):t===l?(e-n)/s+2:(n-t)/s+4}function ng(n){const e=n.r/255,s=n.g/255,l=n.b/255,r=Math.max(e,s,l),u=Math.min(e,s,l),h=(r+u)/2;let d,g,m;return r!==u&&(m=r-u,g=h>.5?m/(2-r-u):m/(r+u),d=Rw(e,s,l,m,r),d=d*60+.5),[d|0,g||0,h]}function ig(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(Oi)}function sg(n,t,e){return ig($0,n,t,e)}function Nw(n,t,e){return ig(Ow,n,t,e)}function kw(n,t,e){return ig(Dw,n,t,e)}function J0(n){return(n%360+360)%360}function zw(n){const t=ww.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Bl(+t[5]):Oi(+t[5]));const l=J0(+t[2]),r=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?s=Nw(l,r,u):t[1]==="hsv"?s=kw(l,r,u):s=sg(l,r,u),{r:s[0],g:s[1],b:s[2],a:e}}function Lw(n,t){var e=ng(n);e[0]=J0(e[0]+t),e=sg(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Iw(n){if(!n)return;const t=ng(n),e=t[0],s=gb(t[1]),l=gb(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${l}%, ${Gn(n.a)})`:`hsl(${e}, ${s}%, ${l}%)`}const pb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Hw(){const n={},t=Object.keys(mb),e=Object.keys(pb);let s,l,r,u,h;for(s=0;s<t.length;s++){for(u=h=t[s],l=0;l<e.length;l++)r=e[l],h=h.replace(r,pb[r]);r=parseInt(mb[u],16),n[h]=[r>>16&255,r>>8&255,r&255]}return n}let Fr;function Bw(n){Fr||(Fr=Hw(),Fr.transparent=[0,0,0,0]);const t=Fr[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Uw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jw(n){const t=Uw.exec(n);let e=255,s,l,r;if(t){if(t[7]!==s){const u=+t[7];e=t[8]?Bl(u):Ai(u*255,0,255)}return s=+t[1],l=+t[3],r=+t[5],s=255&(t[2]?Bl(s):Ai(s,0,255)),l=255&(t[4]?Bl(l):Ai(l,0,255)),r=255&(t[6]?Bl(r):Ai(r,0,255)),{r:s,g:l,b:r,a:e}}}function Pw(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Gn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Of=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ia=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Vw(n,t,e){const s=ia(Gn(n.r)),l=ia(Gn(n.g)),r=ia(Gn(n.b));return{r:Oi(Of(s+e*(ia(Gn(t.r))-s))),g:Oi(Of(l+e*(ia(Gn(t.g))-l))),b:Oi(Of(r+e*(ia(Gn(t.b))-r))),a:n.a+e*(t.a-n.a)}}function qr(n,t,e){if(n){let s=ng(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=sg(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function tS(n,t){return n&&Object.assign(t||{},n)}function _b(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Oi(n[3]))):(t=tS(n,{r:0,g:0,b:0,a:1}),t.a=Oi(t.a)),t}function Yw(n){return n.charAt(0)==="r"?jw(n):zw(n)}class uo{constructor(t){if(t instanceof uo)return t;const e=typeof t;let s;e==="object"?s=_b(t):e==="string"&&(s=Cw(t)||Bw(t)||Yw(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=tS(this._rgb);return t&&(t.a=Gn(t.a)),t}set rgb(t){this._rgb=_b(t)}rgbString(){return this._valid?Pw(this._rgb):void 0}hexString(){return this._valid?Mw(this._rgb):void 0}hslString(){return this._valid?Iw(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,l=t.rgb;let r;const u=e===r?.5:e,h=2*u-1,d=s.a-l.a,g=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;r=1-g,s.r=255&g*s.r+r*l.r+.5,s.g=255&g*s.g+r*l.g+.5,s.b=255&g*s.b+r*l.b+.5,s.a=u*s.a+(1-u)*l.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=Vw(this._rgb,t._rgb,e)),this}clone(){return new uo(this.rgb)}alpha(t){return this._rgb.a=Oi(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Co(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return qr(this._rgb,2,t),this}darken(t){return qr(this._rgb,2,-t),this}saturate(t){return qr(this._rgb,1,t),this}desaturate(t){return qr(this._rgb,1,-t),this}rotate(t){return Lw(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Yn(){}const Fw=(()=>{let n=0;return()=>n++})();function Pt(n){return n==null}function me(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Ct(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function rn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function En(n,t){return rn(n)?n:t}function xt(n,t){return typeof n>"u"?t:n}const qw=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,eS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Vt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Ot(n,t,e,s){let l,r,u;if(me(n))for(r=n.length,l=0;l<r;l++)t.call(e,n[l],l);else if(Ct(n))for(u=Object.keys(n),r=u.length,l=0;l<r;l++)t.call(e,n[u[l]],u[l])}function Ac(n,t){let e,s,l,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(l=n[e],r=t[e],l.datasetIndex!==r.datasetIndex||l.index!==r.index)return!1;return!0}function Mc(n){if(me(n))return n.map(Mc);if(Ct(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let l=0;for(;l<s;++l)t[e[l]]=Mc(n[e[l]]);return t}return n}function nS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Gw(n,t,e,s){if(!nS(n))return;const l=t[n],r=e[n];Ct(l)&&Ct(r)?ho(l,r,s):t[n]=Mc(r)}function ho(n,t,e){const s=me(t)?t:[t],l=s.length;if(!Ct(n))return n;e=e||{};const r=e.merger||Gw;let u;for(let h=0;h<l;++h){if(u=s[h],!Ct(u))continue;const d=Object.keys(u);for(let g=0,m=d.length;g<m;++g)r(d[g],n,u,e)}return n}function Ql(n,t){return ho(n,t,{merger:Ww})}function Ww(n,t,e){if(!nS(n))return;const s=t[n],l=e[n];Ct(s)&&Ct(l)?Ql(s,l):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Mc(l))}const yb={"":n=>n,x:n=>n.x,y:n=>n.y};function Xw(n){const t=n.split("."),e=[];let s="";for(const l of t)s+=l,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function Qw(n){const t=Xw(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function fo(n,t){return(yb[t]||(yb[t]=Qw(t)))(n)}function ag(n){return n.charAt(0).toUpperCase()+n.slice(1)}const wc=n=>typeof n<"u",ki=n=>typeof n=="function",bb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Kw(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Jt=Math.PI,$t=2*Jt,Zw=$t+Jt,Dc=Number.POSITIVE_INFINITY,$w=Jt/180,oe=Jt/2,Ji=Jt/4,vb=Jt*2/3,iS=Math.log10,ba=Math.sign;function Kl(n,t,e){return Math.abs(n-t)<e}function Sb(n){const t=Math.round(n);n=Kl(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(iS(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function Jw(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((l,r)=>l-r).pop(),t}function tD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function go(n){return!tD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function eD(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function nD(n,t,e){let s,l,r;for(s=0,l=n.length;s<l;s++)r=n[s][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Xn(n){return n*(Jt/180)}function iD(n){return n*(180/Jt)}function xb(n){if(!rn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function sS(n,t){const e=t.x-n.x,s=t.y-n.y,l=Math.sqrt(e*e+s*s);let r=Math.atan2(s,e);return r<-.5*Jt&&(r+=$t),{angle:r,distance:l}}function ld(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function sD(n,t){return(n-t+Zw)%$t-Jt}function Ti(n){return(n%$t+$t)%$t}function po(n,t,e,s){const l=Ti(n),r=Ti(t),u=Ti(e),h=Ti(r-l),d=Ti(u-l),g=Ti(l-r),m=Ti(l-u);return l===r||l===u||s&&r===u||h>d&&g<m}function we(n,t,e){return Math.max(t,Math.min(e,n))}function aD(n){return we(n,-32768,32767)}function la(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function lg(n,t,e){e=e||(u=>n[u]<t);let s=n.length-1,l=0,r;for(;s-l>1;)r=l+s>>1,e(r)?l=r:s=r;return{lo:l,hi:s}}const os=(n,t,e,s)=>lg(n,e,s?l=>{const r=n[l][t];return r<e||r===e&&n[l+1][t]===e}:l=>n[l][t]<e),lD=(n,t,e)=>lg(n,e,s=>n[s][t]>=e);function oD(n,t,e){let s=0,l=n.length;for(;s<l&&n[s]<t;)s++;for(;l>s&&n[l-1]>e;)l--;return s>0||l<n.length?n.slice(s,l):n}const aS=["push","pop","shift","splice","unshift"];function rD(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),aS.forEach(e=>{const s="_onData"+ag(e),l=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const u=l.apply(this,r);return n._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...r)}),u}})})}function Eb(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,l=s.indexOf(t);l!==-1&&s.splice(l,1),!(s.length>0)&&(aS.forEach(r=>{delete n[r]}),delete n._chartjs)}function cD(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const lS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function oS(n,t){let e=[],s=!1;return function(...l){e=l,s||(s=!0,lS.call(window,()=>{s=!1,n.apply(t,e)}))}}function uD(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const og=n=>n==="start"?"left":n==="end"?"right":"center",Ce=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,hD=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function fD(n,t,e){const s=t.length;let l=0,r=s;if(n._sorted){const{iScale:u,vScale:h,_parsed:d}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=u.axis,{min:_,max:b,minDefined:S,maxDefined:x}=u.getUserBounds();if(S){if(l=Math.min(os(d,m,_).lo,e?s:os(t,m,u.getPixelForValue(_)).lo),g){const C=d.slice(0,l+1).reverse().findIndex(A=>!Pt(A[h.axis]));l-=Math.max(0,C)}l=we(l,0,s-1)}if(x){let C=Math.max(os(d,u.axis,b,!0).hi+1,e?0:os(t,m,u.getPixelForValue(b),!0).hi+1);if(g){const A=d.slice(C-1).findIndex(z=>!Pt(z[h.axis]));C+=Math.max(0,A)}r=we(C,l,s)-l}else r=s-l}return{start:l,count:r}}function dD(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,l={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=l,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,l),r}const Gr=n=>n===0||n===1,Tb=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*$t/e)),Cb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*$t/e)+1,Zl={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*oe)+1,easeOutSine:n=>Math.sin(n*oe),easeInOutSine:n=>-.5*(Math.cos(Jt*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Gr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Gr(n)?n:Tb(n,.075,.3),easeOutElastic:n=>Gr(n)?n:Cb(n,.075,.3),easeInOutElastic(n){return Gr(n)?n:n<.5?.5*Tb(n*2,.1125,.45):.5+.5*Cb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Zl.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Zl.easeInBounce(n*2)*.5:Zl.easeOutBounce(n*2-1)*.5+.5};function rg(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ab(n){return rg(n)?n:new uo(n)}function Rf(n){return rg(n)?n:new uo(n).saturate(.5).darken(.1).hexString()}const gD=["x","y","borderWidth","radius","tension"],pD=["color","borderColor","backgroundColor"];function mD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:pD},numbers:{type:"number",properties:gD}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function _D(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mb=new Map;function yD(n,t){t=t||{};const e=n+JSON.stringify(t);let s=Mb.get(e);return s||(s=new Intl.NumberFormat(n,t),Mb.set(e,s)),s}function cg(n,t,e){return yD(t,e).format(n)}const bD={values(n){return me(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let l,r=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(l="scientific"),r=vD(n,e)}const u=iS(Math.abs(r)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),d={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),cg(n,s,d)}};function vD(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var rS={formatters:bD};function SD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ds=Object.create(null),od=Object.create(null);function $l(n,t){if(!t)return n;const e=t.split(".");for(let s=0,l=e.length;s<l;++s){const r=e[s];n=n[r]||(n[r]=Object.create(null))}return n}function Nf(n,t,e){return typeof t=="string"?ho($l(n,t),e):ho($l(n,""),t)}class xD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,l)=>Rf(l.backgroundColor),this.hoverBorderColor=(s,l)=>Rf(l.borderColor),this.hoverColor=(s,l)=>Rf(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Nf(this,t,e)}get(t){return $l(this,t)}describe(t,e){return Nf(od,t,e)}override(t,e){return Nf(ds,t,e)}route(t,e,s,l){const r=$l(this,t),u=$l(this,s),h="_"+e;Object.defineProperties(r,{[h]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],g=u[l];return Ct(d)?Object.assign({},g,d):xt(d,g)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var ne=new xD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mD,_D,SD]);function ED(n){return!n||Pt(n.size)||Pt(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function wb(n,t,e,s,l){let r=t[l];return r||(r=t[l]=n.measureText(l).width,e.push(l)),r>s&&(s=r),s}function ts(n,t,e){const s=n.currentDevicePixelRatio,l=e!==0?Math.max(e/2,.5):0;return Math.round((t-l)*s)/s+l}function Db(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function rd(n,t,e,s){cS(n,t,e,s,null)}function cS(n,t,e,s,l){let r,u,h,d,g,m,_,b;const S=t.pointStyle,x=t.rotation,C=t.radius;let A=(x||0)*$w;if(S&&typeof S=="object"&&(r=S.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(A),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),S){default:l?n.ellipse(e,s,l/2,C,0,0,$t):n.arc(e,s,C,0,$t),n.closePath();break;case"triangle":m=l?l/2:C,n.moveTo(e+Math.sin(A)*m,s-Math.cos(A)*C),A+=vb,n.lineTo(e+Math.sin(A)*m,s-Math.cos(A)*C),A+=vb,n.lineTo(e+Math.sin(A)*m,s-Math.cos(A)*C),n.closePath();break;case"rectRounded":g=C*.516,d=C-g,u=Math.cos(A+Ji)*d,_=Math.cos(A+Ji)*(l?l/2-g:d),h=Math.sin(A+Ji)*d,b=Math.sin(A+Ji)*(l?l/2-g:d),n.arc(e-_,s-h,g,A-Jt,A-oe),n.arc(e+b,s-u,g,A-oe,A),n.arc(e+_,s+h,g,A,A+oe),n.arc(e-b,s+u,g,A+oe,A+Jt),n.closePath();break;case"rect":if(!x){d=Math.SQRT1_2*C,m=l?l/2:d,n.rect(e-m,s-d,2*m,2*d);break}A+=Ji;case"rectRot":_=Math.cos(A)*(l?l/2:C),u=Math.cos(A)*C,h=Math.sin(A)*C,b=Math.sin(A)*(l?l/2:C),n.moveTo(e-_,s-h),n.lineTo(e+b,s-u),n.lineTo(e+_,s+h),n.lineTo(e-b,s+u),n.closePath();break;case"crossRot":A+=Ji;case"cross":_=Math.cos(A)*(l?l/2:C),u=Math.cos(A)*C,h=Math.sin(A)*C,b=Math.sin(A)*(l?l/2:C),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u);break;case"star":_=Math.cos(A)*(l?l/2:C),u=Math.cos(A)*C,h=Math.sin(A)*C,b=Math.sin(A)*(l?l/2:C),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u),A+=Ji,_=Math.cos(A)*(l?l/2:C),u=Math.cos(A)*C,h=Math.sin(A)*C,b=Math.sin(A)*(l?l/2:C),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u);break;case"line":u=l?l/2:Math.cos(A)*C,h=Math.sin(A)*C,n.moveTo(e-u,s-h),n.lineTo(e+u,s+h);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(A)*(l?l/2:C),s+Math.sin(A)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function mo(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ug(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function hg(n){n.restore()}function TD(n,t,e,s,l){if(!t)return n.lineTo(e.x,e.y);if(l==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else l==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function CD(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function AD(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Pt(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function MD(n,t,e,s,l){if(l.strikethrough||l.underline){const r=n.measureText(s),u=t-r.actualBoundingBoxLeft,h=t+r.actualBoundingBoxRight,d=e-r.actualBoundingBoxAscent,g=e+r.actualBoundingBoxDescent,m=l.strikethrough?(d+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(u,m),n.lineTo(h,m),n.stroke()}}function wD(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function _o(n,t,e,s,l,r={}){const u=me(t)?t:[t],h=r.strokeWidth>0&&r.strokeColor!=="";let d,g;for(n.save(),n.font=l.string,AD(n,r),d=0;d<u.length;++d)g=u[d],r.backdrop&&wD(n,r.backdrop),h&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Pt(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(g,e,s,r.maxWidth)),n.fillText(g,e,s,r.maxWidth),MD(n,e,s,g,r),s+=Number(l.lineHeight);n.restore()}function cd(n,t){const{x:e,y:s,w:l,h:r,radius:u}=t;n.arc(e+u.topLeft,s+u.topLeft,u.topLeft,1.5*Jt,Jt,!0),n.lineTo(e,s+r-u.bottomLeft),n.arc(e+u.bottomLeft,s+r-u.bottomLeft,u.bottomLeft,Jt,oe,!0),n.lineTo(e+l-u.bottomRight,s+r),n.arc(e+l-u.bottomRight,s+r-u.bottomRight,u.bottomRight,oe,0,!0),n.lineTo(e+l,s+u.topRight),n.arc(e+l-u.topRight,s+u.topRight,u.topRight,0,-oe,!0),n.lineTo(e+u.topLeft,s)}const DD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RD(n,t){const e=(""+n).match(DD);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const ND=n=>+n||0;function fg(n,t){const e={},s=Ct(t),l=s?Object.keys(t):t,r=Ct(n)?s?u=>xt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of l)e[u]=ND(r(u));return e}function kD(n){return fg(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Jl(n){return fg(n,["topLeft","topRight","bottomLeft","bottomRight"])}function cn(n){const t=kD(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ae(n,t){n=n||{},t=t||ne.font;let e=xt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=xt(n.style,t.style);s&&!(""+s).match(OD)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const l={family:xt(n.family,t.family),lineHeight:RD(xt(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:xt(n.weight,t.weight),string:""};return l.string=ED(l),l}function Wr(n,t,e,s){let l,r,u;for(l=0,r=n.length;l<r;++l)if(u=n[l],u!==void 0&&u!==void 0)return u}function zD(n,t,e){const{min:s,max:l}=n,r=eS(t,(l-s)/2),u=(h,d)=>e&&h===0?0:h+d;return{min:u(s,-Math.abs(r)),max:u(l,r)}}function ms(n,t){return Object.assign(Object.create(n),t)}function dg(n,t=[""],e,s,l=()=>n[0]){const r=e||n;typeof s>"u"&&(s=dS("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:l,override:h=>dg([h,...n],t,r,s)};return new Proxy(u,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return hS(h,d,()=>VD(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return Rb(h).includes(d)},ownKeys(h){return Rb(h)},set(h,d,g){const m=h._storage||(h._storage=l());return h[d]=m[d]=g,delete h._keys,!0}})}function va(n,t,e,s){const l={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:uS(n,s),setContext:r=>va(n,r,e,s),override:r=>va(n.override(r),t,e,s)};return new Proxy(l,{deleteProperty(r,u){return delete r[u],delete n[u],!0},get(r,u,h){return hS(r,u,()=>ID(r,u,h))},getOwnPropertyDescriptor(r,u){return r._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(r,u,h){return n[u]=h,delete r[u],!0}})}function uS(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:l=t.allKeys}=n;return{allKeys:l,scriptable:e,indexable:s,isScriptable:ki(e)?e:()=>e,isIndexable:ki(s)?s:()=>s}}const LD=(n,t)=>n?n+ag(t):t,gg=(n,t)=>Ct(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hS(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function ID(n,t,e){const{_proxy:s,_context:l,_subProxy:r,_descriptors:u}=n;let h=s[t];return ki(h)&&u.isScriptable(t)&&(h=HD(t,h,n,e)),me(h)&&h.length&&(h=BD(t,h,n,u.isIndexable)),gg(t,h)&&(h=va(h,l,r&&r[t],u)),h}function HD(n,t,e,s){const{_proxy:l,_context:r,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(r,u||s);return h.delete(n),gg(n,d)&&(d=pg(l._scopes,l,n,d)),d}function BD(n,t,e,s){const{_proxy:l,_context:r,_subProxy:u,_descriptors:h}=e;if(typeof r.index<"u"&&s(n))return t[r.index%t.length];if(Ct(t[0])){const d=t,g=l._scopes.filter(m=>m!==d);t=[];for(const m of d){const _=pg(g,l,n,m);t.push(va(_,r,u&&u[n],h))}}return t}function fS(n,t,e){return ki(n)?n(t,e):n}const UD=(n,t)=>n===!0?t:typeof n=="string"?fo(t,n):void 0;function jD(n,t,e,s,l){for(const r of t){const u=UD(e,r);if(u){n.add(u);const h=fS(u._fallback,e,l);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(u===!1&&typeof s<"u"&&e!==s)return null}return!1}function pg(n,t,e,s){const l=t._rootScopes,r=fS(t._fallback,e,s),u=[...n,...l],h=new Set;h.add(s);let d=Ob(h,u,e,r||e,s);return d===null||typeof r<"u"&&r!==e&&(d=Ob(h,u,r,d,s),d===null)?!1:dg(Array.from(h),[""],l,r,()=>PD(t,e,s))}function Ob(n,t,e,s,l){for(;e;)e=jD(n,t,e,s,l);return e}function PD(n,t,e){const s=n._getTarget();t in s||(s[t]={});const l=s[t];return me(l)&&Ct(e)?e:l||{}}function VD(n,t,e,s){let l;for(const r of t)if(l=dS(LD(r,n),e),typeof l<"u")return gg(n,l)?pg(e,s,n,l):l}function dS(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function Rb(n){let t=n._keys;return t||(t=n._keys=YD(n._scopes)),t}function YD(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(l=>!l.startsWith("_")))t.add(s);return Array.from(t)}const FD=Number.EPSILON||1e-14,Sa=(n,t)=>t<n.length&&!n[t].skip&&n[t],gS=n=>n==="x"?"y":"x";function qD(n,t,e,s){const l=n.skip?t:n,r=t,u=e.skip?t:e,h=ld(r,l),d=ld(u,r);let g=h/(h+d),m=d/(h+d);g=isNaN(g)?0:g,m=isNaN(m)?0:m;const _=s*g,b=s*m;return{previous:{x:r.x-_*(u.x-l.x),y:r.y-_*(u.y-l.y)},next:{x:r.x+b*(u.x-l.x),y:r.y+b*(u.y-l.y)}}}function GD(n,t,e){const s=n.length;let l,r,u,h,d,g=Sa(n,0);for(let m=0;m<s-1;++m)if(d=g,g=Sa(n,m+1),!(!d||!g)){if(Kl(t[m],0,FD)){e[m]=e[m+1]=0;continue}l=e[m]/t[m],r=e[m+1]/t[m],h=Math.pow(l,2)+Math.pow(r,2),!(h<=9)&&(u=3/Math.sqrt(h),e[m]=l*u*t[m],e[m+1]=r*u*t[m])}}function WD(n,t,e="x"){const s=gS(e),l=n.length;let r,u,h,d=Sa(n,0);for(let g=0;g<l;++g){if(u=h,h=d,d=Sa(n,g+1),!h)continue;const m=h[e],_=h[s];u&&(r=(m-u[e])/3,h[`cp1${e}`]=m-r,h[`cp1${s}`]=_-r*t[g]),d&&(r=(d[e]-m)/3,h[`cp2${e}`]=m+r,h[`cp2${s}`]=_+r*t[g])}}function XD(n,t="x"){const e=gS(t),s=n.length,l=Array(s).fill(0),r=Array(s);let u,h,d,g=Sa(n,0);for(u=0;u<s;++u)if(h=d,d=g,g=Sa(n,u+1),!!d){if(g){const m=g[t]-d[t];l[u]=m!==0?(g[e]-d[e])/m:0}r[u]=h?g?ba(l[u-1])!==ba(l[u])?0:(l[u-1]+l[u])/2:l[u-1]:l[u]}GD(n,l,r),WD(n,r,t)}function Xr(n,t,e){return Math.max(Math.min(n,e),t)}function QD(n,t){let e,s,l,r,u,h=mo(n[0],t);for(e=0,s=n.length;e<s;++e)u=r,r=h,h=e<s-1&&mo(n[e+1],t),r&&(l=n[e],u&&(l.cp1x=Xr(l.cp1x,t.left,t.right),l.cp1y=Xr(l.cp1y,t.top,t.bottom)),h&&(l.cp2x=Xr(l.cp2x,t.left,t.right),l.cp2y=Xr(l.cp2y,t.top,t.bottom)))}function KD(n,t,e,s,l){let r,u,h,d;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")XD(n,l);else{let g=s?n[n.length-1]:n[0];for(r=0,u=n.length;r<u;++r)h=n[r],d=qD(g,h,n[Math.min(r+1,u-(s?0:1))%u],t.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,g=h}t.capBezierPoints&&QD(n,e)}function mg(){return typeof window<"u"&&typeof document<"u"}function _g(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Oc(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const Wc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ZD(n,t){return Wc(n).getPropertyValue(t)}const $D=["top","right","bottom","left"];function rs(n,t,e){const s={};e=e?"-"+e:"";for(let l=0;l<4;l++){const r=$D[l];s[r]=parseFloat(n[t+"-"+r+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const JD=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function tO(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:l,offsetY:r}=s;let u=!1,h,d;if(JD(l,r,n.target))h=l,d=r;else{const g=t.getBoundingClientRect();h=s.clientX-g.left,d=s.clientY-g.top,u=!0}return{x:h,y:d,box:u}}function ss(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,l=Wc(e),r=l.boxSizing==="border-box",u=rs(l,"padding"),h=rs(l,"border","width"),{x:d,y:g,box:m}=tO(n,e),_=u.left+(m&&h.left),b=u.top+(m&&h.top);let{width:S,height:x}=t;return r&&(S-=u.width+h.width,x-=u.height+h.height),{x:Math.round((d-_)/S*e.width/s),y:Math.round((g-b)/x*e.height/s)}}function eO(n,t,e){let s,l;if(t===void 0||e===void 0){const r=n&&_g(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const u=r.getBoundingClientRect(),h=Wc(r),d=rs(h,"border","width"),g=rs(h,"padding");t=u.width-g.width-d.width,e=u.height-g.height-d.height,s=Oc(h.maxWidth,r,"clientWidth"),l=Oc(h.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:s||Dc,maxHeight:l||Dc}}const Qr=n=>Math.round(n*10)/10;function nO(n,t,e,s){const l=Wc(n),r=rs(l,"margin"),u=Oc(l.maxWidth,n,"clientWidth")||Dc,h=Oc(l.maxHeight,n,"clientHeight")||Dc,d=eO(n,t,e);let{width:g,height:m}=d;if(l.boxSizing==="content-box"){const b=rs(l,"border","width"),S=rs(l,"padding");g-=S.width+b.width,m-=S.height+b.height}return g=Math.max(0,g-r.width),m=Math.max(0,s?g/s:m-r.height),g=Qr(Math.min(g,u,d.maxWidth)),m=Qr(Math.min(m,h,d.maxHeight)),g&&!m&&(m=Qr(g/2)),(t!==void 0||e!==void 0)&&s&&d.height&&m>d.height&&(m=d.height,g=Qr(Math.floor(m*s))),{width:g,height:m}}function Nb(n,t,e){const s=t||1,l=Math.floor(n.height*s),r=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||u.height!==l||u.width!==r?(n.currentDevicePixelRatio=s,u.height=l,u.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const iO=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};mg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function kb(n,t){const e=ZD(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function as(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function sO(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function aO(n,t,e,s){const l={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},u=as(n,l,e),h=as(l,r,e),d=as(r,t,e),g=as(u,h,e),m=as(h,d,e);return as(g,m,e)}const lO=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},oO=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ha(n,t,e){return n?lO(t,e):oO()}function pS(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function mS(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function _S(n){return n==="angle"?{between:po,compare:sD,normalize:Ti}:{between:la,compare:(t,e)=>t-e,normalize:t=>t}}function zb({start:n,end:t,count:e,loop:s,style:l}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:l}}function rO(n,t,e){const{property:s,start:l,end:r}=e,{between:u,normalize:h}=_S(s),d=t.length;let{start:g,end:m,loop:_}=n,b,S;if(_){for(g+=d,m+=d,b=0,S=d;b<S&&u(h(t[g%d][s]),l,r);++b)g--,m--;g%=d,m%=d}return m<g&&(m+=d),{start:g,end:m,loop:_,style:n.style}}function cO(n,t,e){if(!e)return[n];const{property:s,start:l,end:r}=e,u=t.length,{compare:h,between:d,normalize:g}=_S(s),{start:m,end:_,loop:b,style:S}=rO(n,t,e),x=[];let C=!1,A=null,z,B,P;const q=()=>d(l,P,z)&&h(l,P)!==0,L=()=>h(r,z)===0||d(r,P,z),Q=()=>C||q(),K=()=>!C||L();for(let X=m,tt=m;X<=_;++X)B=t[X%u],!B.skip&&(z=g(B[s]),z!==P&&(C=d(z,l,r),A===null&&Q()&&(A=h(z,l)===0?X:tt),A!==null&&K()&&(x.push(zb({start:A,end:X,loop:b,count:u,style:S})),A=null),tt=X,P=z));return A!==null&&x.push(zb({start:A,end:_,loop:b,count:u,style:S})),x}function uO(n,t){const e=[],s=n.segments;for(let l=0;l<s.length;l++){const r=cO(s[l],n.points,t);r.length&&e.push(...r)}return e}function hO(n,t,e,s){let l=0,r=t-1;if(e&&!s)for(;l<t&&!n[l].skip;)l++;for(;l<t&&n[l].skip;)l++;for(l%=t,e&&(r+=l);r>l&&n[r%t].skip;)r--;return r%=t,{start:l,end:r}}function fO(n,t,e,s){const l=n.length,r=[];let u=t,h=n[t],d;for(d=t+1;d<=e;++d){const g=n[d%l];g.skip||g.stop?h.skip||(s=!1,r.push({start:t%l,end:(d-1)%l,loop:s}),t=u=g.stop?d:null):(u=d,h.skip&&(t=d)),h=g}return u!==null&&r.push({start:t%l,end:u%l,loop:s}),r}function dO(n,t){const e=n.points,s=n.options.spanGaps,l=e.length;if(!l)return[];const r=!!n._loop,{start:u,end:h}=hO(e,l,r,s);if(s===!0)return Lb(n,[{start:u,end:h,loop:r}],e,t);const d=h<u?h+l:h,g=!!n._fullLoop&&u===0&&h===l-1;return Lb(n,fO(e,u,d,g),e,t)}function Lb(n,t,e,s){return!s||!s.setContext||!e?t:gO(n,t,e,s)}function gO(n,t,e,s){const l=n._chart.getContext(),r=Ib(n.options),{_datasetIndex:u,options:{spanGaps:h}}=n,d=e.length,g=[];let m=r,_=t[0].start,b=_;function S(x,C,A,z){const B=h?-1:1;if(x!==C){for(x+=d;e[x%d].skip;)x-=B;for(;e[C%d].skip;)C+=B;x%d!==C%d&&(g.push({start:x%d,end:C%d,loop:A,style:z}),m=z,_=C%d)}}for(const x of t){_=h?_:x.start;let C=e[_%d],A;for(b=_+1;b<=x.end;b++){const z=e[b%d];A=Ib(s.setContext(ms(l,{type:"segment",p0:C,p1:z,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:u}))),pO(A,m)&&S(_,b-1,x.loop,m),C=z,m=A}_<b-1&&S(_,b-1,x.loop,m)}return g}function Ib(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function pO(n,t){if(!t)return!1;const e=[],s=function(l,r){return rg(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(t,s)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,l){const r=e.listeners[l],u=e.duration;r.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(s-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=lS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,l)=>{if(!s.running||!s.items.length)return;const r=s.items;let u=r.length-1,h=!1,d;for(;u>=0;--u)d=r[u],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(t),h=!0):(r[u]=r[r.length-1],r.pop());h&&(l.draw(),this._notify(l,s,t,"progress")),r.length||(s.running=!1,this._notify(l,s,t,"complete"),s.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,l)=>Math.max(s,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let l=s.length-1;for(;l>=0;--l)s[l].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Fn=new mO;const Hb="transparent",_O={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=Ab(n||Hb),l=s.valid&&Ab(t||Hb);return l&&l.valid?l.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class yO{constructor(t,e,s,l){const r=e[s];l=Wr([t.to,l,r,t.from]);const u=Wr([t.from,r,l]);this._active=!0,this._fn=t.fn||_O[t.type||typeof u],this._easing=Zl[t.easing]||Zl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=u,this._to=l,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const l=this._target[this._prop],r=s-this._start,u=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Wr([t.to,e,l,t.from]),this._from=Wr([t.from,l,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,l=this._prop,r=this._from,u=this._loop,h=this._to;let d;if(this._active=r!==h&&(u||e<s),!this._active){this._target[l]=h,this._notify(!0);return}if(e<0){this._target[l]=r;return}d=e/s%2,d=u&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(r,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let l=0;l<s.length;l++)s[l][e]()}}class yS{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Ct(t))return;const e=Object.keys(ne.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const r=t[l];if(!Ct(r))return;const u={};for(const h of e)u[h]=r[h];(me(r.properties)&&r.properties||[l]).forEach(h=>{(h===l||!s.has(h))&&s.set(h,u)})})}_animateOptions(t,e){const s=e.options,l=vO(t,s);if(!l)return[];const r=this._createAnimations(l,s);return s.$shared&&bO(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,e){const s=this._properties,l=[],r=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let d;for(d=u.length-1;d>=0;--d){const g=u[d];if(g.charAt(0)==="$")continue;if(g==="options"){l.push(...this._animateOptions(t,e));continue}const m=e[g];let _=r[g];const b=s.get(g);if(_)if(b&&_.active()){_.update(b,m,h);continue}else _.cancel();if(!b||!b.duration){t[g]=m;continue}r[g]=_=new yO(b,t,g,m),l.push(_)}return l}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return Fn.add(this._chart,s),!0}}function bO(n,t){const e=[],s=Object.keys(t);for(let l=0;l<s.length;l++){const r=n[s[l]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function vO(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Bb(n,t){const e=n&&n.options||{},s=e.reverse,l=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:s?r:l,end:s?l:r}}function SO(n,t,e){if(e===!1)return!1;const s=Bb(n,e),l=Bb(t,e);return{top:l.end,right:s.end,bottom:l.start,left:s.start}}function xO(n){let t,e,s,l;return Ct(n)?(t=n.top,e=n.right,s=n.bottom,l=n.left):t=e=s=l=n,{top:t,right:e,bottom:s,left:l,disabled:n===!1}}function bS(n,t){const e=[],s=n._getSortedDatasetMetas(t);let l,r;for(l=0,r=s.length;l<r;++l)e.push(s[l].index);return e}function Ub(n,t,e,s={}){const l=n.keys,r=s.mode==="single";let u,h,d,g;if(t===null)return;let m=!1;for(u=0,h=l.length;u<h;++u){if(d=+l[u],d===e){if(m=!0,s.all)continue;break}g=n.values[d],rn(g)&&(r||t===0||ba(t)===ba(g))&&(t+=g)}return!m&&!s.all?0:t}function EO(n,t){const{iScale:e,vScale:s}=t,l=e.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let d,g,m;for(d=0,g=u.length;d<g;++d)m=u[d],h[d]={[l]:m,[r]:n[m]};return h}function kf(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function TO(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function CO(n){const{min:t,max:e,minDefined:s,maxDefined:l}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:l?e:Number.POSITIVE_INFINITY}}function AO(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function jb(n,t,e,s){for(const l of t.getMatchingVisibleMetas(s).reverse()){const r=n[l.index];if(e&&r>0||!e&&r<0)return l.index}return null}function Pb(n,t){const{chart:e,_cachedMeta:s}=n,l=e._stacks||(e._stacks={}),{iScale:r,vScale:u,index:h}=s,d=r.axis,g=u.axis,m=TO(r,u,s),_=t.length;let b;for(let S=0;S<_;++S){const x=t[S],{[d]:C,[g]:A}=x,z=x._stacks||(x._stacks={});b=z[g]=AO(l,m,C),b[h]=A,b._top=jb(b,u,!0,s.type),b._bottom=jb(b,u,!1,s.type);const B=b._visualValues||(b._visualValues={});B[h]=A}}function zf(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function MO(n,t){return ms(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function wO(n,t,e){return ms(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function kl(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const l of t){const r=l._stacks;if(!r||r[s]===void 0||r[s][e]===void 0)return;delete r[s][e],r[s]._visualValues!==void 0&&r[s]._visualValues[e]!==void 0&&delete r[s]._visualValues[e]}}}const Lf=n=>n==="reset"||n==="none",Vb=(n,t)=>t?n:Object.assign({},n),DO=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:bS(e,!0),values:null};class fa{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=kf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&kl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),l=(_,b,S,x)=>_==="x"?b:_==="r"?x:S,r=e.xAxisID=xt(s.xAxisID,zf(t,"x")),u=e.yAxisID=xt(s.yAxisID,zf(t,"y")),h=e.rAxisID=xt(s.rAxisID,zf(t,"r")),d=e.indexAxis,g=e.iAxisID=l(d,r,u,h),m=e.vAxisID=l(d,u,r,h);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Eb(this._data,this),t._stacked&&kl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Ct(e)){const l=this._cachedMeta;this._data=EO(e,l)}else if(s!==e){if(s){Eb(s,this);const l=this._cachedMeta;kl(l),l._parsed=[]}e&&Object.isExtensible(e)&&rD(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let l=!1;this._dataCheck();const r=e._stacked;e._stacked=kf(e.vScale,e),e.stack!==s.stack&&(l=!0,kl(e),e.stack=s.stack),this._resyncElements(t),(l||r!==e._stacked)&&(Pb(this,e._parsed),e._stacked=kf(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:l}=this,{iScale:r,_stacked:u}=s,h=r.axis;let d=t===0&&e===l.length?!0:s._sorted,g=t>0&&s._parsed[t-1],m,_,b;if(this._parsing===!1)s._parsed=l,s._sorted=!0,b=l;else{me(l[t])?b=this.parseArrayData(s,l,t,e):Ct(l[t])?b=this.parseObjectData(s,l,t,e):b=this.parsePrimitiveData(s,l,t,e);const S=()=>_[h]===null||g&&_[h]<g[h];for(m=0;m<e;++m)s._parsed[m+t]=_=b[m],d&&(S()&&(d=!1),g=_);s._sorted=d}u&&Pb(this,b)}parsePrimitiveData(t,e,s,l){const{iScale:r,vScale:u}=t,h=r.axis,d=u.axis,g=r.getLabels(),m=r===u,_=new Array(l);let b,S,x;for(b=0,S=l;b<S;++b)x=b+s,_[b]={[h]:m||r.parse(g[x],x),[d]:u.parse(e[x],x)};return _}parseArrayData(t,e,s,l){const{xScale:r,yScale:u}=t,h=new Array(l);let d,g,m,_;for(d=0,g=l;d<g;++d)m=d+s,_=e[m],h[d]={x:r.parse(_[0],m),y:u.parse(_[1],m)};return h}parseObjectData(t,e,s,l){const{xScale:r,yScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=new Array(l);let m,_,b,S;for(m=0,_=l;m<_;++m)b=m+s,S=e[b],g[m]={x:r.parse(fo(S,h),b),y:u.parse(fo(S,d),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const l=this.chart,r=this._cachedMeta,u=e[t.axis],h={keys:bS(l,!0),values:e._stacks[t.axis]._visualValues};return Ub(h,u,r.index,{mode:s})}updateRangeFromParsed(t,e,s,l){const r=s[e.axis];let u=r===null?NaN:r;const h=l&&s._stacks[e.axis];l&&h&&(l.values=h,u=Ub(l,r,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const s=this._cachedMeta,l=s._parsed,r=s._sorted&&t===s.iScale,u=l.length,h=this._getOtherScale(t),d=DO(e,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=CO(h);let b,S;function x(){S=l[b];const C=S[h.axis];return!rn(S[t.axis])||m>C||_<C}for(b=0;b<u&&!(!x()&&(this.updateRangeFromParsed(g,t,S,d),r));++b);if(r){for(b=u-1;b>=0;--b)if(!x()){this.updateRangeFromParsed(g,t,S,d);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let l,r,u;for(l=0,r=e.length;l<r;++l)u=e[l][t.axis],rn(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,l=e.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:l?""+l.getLabelForValue(r[l.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=xO(xt(this.options.clip,SO(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,l=s.data||[],r=e.chartArea,u=[],h=this._drawStart||0,d=this._drawCount||l.length-h,g=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(t,r,h,d),m=h;m<h+d;++m){const _=l[m];_.hidden||(_.active&&g?u.push(_):_.draw(t,r))}for(m=0;m<u.length;++m)u[m].draw(t,r)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const l=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];r=u.$context||(u.$context=wO(this.getContext(),t,u)),r.parsed=this.getParsed(t),r.raw=l.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=MO(this.chart.getContext(),this.index)),r.dataset=l,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const l=e==="active",r=this._cachedDataOpts,u=t+"-"+e,h=r[u],d=this.enableOptionSharing&&wc(s);if(h)return Vb(h,d);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),_=l?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),m),S=Object.keys(ne.elements[t]),x=()=>this.getContext(s,l,e),C=g.resolveNamedOptions(b,S,x,_);return C.$shared&&(C.$shared=d,r[u]=Object.freeze(Vb(C,d))),C}_resolveAnimations(t,e,s){const l=this.chart,r=this._cachedDataOpts,u=`animation-${e}`,h=r[u];if(h)return h;let d;if(l.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),b=m.getOptionScopes(this.getDataset(),_);d=m.createResolver(b,this.getContext(t,s,e))}const g=new yS(l,d&&d.animations);return d&&d._cacheable&&(r[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Lf(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),l=this._sharedOptions,r=this.getSharedOptions(s),u=this.includeOptions(e,r)||r!==l;return this.updateSharedOptions(r,e,s),{sharedOptions:r,includeOptions:u}}updateElement(t,e,s,l){Lf(l)?Object.assign(t,s):this._resolveAnimations(e,l).update(t,s)}updateSharedOptions(t,e,s){t&&!Lf(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,l){t.active=l;const r=this.getStyle(e,l);this._resolveAnimations(e,s,l).update(t,{options:!l&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,d,g]of this._syncList)this[h](d,g);this._syncList=[];const l=s.length,r=e.length,u=Math.min(r,l);u&&this.parse(0,u),r>l?this._insertElements(l,r-l,t):r<l&&this._removeElements(r,l-r)}_insertElements(t,e,s=!0){const l=this._cachedMeta,r=l.data,u=t+e;let h;const d=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(d(r),h=t;h<u;++h)r[h]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(t,e),s&&this.updateElements(r,t,e,"reset")}updateElements(t,e,s,l){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const l=s._parsed.splice(t,e);s._stacked&&kl(s,l)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,l]=t;this[e](s,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}nt(fa,"defaults",{}),nt(fa,"datasetElementType",null),nt(fa,"dataElementType",null);function OO(n,t,e){let s=1,l=1,r=0,u=0;if(t<$t){const h=n,d=h+t,g=Math.cos(h),m=Math.sin(h),_=Math.cos(d),b=Math.sin(d),S=(P,q,L)=>po(P,h,d,!0)?1:Math.max(q,q*e,L,L*e),x=(P,q,L)=>po(P,h,d,!0)?-1:Math.min(q,q*e,L,L*e),C=S(0,g,_),A=S(oe,m,b),z=x(Jt,g,_),B=x(Jt+oe,m,b);s=(C-z)/2,l=(A-B)/2,r=-(C+z)/2,u=-(A+B)/2}return{ratioX:s,ratioY:l,offsetX:r,offsetY:u}}class Ul extends fa{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=s;else{let r=d=>+s[d];if(Ct(s[t])){const{key:d="value"}=this._parsing;r=g=>+fo(s[g],d)}let u,h;for(u=t,h=t+e;u<h;++u)l._parsed[u]=r(u)}}_getRotation(){return Xn(this.options.rotation-90)}_getCircumference(){return Xn(this.options.circumference)}_getRotationExtents(){let t=$t,e=-$t;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const l=this.chart.getDatasetMeta(s).controller,r=l._getRotation(),u=l._getCircumference();t=Math.min(t,r),e=Math.max(e,r+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,l=this._cachedMeta,r=l.data,u=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-u)/2,0),d=Math.min(qw(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:x,offsetY:C}=OO(_,m,d),A=(s.width-u)/b,z=(s.height-u)/S,B=Math.max(Math.min(A,z)/2,0),P=eS(this.options.radius,B),q=Math.max(P*d,0),L=(P-q)/this._getVisibleDatasetWeightTotal();this.offsetX=x*P,this.offsetY=C*P,l.total=this.calculateTotal(),this.outerRadius=P-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*g,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const s=this.options,l=this._cachedMeta,r=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*r/$t)}updateElements(t,e,s,l){const r=l==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,m=(h.left+h.right)/2,_=(h.top+h.bottom)/2,b=r&&g.animateScale,S=b?0:this.innerRadius,x=b?0:this.outerRadius,{sharedOptions:C,includeOptions:A}=this._getSharedOptions(e,l);let z=this._getRotation(),B;for(B=0;B<e;++B)z+=this._circumference(B,r);for(B=e;B<e+s;++B){const P=this._circumference(B,r),q=t[B],L={x:m+this.offsetX,y:_+this.offsetY,startAngle:z,endAngle:z+P,circumference:P,outerRadius:x,innerRadius:S};A&&(L.options=C||this.resolveDataElementOptions(B,q.active?"active":l)),z+=P,this.updateElement(q,B,L,l)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,l;for(l=0;l<e.length;l++){const r=t._parsed[l];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(l)&&!e[l].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?$t*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,l=s.data.labels||[],r=cg(e._parsed[t],s.options.locale);return{label:l[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const s=this.chart;let l,r,u,h,d;if(!t){for(l=0,r=s.data.datasets.length;l<r;++l)if(s.isDatasetVisible(l)){u=s.getDatasetMeta(l),t=u.data,h=u.controller;break}}if(!t)return 0;for(l=0,r=t.length;l<r;++l)d=h.resolveDataElementOptions(l),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,l=t.length;s<l;++s){const r=this.resolveDataElementOptions(s);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(xt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}nt(Ul,"id","doughnut"),nt(Ul,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),nt(Ul,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),nt(Ul,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:l}}=t.legend.options;return e.labels.map((r,u)=>{const d=t.getDatasetMeta(0).controller.getStyle(u);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:l,lineWidth:d.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class sc extends fa{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:l=[],_dataset:r}=e,u=this.chart._animationsDisabled;let{start:h,count:d}=fD(e,l,u);this._drawStart=h,this._drawCount=d,dD(e)&&(h=0,d=l.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=l;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(s,void 0,{animated:!u,options:g},t),this.updateElements(l,h,d,t)}updateElements(t,e,s,l){const r=l==="reset",{iScale:u,vScale:h,_stacked:d,_dataset:g}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,l),b=u.axis,S=h.axis,{spanGaps:x,segment:C}=this.options,A=go(x)?x:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||r||l==="none",B=e+s,P=t.length;let q=e>0&&this.getParsed(e-1);for(let L=0;L<P;++L){const Q=t[L],K=z?Q:{};if(L<e||L>=B){K.skip=!0;continue}const X=this.getParsed(L),tt=Pt(X[S]),ut=K[b]=u.getPixelForValue(X[b],L),it=K[S]=r||tt?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,X,d):X[S],L);K.skip=isNaN(ut)||isNaN(it)||tt,K.stop=L>0&&Math.abs(X[b]-q[b])>A,C&&(K.parsed=X,K.raw=g.data[L]),_&&(K.options=m||this.resolveDataElementOptions(L,Q.active?"active":l)),z||this.updateElement(Q,L,K,l),q=X}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,l=t.data||[];if(!l.length)return s;const r=l[0].size(this.resolveDataElementOptions(0)),u=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(s,r,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}nt(sc,"id","line"),nt(sc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),nt(sc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ud extends Ul{}nt(ud,"id","pie"),nt(ud,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function es(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yg{constructor(t){nt(this,"options");this.options=t||{}}static override(t){Object.assign(yg.prototype,t)}init(){}formats(){return es()}parse(){return es()}format(){return es()}add(){return es()}diff(){return es()}startOf(){return es()}endOf(){return es()}}var RO={_date:yg};function NO(n,t,e,s){const{controller:l,data:r,_sorted:u}=n,h=l._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&r.length){const g=h._reversePixels?lD:os;if(s){if(l._sharedOptions){const m=r[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const b=g(r,t,e-_),S=g(r,t,e+_);return{lo:b.lo,hi:S.hi}}}}else{const m=g(r,t,e);if(d){const{vScale:_}=l._cachedMeta,{_parsed:b}=n,S=b.slice(0,m.lo+1).reverse().findIndex(C=>!Pt(C[_.axis]));m.lo-=Math.max(0,S);const x=b.slice(m.hi).findIndex(C=>!Pt(C[_.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:r.length-1}}function Xc(n,t,e,s,l){const r=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,d=r.length;h<d;++h){const{index:g,data:m}=r[h],{lo:_,hi:b}=NO(r[h],t,u,l);for(let S=_;S<=b;++S){const x=m[S];x.skip||s(x,g,S)}}}function kO(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,l){const r=t?Math.abs(s.x-l.x):0,u=e?Math.abs(s.y-l.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(u,2))}}function If(n,t,e,s,l){const r=[];return!l&&!n.isPointInArea(t)||Xc(n,e,t,function(h,d,g){!l&&!mo(h,n.chartArea,0)||h.inRange(t.x,t.y,s)&&r.push({element:h,datasetIndex:d,index:g})},!0),r}function zO(n,t,e,s){let l=[];function r(u,h,d){const{startAngle:g,endAngle:m}=u.getProps(["startAngle","endAngle"],s),{angle:_}=sS(u,{x:t.x,y:t.y});po(_,g,m)&&l.push({element:u,datasetIndex:h,index:d})}return Xc(n,e,t,r),l}function LO(n,t,e,s,l,r){let u=[];const h=kO(e);let d=Number.POSITIVE_INFINITY;function g(m,_,b){const S=m.inRange(t.x,t.y,l);if(s&&!S)return;const x=m.getCenterPoint(l);if(!(!!r||n.isPointInArea(x))&&!S)return;const A=h(t,x);A<d?(u=[{element:m,datasetIndex:_,index:b}],d=A):A===d&&u.push({element:m,datasetIndex:_,index:b})}return Xc(n,e,t,g),u}function Hf(n,t,e,s,l,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!s?zO(n,t,e,l):LO(n,t,e,s,l,r)}function Yb(n,t,e,s,l){const r=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return Xc(n,e,t,(d,g,m)=>{d[u]&&d[u](t[e],l)&&(r.push({element:d,datasetIndex:g,index:m}),h=h||d.inRange(t.x,t.y,l))}),s&&!h?[]:r}var IO={modes:{index(n,t,e,s){const l=ss(t,n),r=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?If(n,l,r,s,u):Hf(n,l,r,!1,s,u),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const m=h[0].index,_=g.data[m];_&&!_.skip&&d.push({element:_,datasetIndex:g.index,index:m})}),d):[]},dataset(n,t,e,s){const l=ss(t,n),r=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?If(n,l,r,s,u):Hf(n,l,r,!1,s,u);if(h.length>0){const d=h[0].datasetIndex,g=n.getDatasetMeta(d).data;h=[];for(let m=0;m<g.length;++m)h.push({element:g[m],datasetIndex:d,index:m})}return h},point(n,t,e,s){const l=ss(t,n),r=e.axis||"xy",u=e.includeInvisible||!1;return If(n,l,r,s,u)},nearest(n,t,e,s){const l=ss(t,n),r=e.axis||"xy",u=e.includeInvisible||!1;return Hf(n,l,r,e.intersect,s,u)},x(n,t,e,s){const l=ss(t,n);return Yb(n,l,"x",e.intersect,s)},y(n,t,e,s){const l=ss(t,n);return Yb(n,l,"y",e.intersect,s)}}};const vS=["left","top","right","bottom"];function zl(n,t){return n.filter(e=>e.pos===t)}function Fb(n,t){return n.filter(e=>vS.indexOf(e.pos)===-1&&e.box.axis===t)}function Ll(n,t){return n.sort((e,s)=>{const l=t?s:e,r=t?e:s;return l.weight===r.weight?l.index-r.index:l.weight-r.weight})}function HO(n){const t=[];let e,s,l,r,u,h;for(e=0,s=(n||[]).length;e<s;++e)l=n[e],{position:r,options:{stack:u,stackWeight:h=1}}=l,t.push({index:e,box:l,pos:r,horizontal:l.isHorizontal(),weight:l.weight,stack:u&&r+u,stackWeight:h});return t}function BO(n){const t={};for(const e of n){const{stack:s,pos:l,stackWeight:r}=e;if(!s||!vS.includes(l))continue;const u=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=r}return t}function UO(n,t){const e=BO(n),{vBoxMaxWidth:s,hBoxMaxHeight:l}=t;let r,u,h;for(r=0,u=n.length;r<u;++r){h=n[r];const{fullSize:d}=h.box,g=e[h.stack],m=g&&h.stackWeight/g.weight;h.horizontal?(h.width=m?m*s:d&&t.availableWidth,h.height=l):(h.width=s,h.height=m?m*l:d&&t.availableHeight)}return e}function jO(n){const t=HO(n),e=Ll(t.filter(g=>g.box.fullSize),!0),s=Ll(zl(t,"left"),!0),l=Ll(zl(t,"right")),r=Ll(zl(t,"top"),!0),u=Ll(zl(t,"bottom")),h=Fb(t,"x"),d=Fb(t,"y");return{fullSize:e,leftAndTop:s.concat(r),rightAndBottom:l.concat(d).concat(u).concat(h),chartArea:zl(t,"chartArea"),vertical:s.concat(l).concat(d),horizontal:r.concat(u).concat(h)}}function qb(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function SS(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function PO(n,t,e,s){const{pos:l,box:r}=e,u=n.maxPadding;if(!Ct(l)){e.size&&(n[l]-=e.size);const _=s[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?r.height:r.width),e.size=_.size/_.count,n[l]+=e.size}r.getPadding&&SS(u,r.getPadding());const h=Math.max(0,t.outerWidth-qb(u,n,"left","right")),d=Math.max(0,t.outerHeight-qb(u,n,"top","bottom")),g=h!==n.w,m=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:g,other:m}:{same:m,other:g}}function VO(n){const t=n.maxPadding;function e(s){const l=Math.max(t[s]-n[s],0);return n[s]+=l,l}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function YO(n,t){const e=t.maxPadding;function s(l){const r={left:0,top:0,right:0,bottom:0};return l.forEach(u=>{r[u]=Math.max(t[u],e[u])}),r}return s(n?["left","right"]:["top","bottom"])}function jl(n,t,e,s){const l=[];let r,u,h,d,g,m;for(r=0,u=n.length,g=0;r<u;++r){h=n[r],d=h.box,d.update(h.width||t.w,h.height||t.h,YO(h.horizontal,t));const{same:_,other:b}=PO(t,e,h,s);g|=_&&l.length,m=m||b,d.fullSize||l.push(h)}return g&&jl(l,t,e,s)||m}function Kr(n,t,e,s,l){n.top=e,n.left=t,n.right=t+s,n.bottom=e+l,n.width=s,n.height=l}function Gb(n,t,e,s){const l=e.padding;let{x:r,y:u}=t;for(const h of n){const d=h.box,g=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/g.weight||1;if(h.horizontal){const _=t.w*m,b=g.size||d.height;wc(g.start)&&(u=g.start),d.fullSize?Kr(d,l.left,u,e.outerWidth-l.right-l.left,b):Kr(d,t.left+g.placed,u,_,b),g.start=u,g.placed+=_,u=d.bottom}else{const _=t.h*m,b=g.size||d.width;wc(g.start)&&(r=g.start),d.fullSize?Kr(d,r,l.top,b,e.outerHeight-l.bottom-l.top):Kr(d,r,t.top+g.placed,b,_),g.start=r,g.placed+=_,r=d.right}}t.x=r,t.y=u}var on={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const l=cn(n.options.layout.padding),r=Math.max(t-l.width,0),u=Math.max(e-l.height,0),h=jO(n.boxes),d=h.vertical,g=h.horizontal;Ot(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const m=d.reduce((C,A)=>A.box.options&&A.box.options.display===!1?C:C+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:l,availableWidth:r,availableHeight:u,vBoxMaxWidth:r/2/m,hBoxMaxHeight:u/2}),b=Object.assign({},l);SS(b,cn(s));const S=Object.assign({maxPadding:b,w:r,h:u,x:l.left,y:l.top},l),x=UO(d.concat(g),_);jl(h.fullSize,S,_,x),jl(d,S,_,x),jl(g,S,_,x)&&jl(d,S,_,x),VO(S),Gb(h.leftAndTop,S,_,x),S.x+=S.w,S.y+=S.h,Gb(h.rightAndBottom,S,_,x),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Ot(h.chartArea,C=>{const A=C.box;Object.assign(A,n.chartArea),A.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class xS{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,l){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,l?Math.floor(e/l):s)}}isAttached(t){return!0}updateConfig(t){}}class FO extends xS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const ac="$chartjs",qO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wb=n=>n===null||n==="";function GO(n,t){const e=n.style,s=n.getAttribute("height"),l=n.getAttribute("width");if(n[ac]={initial:{height:s,width:l,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Wb(l)){const r=kb(n,"width");r!==void 0&&(n.width=r)}if(Wb(s))if(n.style.height==="")n.height=n.width/(t||2);else{const r=kb(n,"height");r!==void 0&&(n.height=r)}return n}const ES=iO?{passive:!0}:!1;function WO(n,t,e){n&&n.addEventListener(t,e,ES)}function XO(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ES)}function QO(n,t){const e=qO[n.type]||n.type,{x:s,y:l}=ss(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:l!==void 0?l:null}}function Rc(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function KO(n,t,e){const s=n.canvas,l=new MutationObserver(r=>{let u=!1;for(const h of r)u=u||Rc(h.addedNodes,s),u=u&&!Rc(h.removedNodes,s);u&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}function ZO(n,t,e){const s=n.canvas,l=new MutationObserver(r=>{let u=!1;for(const h of r)u=u||Rc(h.removedNodes,s),u=u&&!Rc(h.addedNodes,s);u&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}const yo=new Map;let Xb=0;function TS(){const n=window.devicePixelRatio;n!==Xb&&(Xb=n,yo.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function $O(n,t){yo.size||window.addEventListener("resize",TS),yo.set(n,t)}function JO(n){yo.delete(n),yo.size||window.removeEventListener("resize",TS)}function tR(n,t,e){const s=n.canvas,l=s&&_g(s);if(!l)return;const r=oS((h,d)=>{const g=l.clientWidth;e(h,d),g<l.clientWidth&&e()},window),u=new ResizeObserver(h=>{const d=h[0],g=d.contentRect.width,m=d.contentRect.height;g===0&&m===0||r(g,m)});return u.observe(l),$O(n,r),u}function Bf(n,t,e){e&&e.disconnect(),t==="resize"&&JO(n)}function eR(n,t,e){const s=n.canvas,l=oS(r=>{n.ctx!==null&&e(QO(r,n))},n);return WO(s,t,l),l}class nR extends xS{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(GO(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[ac])return!1;const s=e[ac].initial;["height","width"].forEach(r=>{const u=s[r];Pt(u)?e.removeAttribute(r):e.setAttribute(r,u)});const l=s.style||{};return Object.keys(l).forEach(r=>{e.style[r]=l[r]}),e.width=e.width,delete e[ac],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const l=t.$proxies||(t.$proxies={}),u={attach:KO,detach:ZO,resize:tR}[e]||eR;l[e]=u(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),l=s[e];if(!l)return;({attach:Bf,detach:Bf,resize:Bf}[e]||XO)(t,e,l),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,l){return nO(t,e,s,l)}isAttached(t){const e=t&&_g(t);return!!(e&&e.isConnected)}}function iR(n){return!mg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?FO:nR}class An{constructor(){nt(this,"x");nt(this,"y");nt(this,"active",!1);nt(this,"options");nt(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return go(this.x)&&go(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const l={};return t.forEach(r=>{l[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),l}}nt(An,"defaults",{}),nt(An,"defaultRoutes");function sR(n,t){const e=n.options.ticks,s=aR(n),l=Math.min(e.maxTicksLimit||s,s),r=e.major.enabled?oR(t):[],u=r.length,h=r[0],d=r[u-1],g=[];if(u>l)return rR(t,g,r,u/l),g;const m=lR(r,t,l);if(u>0){let _,b;const S=u>1?Math.round((d-h)/(u-1)):null;for(Zr(t,g,m,Pt(S)?0:h-S,h),_=0,b=u-1;_<b;_++)Zr(t,g,m,r[_],r[_+1]);return Zr(t,g,m,d,Pt(S)?t.length:d+S),g}return Zr(t,g,m),g}function aR(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),l=n._maxLength/e;return Math.floor(Math.min(s,l))}function lR(n,t,e){const s=cR(n),l=t.length/e;if(!s)return Math.max(l,1);const r=Jw(s);for(let u=0,h=r.length-1;u<h;u++){const d=r[u];if(d>l)return d}return Math.max(l,1)}function oR(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function rR(n,t,e,s){let l=0,r=e[0],u;for(s=Math.ceil(s),u=0;u<n.length;u++)u===r&&(t.push(n[u]),l++,r=e[l*s])}function Zr(n,t,e,s,l){const r=xt(s,0),u=Math.min(xt(l,n.length),n.length);let h=0,d,g,m;for(e=Math.ceil(e),l&&(d=l-s,e=d/Math.floor(d/e)),m=r;m<0;)h++,m=Math.round(r+h*e);for(g=Math.max(r,0);g<u;g++)g===m&&(t.push(n[g]),h++,m=Math.round(r+h*e))}function cR(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const uR=n=>n==="left"?"right":n==="right"?"left":n,Qb=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Kb=(n,t)=>Math.min(t||n,n);function Zb(n,t){const e=[],s=n.length/t,l=n.length;let r=0;for(;r<l;r+=s)e.push(n[Math.floor(r)]);return e}function hR(n,t,e){const s=n.ticks.length,l=Math.min(t,s-1),r=n._startPixel,u=n._endPixel,h=1e-6;let d=n.getPixelForTick(l),g;if(!(e&&(s===1?g=Math.max(d-r,u-d):t===0?g=(n.getPixelForTick(1)-d)/2:g=(d-n.getPixelForTick(l-1))/2,d+=l<t?g:-g,d<r-h||d>u+h)))return d}function fR(n,t){Ot(n,e=>{const s=e.gc,l=s.length/2;let r;if(l>t){for(r=0;r<l;++r)delete e.data[s[r]];s.splice(0,l)}})}function Il(n){return n.drawTicks?n.tickLength:0}function $b(n,t){if(!n.display)return 0;const e=Ae(n.font,t),s=cn(n.padding);return(me(n.text)?n.text.length:1)*e.lineHeight+s.height}function dR(n,t){return ms(n,{scale:t,type:"scale"})}function gR(n,t,e){return ms(n,{tick:e,index:t,type:"tick"})}function pR(n,t,e){let s=og(n);return(e&&t!=="right"||!e&&t==="right")&&(s=uR(s)),s}function mR(n,t,e,s){const{top:l,left:r,bottom:u,right:h,chart:d}=n,{chartArea:g,scales:m}=d;let _=0,b,S,x;const C=u-l,A=h-r;if(n.isHorizontal()){if(S=Ce(s,r,h),Ct(e)){const z=Object.keys(e)[0],B=e[z];x=m[z].getPixelForValue(B)+C-t}else e==="center"?x=(g.bottom+g.top)/2+C-t:x=Qb(n,e,t);b=h-r}else{if(Ct(e)){const z=Object.keys(e)[0],B=e[z];S=m[z].getPixelForValue(B)-A+t}else e==="center"?S=(g.left+g.right)/2-A+t:S=Qb(n,e,t);x=Ce(s,u,l),_=e==="left"?-oe:oe}return{titleX:S,titleY:x,maxWidth:b,rotation:_}}class Ma extends An{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:l}=this;return t=En(t,Number.POSITIVE_INFINITY),e=En(e,Number.NEGATIVE_INFINITY),s=En(s,Number.POSITIVE_INFINITY),l=En(l,Number.NEGATIVE_INFINITY),{min:En(t,s),max:En(e,l),minDefined:rn(t),maxDefined:rn(e)}}getMinMax(t){let{min:e,max:s,minDefined:l,maxDefined:r}=this.getUserBounds(),u;if(l&&r)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,g=h.length;d<g;++d)u=h[d].controller.getMinMax(this,t),l||(e=Math.min(e,u.min)),r||(s=Math.max(s,u.max));return e=r&&e>s?s:e,s=l&&e>s?e:s,{min:En(e,En(s,e)),max:En(s,En(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Vt(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:l,grace:r,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zD(this,r,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Zb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=sR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Vt(this.options.afterUpdate,[this])}beforeSetDimensions(){Vt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Vt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Vt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Vt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,l,r;for(s=0,l=t.length;s<l;s++)r=t[s],r.label=Vt(e.callback,[r.value,s,t],this)}afterTickToLabelConversion(){Vt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Vt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Kb(this.ticks.length,t.ticks.maxTicksLimit),l=e.minRotation||0,r=e.maxRotation;let u=l,h,d,g;if(!this._isVisible()||!e.display||l>=r||s<=1||!this.isHorizontal()){this.labelRotation=l;return}const m=this._getLabelSizes(),_=m.widest.width,b=m.highest.height,S=we(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/s:S/(s-1),_+6>h&&(h=S/(s-(t.offset?.5:1)),d=this.maxHeight-Il(t.grid)-e.padding-$b(t.title,this.chart.options.font),g=Math.sqrt(_*_+b*b),u=iD(Math.min(Math.asin(we((m.highest.height+6)/h,-1,1)),Math.asin(we(d/g,-1,1))-Math.asin(we(b/g,-1,1)))),u=Math.max(l,Math.min(r,u))),this.labelRotation=u}afterCalculateLabelRotation(){Vt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Vt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:l,grid:r}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const d=$b(l,e.options.font);if(h?(t.width=this.maxWidth,t.height=Il(r)+d):(t.height=this.maxHeight,t.width=Il(r)+d),s.display&&this.ticks.length){const{first:g,last:m,widest:_,highest:b}=this._getLabelSizes(),S=s.padding*2,x=Xn(this.labelRotation),C=Math.cos(x),A=Math.sin(x);if(h){const z=s.mirror?0:A*_.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+z+S)}else{const z=s.mirror?0:C*_.width+A*b.height;t.width=Math.min(this.maxWidth,t.width+z+S)}this._calculatePadding(g,m,A,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,l){const{ticks:{align:r,padding:u},position:h}=this.options,d=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;d?g?(b=l*t.width,S=s*e.height):(b=s*t.height,S=l*e.width):r==="start"?S=e.width:r==="end"?b=t.width:r!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-m+u)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-_+u)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;r==="start"?(m=0,_=t.height):r==="end"&&(m=e.height,_=0),this.paddingTop=m+u,this.paddingBottom=_+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Vt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Pt(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Zb(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:l,_longestTextCache:r}=this,u=[],h=[],d=Math.floor(e/Kb(e,s));let g=0,m=0,_,b,S,x,C,A,z,B,P,q,L;for(_=0;_<e;_+=d){if(x=t[_].label,C=this._resolveTickFontOptions(_),l.font=A=C.string,z=r[A]=r[A]||{data:{},gc:[]},B=C.lineHeight,P=q=0,!Pt(x)&&!me(x))P=wb(l,z.data,z.gc,P,x),q=B;else if(me(x))for(b=0,S=x.length;b<S;++b)L=x[b],!Pt(L)&&!me(L)&&(P=wb(l,z.data,z.gc,P,L),q+=B);u.push(P),h.push(q),g=Math.max(P,g),m=Math.max(q,m)}fR(r,e);const Q=u.indexOf(g),K=h.indexOf(m),X=tt=>({width:u[tt]||0,height:h[tt]||0});return{first:X(0),last:X(e-1),widest:X(Q),highest:X(K),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return aD(this._alignToPixels?ts(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=gR(this.getContext(),t,s))}return this.$context||(this.$context=dR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Xn(this.labelRotation),s=Math.abs(Math.cos(e)),l=Math.abs(Math.sin(e)),r=this._getLabelSizes(),u=t.autoSkipPadding||0,h=r?r.widest.width+u:0,d=r?r.highest.height+u:0;return this.isHorizontal()?d*s>h*l?h/s:d/l:d*l<h*s?d/s:h/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,l=this.options,{grid:r,position:u,border:h}=l,d=r.offset,g=this.isHorizontal(),_=this.ticks.length+(d?1:0),b=Il(r),S=[],x=h.setContext(this.getContext()),C=x.display?x.width:0,A=C/2,z=function(N){return ts(s,N,C)};let B,P,q,L,Q,K,X,tt,ut,it,st,Lt;if(u==="top")B=z(this.bottom),K=this.bottom-b,tt=B-A,it=z(t.top)+A,Lt=t.bottom;else if(u==="bottom")B=z(this.top),it=t.top,Lt=z(t.bottom)-A,K=B+A,tt=this.top+b;else if(u==="left")B=z(this.right),Q=this.right-b,X=B-A,ut=z(t.left)+A,st=t.right;else if(u==="right")B=z(this.left),ut=t.left,st=z(t.right)-A,Q=B+A,X=this.left+b;else if(e==="x"){if(u==="center")B=z((t.top+t.bottom)/2+.5);else if(Ct(u)){const N=Object.keys(u)[0],V=u[N];B=z(this.chart.scales[N].getPixelForValue(V))}it=t.top,Lt=t.bottom,K=B+A,tt=K+b}else if(e==="y"){if(u==="center")B=z((t.left+t.right)/2);else if(Ct(u)){const N=Object.keys(u)[0],V=u[N];B=z(this.chart.scales[N].getPixelForValue(V))}Q=B-A,X=Q-b,ut=t.left,st=t.right}const Yt=xt(l.ticks.maxTicksLimit,_),at=Math.max(1,Math.ceil(_/Yt));for(P=0;P<_;P+=at){const N=this.getContext(P),V=r.setContext(N),$=h.setContext(N),Y=V.lineWidth,E=V.color,I=$.dash||[],W=$.dashOffset,F=V.tickWidth,Z=V.tickColor,ct=V.tickBorderDash||[],lt=V.tickBorderDashOffset;q=hR(this,P,d),q!==void 0&&(L=ts(s,q,Y),g?Q=X=ut=st=L:K=tt=it=Lt=L,S.push({tx1:Q,ty1:K,tx2:X,ty2:tt,x1:ut,y1:it,x2:st,y2:Lt,width:Y,color:E,borderDash:I,borderDashOffset:W,tickWidth:F,tickColor:Z,tickBorderDash:ct,tickBorderDashOffset:lt}))}return this._ticksLength=_,this._borderValue=B,S}_computeLabelItems(t){const e=this.axis,s=this.options,{position:l,ticks:r}=s,u=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:g,padding:m,mirror:_}=r,b=Il(s.grid),S=b+m,x=_?-m:S,C=-Xn(this.labelRotation),A=[];let z,B,P,q,L,Q,K,X,tt,ut,it,st,Lt="middle";if(l==="top")Q=this.bottom-x,K=this._getXAxisLabelAlignment();else if(l==="bottom")Q=this.top+x,K=this._getXAxisLabelAlignment();else if(l==="left"){const at=this._getYAxisLabelAlignment(b);K=at.textAlign,L=at.x}else if(l==="right"){const at=this._getYAxisLabelAlignment(b);K=at.textAlign,L=at.x}else if(e==="x"){if(l==="center")Q=(t.top+t.bottom)/2+S;else if(Ct(l)){const at=Object.keys(l)[0],N=l[at];Q=this.chart.scales[at].getPixelForValue(N)+S}K=this._getXAxisLabelAlignment()}else if(e==="y"){if(l==="center")L=(t.left+t.right)/2-S;else if(Ct(l)){const at=Object.keys(l)[0],N=l[at];L=this.chart.scales[at].getPixelForValue(N)}K=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(d==="start"?Lt="top":d==="end"&&(Lt="bottom"));const Yt=this._getLabelSizes();for(z=0,B=h.length;z<B;++z){P=h[z],q=P.label;const at=r.setContext(this.getContext(z));X=this.getPixelForTick(z)+r.labelOffset,tt=this._resolveTickFontOptions(z),ut=tt.lineHeight,it=me(q)?q.length:1;const N=it/2,V=at.color,$=at.textStrokeColor,Y=at.textStrokeWidth;let E=K;u?(L=X,K==="inner"&&(z===B-1?E=this.options.reverse?"left":"right":z===0?E=this.options.reverse?"right":"left":E="center"),l==="top"?g==="near"||C!==0?st=-it*ut+ut/2:g==="center"?st=-Yt.highest.height/2-N*ut+ut:st=-Yt.highest.height+ut/2:g==="near"||C!==0?st=ut/2:g==="center"?st=Yt.highest.height/2-N*ut:st=Yt.highest.height-it*ut,_&&(st*=-1),C!==0&&!at.showLabelBackdrop&&(L+=ut/2*Math.sin(C))):(Q=X,st=(1-it)*ut/2);let I;if(at.showLabelBackdrop){const W=cn(at.backdropPadding),F=Yt.heights[z],Z=Yt.widths[z];let ct=st-W.top,lt=0-W.left;switch(Lt){case"middle":ct-=F/2;break;case"bottom":ct-=F;break}switch(K){case"center":lt-=Z/2;break;case"right":lt-=Z;break;case"inner":z===B-1?lt-=Z:z>0&&(lt-=Z/2);break}I={left:lt,top:ct,width:Z+W.width,height:F+W.height,color:at.backdropColor}}A.push({label:q,font:tt,textOffset:st,options:{rotation:C,color:V,strokeColor:$,strokeWidth:Y,textAlign:E,textBaseline:Lt,translation:[L,Q],backdrop:I}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Xn(this.labelRotation))return t==="top"?"left":"right";let l="center";return e.align==="start"?l="left":e.align==="end"?l="right":e.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:l,padding:r}}=this.options,u=this._getLabelSizes(),h=t+r,d=u.widest.width;let g,m;return e==="left"?l?(m=this.right+r,s==="near"?g="left":s==="center"?(g="center",m+=d/2):(g="right",m+=d)):(m=this.right-h,s==="near"?g="right":s==="center"?(g="center",m-=d/2):(g="left",m=this.left)):e==="right"?l?(m=this.left+r,s==="near"?g="right":s==="center"?(g="center",m-=d/2):(g="left",m-=d)):(m=this.left+h,s==="near"?g="left":s==="center"?(g="center",m+=d/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:l,width:r,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,l,r,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const l=this.ticks.findIndex(r=>r.value===t);return l>=0?e.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,u;const h=(d,g,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(e.display)for(r=0,u=l.length;r<u;++r){const d=l[r];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:l}}=this,r=s.setContext(this.getContext()),u=s.display?r.width:0;if(!u)return;const h=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let g,m,_,b;this.isHorizontal()?(g=ts(t,this.left,u)-u/2,m=ts(t,this.right,h)+h/2,_=b=d):(_=ts(t,this.top,u)-u/2,b=ts(t,this.bottom,h)+h/2,g=m=d),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(g,_),e.lineTo(m,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,l=this._computeLabelArea();l&&ug(s,l);const r=this.getLabelItems(t);for(const u of r){const h=u.options,d=u.font,g=u.label,m=u.textOffset;_o(s,g,0,m,d,h)}l&&hg(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:l}}=this;if(!s.display)return;const r=Ae(s.font),u=cn(s.padding),h=s.align;let d=r.lineHeight/2;e==="bottom"||e==="center"||Ct(e)?(d+=u.bottom,me(s.text)&&(d+=r.lineHeight*(s.text.length-1))):d+=u.top;const{titleX:g,titleY:m,maxWidth:_,rotation:b}=mR(this,d,e,h);_o(t,s.text,0,0,r,{color:s.color,maxWidth:_,rotation:b,textAlign:pR(h,e,l),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=xt(t.grid&&t.grid.z,-1),l=xt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ma.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",l=[];let r,u;for(r=0,u=e.length;r<u;++r){const h=e[r];h[s]===this.id&&(!t||h.type===t)&&l.push(h)}return l}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ae(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class $r{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;bR(e)&&(s=this.register(e));const l=this.items,r=t.id,u=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in l||(l[r]=t,_R(t,u,s),this.override&&ne.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,l=this.scope;s in e&&delete e[s],l&&s in ne[l]&&(delete ne[l][s],this.override&&delete ds[s])}}function _R(n,t,e){const s=ho(Object.create(null),[e?ne.get(e):{},ne.get(t),n.defaults]);ne.set(t,s),n.defaultRoutes&&yR(t,n.defaultRoutes),n.descriptors&&ne.describe(t,n.descriptors)}function yR(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),l=s.pop(),r=[n].concat(s).join("."),u=t[e].split("."),h=u.pop(),d=u.join(".");ne.route(r,l,d,h)})}function bR(n){return"id"in n&&"defaults"in n}class vR{constructor(){this.controllers=new $r(fa,"datasets",!0),this.elements=new $r(An,"elements"),this.plugins=new $r(Object,"plugins"),this.scales=new $r(Ma,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(l=>{const r=s||this._getRegistryForType(l);s||r.isForType(l)||r===this.plugins&&l.id?this._exec(t,r,l):Ot(l,u=>{const h=s||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,s){const l=ag(t);Vt(s["before"+l],[],s),e[t](s),Vt(s["after"+l],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const l=e.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return l}}var Cn=new vR;class SR{constructor(){this._init=[]}notify(t,e,s,l){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=l?this._descriptors(t).filter(l):this._descriptors(t),u=this._notify(r,t,e,s);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,s,l){l=l||{};for(const r of t){const u=r.plugin,h=u[s],d=[e,l,r.options];if(Vt(h,d,u)===!1&&l.cancelable)return!1}return!0}invalidate(){Pt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,l=xt(s.options&&s.options.plugins,{}),r=xR(s);return l===!1&&!e?[]:TR(t,r,l,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,l=(r,u)=>r.filter(h=>!u.some(d=>h.plugin.id===d.plugin.id));this._notify(l(e,s),t,"stop"),this._notify(l(s,e),t,"start")}}function xR(n){const t={},e=[],s=Object.keys(Cn.plugins.items);for(let r=0;r<s.length;r++)e.push(Cn.getPlugin(s[r]));const l=n.plugins||[];for(let r=0;r<l.length;r++){const u=l[r];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function ER(n,t){return!t&&n===!1?null:n===!0?{}:n}function TR(n,{plugins:t,localIds:e},s,l){const r=[],u=n.getContext();for(const h of t){const d=h.id,g=ER(s[d],l);g!==null&&r.push({plugin:h,options:CR(n.config,{plugin:h,local:e[d]},g,u)})}return r}function CR(n,{plugin:t,local:e},s,l){const r=n.pluginScopeKeys(t),u=n.getOptionScopes(s,r);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hd(n,t){const e=ne.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function AR(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function MR(n,t){return n===t?"_index_":"_value_"}function Jb(n){if(n==="x"||n==="y"||n==="r")return n}function wR(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function fd(n,...t){if(Jb(n))return n;for(const e of t){const s=e.axis||wR(e.position)||n.length>1&&Jb(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function tv(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function DR(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return tv(n,"x",e[0])||tv(n,"y",e[0])}return{}}function OR(n,t){const e=ds[n.type]||{scales:{}},s=t.scales||{},l=hd(n.type,t),r=Object.create(null);return Object.keys(s).forEach(u=>{const h=s[u];if(!Ct(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const d=fd(u,h,DR(u,n),ne.scales[h.type]),g=MR(d,l),m=e.scales||{};r[u]=Ql(Object.create(null),[{axis:d},h,m[d],m[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,d=u.indexAxis||hd(h,t),m=(ds[h]||{}).scales||{};Object.keys(m).forEach(_=>{const b=AR(_,d),S=u[b+"AxisID"]||b;r[S]=r[S]||Object.create(null),Ql(r[S],[{axis:b},s[S],m[_]])})}),Object.keys(r).forEach(u=>{const h=r[u];Ql(h,[ne.scales[h.type],ne.scale])}),r}function CS(n){const t=n.options||(n.options={});t.plugins=xt(t.plugins,{}),t.scales=OR(n,t)}function AS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function RR(n){return n=n||{},n.data=AS(n.data),CS(n),n}const ev=new Map,MS=new Set;function Jr(n,t){let e=ev.get(n);return e||(e=t(),ev.set(n,e),MS.add(e)),e}const Hl=(n,t,e)=>{const s=fo(t,e);s!==void 0&&n.add(s)};class NR{constructor(t){this._config=RR(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=AS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),CS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Jr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Jr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Jr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return Jr(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let l=s.get(t);return(!l||e)&&(l=new Map,s.set(t,l)),l}getOptionScopes(t,e,s){const{options:l,type:r}=this,u=this._cachedScopes(t,s),h=u.get(e);if(h)return h;const d=new Set;e.forEach(m=>{t&&(d.add(t),m.forEach(_=>Hl(d,t,_))),m.forEach(_=>Hl(d,l,_)),m.forEach(_=>Hl(d,ds[r]||{},_)),m.forEach(_=>Hl(d,ne,_)),m.forEach(_=>Hl(d,od,_))});const g=Array.from(d);return g.length===0&&g.push(Object.create(null)),MS.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,ds[e]||{},ne.datasets[e]||{},{type:e},ne,od]}resolveNamedOptions(t,e,s,l=[""]){const r={$shared:!0},{resolver:u,subPrefixes:h}=nv(this._resolverCache,t,l);let d=u;if(zR(u,e)){r.$shared=!1,s=ki(s)?s():s;const g=this.createResolver(t,s,h);d=va(u,s,g)}for(const g of e)r[g]=d[g];return r}createResolver(t,e,s=[""],l){const{resolver:r}=nv(this._resolverCache,t,s);return Ct(e)?va(r,e,void 0,l):r}}function nv(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const l=e.join();let r=s.get(l);return r||(r={resolver:dg(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(l,r)),r}const kR=n=>Ct(n)&&Object.getOwnPropertyNames(n).some(t=>ki(n[t]));function zR(n,t){const{isScriptable:e,isIndexable:s}=uS(n);for(const l of t){const r=e(l),u=s(l),h=(u||r)&&n[l];if(r&&(ki(h)||kR(h))||u&&me(h))return!0}return!1}var LR="4.4.8";const IR=["top","bottom","left","right","chartArea"];function iv(n,t){return n==="top"||n==="bottom"||IR.indexOf(n)===-1&&t==="x"}function sv(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function av(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Vt(e&&e.onComplete,[n],t)}function HR(n){const t=n.chart,e=t.options.animation;Vt(e&&e.onProgress,[n],t)}function wS(n){return mg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const lc={},lv=n=>{const t=wS(n);return Object.values(lc).filter(e=>e.canvas===t).pop()};function BR(n,t,e){const s=Object.keys(n);for(const l of s){const r=+l;if(r>=t){const u=n[l];delete n[l],(e>0||r>t)&&(n[r+e]=u)}}}function UR(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}function tc(n,t,e){return n.options.clip?n[e]:t[e]}function jR(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:tc(e,t,"left"),right:tc(e,t,"right"),top:tc(s,t,"top"),bottom:tc(s,t,"bottom")}:t}var Ei;let Qc=(Ei=class{static register(...t){Cn.add(...t),ov()}static unregister(...t){Cn.remove(...t),ov()}constructor(t,e){const s=this.config=new NR(e),l=wS(t),r=lv(l);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||iR(l)),this.platform.updateConfig(s);const h=this.platform.acquireContext(l,u.aspectRatio),d=h&&h.canvas,g=d&&d.height,m=d&&d.width;if(this.id=Fw(),this.ctx=h,this.canvas=d,this.width=m,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uD(_=>this.update(_),u.resizeDelay||0),this._dataChanges=[],lc[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Fn.listen(this,"complete",av),Fn.listen(this,"progress",HR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:l,_aspectRatio:r}=this;return Pt(t)?e&&r?r:l?s/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Cn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Db(this.canvas,this.ctx),this}stop(){return Fn.stop(this),this}resize(t,e){Fn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,l=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(l,t,e,r),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Nb(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),Vt(s.onResize,[this,u],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Ot(e,(s,l)=>{s.id=l})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,l=Object.keys(s).reduce((u,h)=>(u[h]=!1,u),{});let r=[];e&&(r=r.concat(Object.keys(e).map(u=>{const h=e[u],d=fd(u,h),g=d==="r",m=d==="x";return{options:h,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Ot(r,u=>{const h=u.options,d=h.id,g=fd(d,h),m=xt(h.type,u.dtype);(h.position===void 0||iv(h.position,g)!==iv(u.dposition))&&(h.position=u.dposition),l[d]=!0;let _=null;if(d in s&&s[d].type===m)_=s[d];else{const b=Cn.getScale(m);_=new b({id:d,type:m,ctx:this.ctx,chart:this}),s[_.id]=_}_.init(h,t)}),Ot(l,(u,h)=>{u||delete s[h]}),Ot(s,u=>{on.configure(this,u,u.options),on.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((l,r)=>l.index-r.index),s>e){for(let l=e;l<s;++l)this._destroyDatasetMeta(l);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(sv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,l)=>{e.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,l;for(this._removeUnreferencedMetasets(),s=0,l=e.length;s<l;s++){const r=e[s];let u=this.getDatasetMeta(s);const h=r.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=h,u.indexAxis=r.indexAxis||hd(h,this.options),u.order=r.order||0,u.index=s,u.label=""+r.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const d=Cn.getController(h),{datasetElementType:g,dataElementType:m}=ne.datasets[h];Object.assign(d,{dataElementType:Cn.getElement(m),datasetElementType:g&&Cn.getElement(g)}),u.controller=new d(this,s),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Ot(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:_}=this.getDatasetMeta(g),b=!l&&r.indexOf(_)===-1;_.buildOrUpdateElements(b),u=Math.max(+_.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),l||Ot(r,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(sv("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Ot(this.scales,t=>{on.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!bb(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:l,count:r}of e){const u=s==="_removeElements"?-r:r;BR(t,l,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=r=>new Set(t.filter(u=>u[0]===r).map((u,h)=>h+","+u.splice(1).join(","))),l=s(0);for(let r=1;r<e;r++)if(!bb(l,s(r)))return;return Array.from(l).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;on.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],Ot(this.boxes,l=>{s&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,r)=>{l._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,ki(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),l={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(s.controller._update(e),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Fn.has(this)?this.attached&&!Fn.running(this)&&Fn.start(this):(this.draw(),av({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let l,r;for(l=0,r=e.length;l<r;++l){const u=e[l];(!t||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,l=!s.disabled,r=jR(t,this.chartArea),u={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",u)!==!1&&(l&&ug(e,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),t.controller.draw(),l&&hg(e),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(t){return mo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,l){const r=IO.modes[e];return typeof r=="function"?r(this,t,s,l):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let l=s.filter(r=>r&&r._dataset===e).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(l)),l}getContext(){return this.$context||(this.$context=ms(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const l=s?"show":"hide",r=this.getDatasetMeta(t),u=r.controller._resolveAnimations(void 0,l);wc(e)?(r.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),u.update(r,{visible:s}),this.update(h=>h.datasetIndex===t?l:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Fn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Db(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete lc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(r,u)=>{e.addEventListener(this,r,u),t[r]=u},l=(r,u,h)=>{r.offsetX=u,r.offsetY=h,this._eventHandler(r)};Ot(this.options.events,r=>s(r,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(d,g)=>{e.addEventListener(this,d,g),t[d]=g},l=(d,g)=>{t[d]&&(e.removeEventListener(this,d,g),delete t[d])},r=(d,g)=>{this.canvas&&this.resize(d,g)};let u;const h=()=>{l("attach",h),this.attached=!0,this.resize(),s("resize",r),s("detach",u)};u=()=>{this.attached=!1,l("resize",r),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Ot(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Ot(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const l=s?"set":"remove";let r,u,h,d;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+l+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[l+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:r,index:u})=>{const h=this.getDatasetMeta(r);if(!h)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:h.data[u],index:u}});!Ac(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const l=this.options.hover,r=(d,g)=>d.filter(m=>!g.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),u=r(e,t),h=s?t:r(t,e);u.length&&this.updateHoverStyle(u,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},l=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,l)===!1)return;const r=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,l),(r||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:l=[],options:r}=this,u=e,h=this._getActiveElements(t,l,s,u),d=Kw(t),g=UR(t,this._lastEvent,s,d);s&&(this._lastEvent=null,Vt(r.onHover,[t,h,this],this),d&&Vt(r.onClick,[t,h,this],this));const m=!Ac(h,l);return(m||e)&&(this._active=h,this._updateHoverStyles(h,l,e)),this._lastEvent=g,m}_getActiveElements(t,e,s,l){if(t.type==="mouseout")return[];if(!s)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,l)}},nt(Ei,"defaults",ne),nt(Ei,"instances",lc),nt(Ei,"overrides",ds),nt(Ei,"registry",Cn),nt(Ei,"version",LR),nt(Ei,"getChart",lv),Ei);function ov(){return Ot(Qc.instances,n=>n._plugins.invalidate())}function PR(n,t,e){const{startAngle:s,pixelMargin:l,x:r,y:u,outerRadius:h,innerRadius:d}=t;let g=l/h;n.beginPath(),n.arc(r,u,h,s-g,e+g),d>l?(g=l/d,n.arc(r,u,d,e+g,s-g,!0)):n.arc(r,u,l,e+oe,s-oe),n.closePath(),n.clip()}function VR(n){return fg(n,["outerStart","outerEnd","innerStart","innerEnd"])}function YR(n,t,e,s){const l=VR(n.options.borderRadius),r=(e-t)/2,u=Math.min(r,s*t/2),h=d=>{const g=(e-Math.min(r,d))*s/2;return we(d,0,Math.min(r,g))};return{outerStart:h(l.outerStart),outerEnd:h(l.outerEnd),innerStart:we(l.innerStart,0,u),innerEnd:we(l.innerEnd,0,u)}}function sa(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function Nc(n,t,e,s,l,r){const{x:u,y:h,startAngle:d,pixelMargin:g,innerRadius:m}=t,_=Math.max(t.outerRadius+s+e-g,0),b=m>0?m+s+e+g:0;let S=0;const x=l-d;if(s){const at=m>0?m-s:0,N=_>0?_-s:0,V=(at+N)/2,$=V!==0?x*V/(V+s):x;S=(x-$)/2}const C=Math.max(.001,x*_-e/Jt)/_,A=(x-C)/2,z=d+A+S,B=l-A-S,{outerStart:P,outerEnd:q,innerStart:L,innerEnd:Q}=YR(t,b,_,B-z),K=_-P,X=_-q,tt=z+P/K,ut=B-q/X,it=b+L,st=b+Q,Lt=z+L/it,Yt=B-Q/st;if(n.beginPath(),r){const at=(tt+ut)/2;if(n.arc(u,h,_,tt,at),n.arc(u,h,_,at,ut),q>0){const Y=sa(X,ut,u,h);n.arc(Y.x,Y.y,q,ut,B+oe)}const N=sa(st,B,u,h);if(n.lineTo(N.x,N.y),Q>0){const Y=sa(st,Yt,u,h);n.arc(Y.x,Y.y,Q,B+oe,Yt+Math.PI)}const V=(B-Q/b+(z+L/b))/2;if(n.arc(u,h,b,B-Q/b,V,!0),n.arc(u,h,b,V,z+L/b,!0),L>0){const Y=sa(it,Lt,u,h);n.arc(Y.x,Y.y,L,Lt+Math.PI,z-oe)}const $=sa(K,z,u,h);if(n.lineTo($.x,$.y),P>0){const Y=sa(K,tt,u,h);n.arc(Y.x,Y.y,P,z-oe,tt)}}else{n.moveTo(u,h);const at=Math.cos(tt)*_+u,N=Math.sin(tt)*_+h;n.lineTo(at,N);const V=Math.cos(ut)*_+u,$=Math.sin(ut)*_+h;n.lineTo(V,$)}n.closePath()}function FR(n,t,e,s,l){const{fullCircles:r,startAngle:u,circumference:h}=t;let d=t.endAngle;if(r){Nc(n,t,e,s,d,l);for(let g=0;g<r;++g)n.fill();isNaN(h)||(d=u+(h%$t||$t))}return Nc(n,t,e,s,d,l),n.fill(),d}function qR(n,t,e,s,l){const{fullCircles:r,startAngle:u,circumference:h,options:d}=t,{borderWidth:g,borderJoinStyle:m,borderDash:_,borderDashOffset:b}=d,S=d.borderAlign==="inner";if(!g)return;n.setLineDash(_||[]),n.lineDashOffset=b,S?(n.lineWidth=g*2,n.lineJoin=m||"round"):(n.lineWidth=g,n.lineJoin=m||"bevel");let x=t.endAngle;if(r){Nc(n,t,e,s,x,l);for(let C=0;C<r;++C)n.stroke();isNaN(h)||(x=u+(h%$t||$t))}S&&PR(n,t,x),r||(Nc(n,t,e,s,x,l),n.stroke())}class Pl extends An{constructor(e){super();nt(this,"circumference");nt(this,"endAngle");nt(this,"fullCircles");nt(this,"innerRadius");nt(this,"outerRadius");nt(this,"pixelMargin");nt(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,l){const r=this.getProps(["x","y"],l),{angle:u,distance:h}=sS(r,{x:e,y:s}),{startAngle:d,endAngle:g,innerRadius:m,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),S=(this.options.spacing+this.options.borderWidth)/2,x=xt(b,g-d),C=po(u,d,g)&&d!==g,A=x>=$t||C,z=la(h,m+S,_+S);return A&&z}getCenterPoint(e){const{x:s,y:l,startAngle:r,endAngle:u,innerRadius:h,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:m}=this.options,_=(r+u)/2,b=(h+d+m+g)/2;return{x:s+Math.cos(_)*b,y:l+Math.sin(_)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:l}=this,r=(s.offset||0)/4,u=(s.spacing||0)/2,h=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=l>$t?Math.floor(l/$t):0,l===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*r,Math.sin(d)*r);const g=1-Math.sin(Math.min(Jt,l||0)),m=r*g;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,FR(e,this,m,u,h),qR(e,this,m,u,h),e.restore()}}nt(Pl,"id","arc"),nt(Pl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),nt(Pl,"defaultRoutes",{backgroundColor:"backgroundColor"}),nt(Pl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function DS(n,t,e=t){n.lineCap=xt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(xt(e.borderDash,t.borderDash)),n.lineDashOffset=xt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=xt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=xt(e.borderWidth,t.borderWidth),n.strokeStyle=xt(e.borderColor,t.borderColor)}function GR(n,t,e){n.lineTo(e.x,e.y)}function WR(n){return n.stepped?TD:n.tension||n.cubicInterpolationMode==="monotone"?CD:GR}function OS(n,t,e={}){const s=n.length,{start:l=0,end:r=s-1}=e,{start:u,end:h}=t,d=Math.max(l,u),g=Math.min(r,h),m=l<u&&r<u||l>h&&r>h;return{count:s,start:d,loop:t.loop,ilen:g<d&&!m?s+g-d:g-d}}function XR(n,t,e,s){const{points:l,options:r}=t,{count:u,start:h,loop:d,ilen:g}=OS(l,e,s),m=WR(r);let{move:_=!0,reverse:b}=s||{},S,x,C;for(S=0;S<=g;++S)x=l[(h+(b?g-S:S))%u],!x.skip&&(_?(n.moveTo(x.x,x.y),_=!1):m(n,C,x,b,r.stepped),C=x);return d&&(x=l[(h+(b?g:0))%u],m(n,C,x,b,r.stepped)),!!d}function QR(n,t,e,s){const l=t.points,{count:r,start:u,ilen:h}=OS(l,e,s),{move:d=!0,reverse:g}=s||{};let m=0,_=0,b,S,x,C,A,z;const B=q=>(u+(g?h-q:q))%r,P=()=>{C!==A&&(n.lineTo(m,A),n.lineTo(m,C),n.lineTo(m,z))};for(d&&(S=l[B(0)],n.moveTo(S.x,S.y)),b=0;b<=h;++b){if(S=l[B(b)],S.skip)continue;const q=S.x,L=S.y,Q=q|0;Q===x?(L<C?C=L:L>A&&(A=L),m=(_*m+q)/++_):(P(),n.lineTo(q,L),x=Q,_=0,C=A=L),z=L}P()}function dd(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?QR:XR}function KR(n){return n.stepped?sO:n.tension||n.cubicInterpolationMode==="monotone"?aO:as}function ZR(n,t,e,s){let l=t._path;l||(l=t._path=new Path2D,t.path(l,e,s)&&l.closePath()),DS(n,t.options),n.stroke(l)}function $R(n,t,e,s){const{segments:l,options:r}=t,u=dd(t);for(const h of l)DS(n,r,h.style),n.beginPath(),u(n,t,h,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const JR=typeof Path2D=="function";function t2(n,t,e,s){JR&&!t.options.segment?ZR(n,t,e,s):$R(n,t,e,s)}class Vl extends An{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const l=s.spanGaps?this._loop:this._fullLoop;KD(this._points,s,t,l,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dO(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,l=t[e],r=this.points,u=uO(this,{property:e,start:l,end:l});if(!u.length)return;const h=[],d=KR(s);let g,m;for(g=0,m=u.length;g<m;++g){const{start:_,end:b}=u[g],S=r[_],x=r[b];if(S===x){h.push(S);continue}const C=Math.abs((l-S[e])/(x[e]-S[e])),A=d(S,x,C,s.stepped);A[e]=t[e],h.push(A)}return h.length===1?h[0]:h}pathSegment(t,e,s){return dd(this)(t,this,e,s)}path(t,e,s){const l=this.segments,r=dd(this);let u=this._loop;e=e||0,s=s||this.points.length-e;for(const h of l)u&=r(t,this,h,{start:e,end:e+s-1});return!!u}draw(t,e,s,l){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),t2(t,this,s,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}nt(Vl,"id","line"),nt(Vl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),nt(Vl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),nt(Vl,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function rv(n,t,e,s){const l=n.options,{[e]:r}=n.getProps([e],s);return Math.abs(t-r)<l.radius+l.hitRadius}class oc extends An{constructor(e){super();nt(this,"parsed");nt(this,"skip");nt(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,l){const r=this.options,{x:u,y:h}=this.getProps(["x","y"],l);return Math.pow(e-u,2)+Math.pow(s-h,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,s){return rv(this,e,"x",s)}inYRange(e,s){return rv(this,e,"y",s)}getCenterPoint(e){const{x:s,y:l}=this.getProps(["x","y"],e);return{x:s,y:l}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const l=s&&e.borderWidth||0;return(s+l)*2}draw(e,s){const l=this.options;this.skip||l.radius<.1||!mo(this,s,this.size(l)/2)||(e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.fillStyle=l.backgroundColor,rd(e,l,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}nt(oc,"id","point"),nt(oc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),nt(oc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const cv=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},e2=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class uv extends An{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Vt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,l)=>t.sort(s,l,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,l=Ae(s.font),r=l.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=cv(s,r);let g,m;e.font=l.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(u,r,h,d)+10):(m=this.maxHeight,g=this._fitCols(u,l,h,d)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,l){const{ctx:r,maxWidth:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.lineWidths=[0],m=l+h;let _=t;r.textAlign="left",r.textBaseline="middle";let b=-1,S=-m;return this.legendItems.forEach((x,C)=>{const A=s+e/2+r.measureText(x.text).width;(C===0||g[g.length-1]+A+2*h>u)&&(_+=m,g[g.length-(C>0?0:1)]=0,S+=m,b++),d[C]={left:0,top:S,row:b,width:A,height:l},g[g.length-1]+=A+h}),_}_fitCols(t,e,s,l){const{ctx:r,maxHeight:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.columnSizes=[],m=u-t;let _=h,b=0,S=0,x=0,C=0;return this.legendItems.forEach((A,z)=>{const{itemWidth:B,itemHeight:P}=n2(s,e,r,A,l);z>0&&S+P+2*h>m&&(_+=b+h,g.push({width:b,height:S}),x+=b+h,C++,b=S=0),d[z]={left:x,top:S,col:C,width:B,height:P},b=Math.max(b,B),S+=P+h}),_+=b,g.push({width:b,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:l},rtl:r}}=this,u=ha(r,this.left,this.width);if(this.isHorizontal()){let h=0,d=Ce(s,this.left+l,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,d=Ce(s,this.left+l,this.right-this.lineWidths[h])),g.top+=this.top+t+l,g.left=u.leftForLtr(u.x(d),g.width),d+=g.width+l}else{let h=0,d=Ce(s,this.top+t+l,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,d=Ce(s,this.top+t+l,this.bottom-this.columnSizes[h].height)),g.top=d,g.left+=this.left+l,g.left=u.leftForLtr(u.x(g.left),g.width),d+=g.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ug(t,this),this._draw(),hg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:l}=this,{align:r,labels:u}=t,h=ne.color,d=ha(t.rtl,this.left,this.width),g=Ae(u.font),{padding:m}=u,_=g.size,b=_/2;let S;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=g.string;const{boxWidth:x,boxHeight:C,itemHeight:A}=cv(u,_),z=function(Q,K,X){if(isNaN(x)||x<=0||isNaN(C)||C<0)return;l.save();const tt=xt(X.lineWidth,1);if(l.fillStyle=xt(X.fillStyle,h),l.lineCap=xt(X.lineCap,"butt"),l.lineDashOffset=xt(X.lineDashOffset,0),l.lineJoin=xt(X.lineJoin,"miter"),l.lineWidth=tt,l.strokeStyle=xt(X.strokeStyle,h),l.setLineDash(xt(X.lineDash,[])),u.usePointStyle){const ut={radius:C*Math.SQRT2/2,pointStyle:X.pointStyle,rotation:X.rotation,borderWidth:tt},it=d.xPlus(Q,x/2),st=K+b;cS(l,ut,it,st,u.pointStyleWidth&&x)}else{const ut=K+Math.max((_-C)/2,0),it=d.leftForLtr(Q,x),st=Jl(X.borderRadius);l.beginPath(),Object.values(st).some(Lt=>Lt!==0)?cd(l,{x:it,y:ut,w:x,h:C,radius:st}):l.rect(it,ut,x,C),l.fill(),tt!==0&&l.stroke()}l.restore()},B=function(Q,K,X){_o(l,X.text,Q,K+A/2,g,{strikethrough:X.hidden,textAlign:d.textAlign(X.textAlign)})},P=this.isHorizontal(),q=this._computeTitleHeight();P?S={x:Ce(r,this.left+m,this.right-s[0]),y:this.top+m+q,line:0}:S={x:this.left+m,y:Ce(r,this.top+q+m,this.bottom-e[0].height),line:0},pS(this.ctx,t.textDirection);const L=A+m;this.legendItems.forEach((Q,K)=>{l.strokeStyle=Q.fontColor,l.fillStyle=Q.fontColor;const X=l.measureText(Q.text).width,tt=d.textAlign(Q.textAlign||(Q.textAlign=u.textAlign)),ut=x+b+X;let it=S.x,st=S.y;d.setWidth(this.width),P?K>0&&it+ut+m>this.right&&(st=S.y+=L,S.line++,it=S.x=Ce(r,this.left+m,this.right-s[S.line])):K>0&&st+L>this.bottom&&(it=S.x=it+e[S.line].width+m,S.line++,st=S.y=Ce(r,this.top+q+m,this.bottom-e[S.line].height));const Lt=d.x(it);if(z(Lt,st,Q),it=hD(tt,it+x+b,P?it+ut:this.right,t.rtl),B(d.x(it),st,Q),P)S.x+=ut+m;else if(typeof Q.text!="string"){const Yt=g.lineHeight;S.y+=RS(Q,Yt)+m}else S.y+=L}),mS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=Ae(e.font),l=cn(e.padding);if(!e.display)return;const r=ha(t.rtl,this.left,this.width),u=this.ctx,h=e.position,d=s.size/2,g=l.top+d;let m,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+g,_=Ce(t.align,_,this.right-b);else{const x=this.columnSizes.reduce((C,A)=>Math.max(C,A.height),0);m=g+Ce(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const S=Ce(h,_,_+b);u.textAlign=r.textAlign(og(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=s.string,_o(u,e.text,S,m,s)}_computeTitleHeight(){const t=this.options.title,e=Ae(t.font),s=cn(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,l,r;if(la(t,this.left,this.right)&&la(e,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(l=r[s],la(t,l.left,l.left+l.width)&&la(e,l.top,l.top+l.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!a2(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,r=e2(l,s);l&&!r&&Vt(e.onLeave,[t,l,this],this),this._hoveredItem=s,s&&!r&&Vt(e.onHover,[t,s,this],this)}else s&&Vt(e.onClick,[t,s,this],this)}}function n2(n,t,e,s,l){const r=i2(s,n,t,e),u=s2(l,s,t.lineHeight);return{itemWidth:r,itemHeight:u}}function i2(n,t,e,s){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((r,u)=>r.length>u.length?r:u)),t+e.size/2+s.measureText(l).width}function s2(n,t,e){let s=n;return typeof t.text!="string"&&(s=RS(t,e)),s}function RS(n,t){const e=n.text?n.text.length:0;return t*e}function a2(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var l2={id:"legend",_element:uv,start(n,t,e){const s=n.legend=new uv({ctx:n.ctx,options:e,chart:n});on.configure(n,s,e),on.addBox(n,s)},stop(n){on.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;on.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,l=e.chart;l.isDatasetVisible(s)?(l.hide(s),t.hidden=!0):(l.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:l,color:r,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const g=d.controller.getStyle(e?0:void 0),m=cn(g.borderWidth);return{text:t[d.index].label,fillStyle:g.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:l||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class NS extends An{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const l=me(s.text)?s.text.length:1;this._padding=cn(s.padding);const r=l*Ae(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:l,right:r,options:u}=this,h=u.align;let d=0,g,m,_;return this.isHorizontal()?(m=Ce(h,s,r),_=e+t,g=r-s):(u.position==="left"?(m=s+t,_=Ce(h,l,e),d=Jt*-.5):(m=r-t,_=Ce(h,e,l),d=Jt*.5),g=l-e),{titleX:m,titleY:_,maxWidth:g,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=Ae(e.font),r=s.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:d,rotation:g}=this._drawArgs(r);_o(t,e.text,0,0,s,{color:e.color,maxWidth:d,rotation:g,textAlign:og(e.align),textBaseline:"middle",translation:[u,h]})}}function o2(n,t){const e=new NS({ctx:n.ctx,options:t,chart:n});on.configure(n,e,t),on.addBox(n,e),n.titleBlock=e}var r2={id:"title",_element:NS,start(n,t,e){o2(n,e)},stop(n){const t=n.titleBlock;on.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;on.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Yl={average(n){if(!n.length)return!1;let t,e,s=new Set,l=0,r=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),l+=d.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:l/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,l=Number.POSITIVE_INFINITY,r,u,h;for(r=0,u=n.length;r<u;++r){const d=n[r].element;if(d&&d.hasValue()){const g=d.getCenterPoint(),m=ld(t,g);m<l&&(l=m,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,s=d.y}return{x:e,y:s}}};function Tn(n,t){return t&&(me(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function qn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function c2(n,t){const{element:e,datasetIndex:s,index:l}=t,r=n.getDatasetMeta(s).controller,{label:u,value:h}=r.getLabelAndValue(l);return{chart:n,label:u,parsed:r.getParsed(l),raw:n.data.datasets[s].data[l],formattedValue:h,dataset:r.getDataset(),dataIndex:l,datasetIndex:s,element:e}}function hv(n,t){const e=n.chart.ctx,{body:s,footer:l,title:r}=n,{boxWidth:u,boxHeight:h}=t,d=Ae(t.bodyFont),g=Ae(t.titleFont),m=Ae(t.footerFont),_=r.length,b=l.length,S=s.length,x=cn(t.padding);let C=x.height,A=0,z=s.reduce((q,L)=>q+L.before.length+L.lines.length+L.after.length,0);if(z+=n.beforeBody.length+n.afterBody.length,_&&(C+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),z){const q=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;C+=S*q+(z-S)*d.lineHeight+(z-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*m.lineHeight+(b-1)*t.footerSpacing);let B=0;const P=function(q){A=Math.max(A,e.measureText(q).width+B)};return e.save(),e.font=g.string,Ot(n.title,P),e.font=d.string,Ot(n.beforeBody.concat(n.afterBody),P),B=t.displayColors?u+2+t.boxPadding:0,Ot(s,q=>{Ot(q.before,P),Ot(q.lines,P),Ot(q.after,P)}),B=0,e.font=m.string,Ot(n.footer,P),e.restore(),A+=x.width,{width:A,height:C}}function u2(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function h2(n,t,e,s){const{x:l,width:r}=s,u=e.caretSize+e.caretPadding;if(n==="left"&&l+r+u>t.width||n==="right"&&l-r-u<0)return!0}function f2(n,t,e,s){const{x:l,width:r}=e,{width:u,chartArea:{left:h,right:d}}=n;let g="center";return s==="center"?g=l<=(h+d)/2?"left":"right":l<=r/2?g="left":l>=u-r/2&&(g="right"),h2(g,n,t,e)&&(g="center"),g}function fv(n,t,e){const s=e.yAlign||t.yAlign||u2(n,e);return{xAlign:e.xAlign||t.xAlign||f2(n,t,e,s),yAlign:s}}function d2(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function g2(n,t,e){let{y:s,height:l}=n;return t==="top"?s+=e:t==="bottom"?s-=l+e:s-=l/2,s}function dv(n,t,e,s){const{caretSize:l,caretPadding:r,cornerRadius:u}=n,{xAlign:h,yAlign:d}=e,g=l+r,{topLeft:m,topRight:_,bottomLeft:b,bottomRight:S}=Jl(u);let x=d2(t,h);const C=g2(t,d,g);return d==="center"?h==="left"?x+=g:h==="right"&&(x-=g):h==="left"?x-=Math.max(m,b)+l:h==="right"&&(x+=Math.max(_,S)+l),{x:we(x,0,s.width-t.width),y:we(C,0,s.height-t.height)}}function ec(n,t,e){const s=cn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function gv(n){return Tn([],qn(n))}function p2(n,t,e){return ms(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function pv(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const kS={beforeTitle:Yn,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Yn,beforeBody:Yn,beforeLabel:Yn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Pt(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Yn,afterBody:Yn,beforeFooter:Yn,footer:Yn,afterFooter:Yn};function Le(n,t,e,s){const l=n[t].call(e,s);return typeof l>"u"?kS[t].call(e,s):l}class gd extends An{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),l=s.enabled&&e.options.animation&&s.animations,r=new yS(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=p2(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,l=Le(s,"beforeTitle",this,t),r=Le(s,"title",this,t),u=Le(s,"afterTitle",this,t);let h=[];return h=Tn(h,qn(l)),h=Tn(h,qn(r)),h=Tn(h,qn(u)),h}getBeforeBody(t,e){return gv(Le(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,l=[];return Ot(t,r=>{const u={before:[],lines:[],after:[]},h=pv(s,r);Tn(u.before,qn(Le(h,"beforeLabel",this,r))),Tn(u.lines,Le(h,"label",this,r)),Tn(u.after,qn(Le(h,"afterLabel",this,r))),l.push(u)}),l}getAfterBody(t,e){return gv(Le(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,l=Le(s,"beforeFooter",this,t),r=Le(s,"footer",this,t),u=Le(s,"afterFooter",this,t);let h=[];return h=Tn(h,qn(l)),h=Tn(h,qn(r)),h=Tn(h,qn(u)),h}_createItems(t){const e=this._active,s=this.chart.data,l=[],r=[],u=[];let h=[],d,g;for(d=0,g=e.length;d<g;++d)h.push(c2(this.chart,e[d]));return t.filter&&(h=h.filter((m,_,b)=>t.filter(m,_,b,s))),t.itemSort&&(h=h.sort((m,_)=>t.itemSort(m,_,s))),Ot(h,m=>{const _=pv(t.callbacks,m);l.push(Le(_,"labelColor",this,m)),r.push(Le(_,"labelPointStyle",this,m)),u.push(Le(_,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=r,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),l=this._active;let r,u=[];if(!l.length)this.opacity!==0&&(r={opacity:0});else{const h=Yl[s.position].call(this,l,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const d=this._size=hv(this,s),g=Object.assign({},h,d),m=fv(this.chart,s,g),_=dv(s,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,r={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,l){const r=this.getCaretPosition(t,s,l);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,s){const{xAlign:l,yAlign:r}=this,{caretSize:u,cornerRadius:h}=s,{topLeft:d,topRight:g,bottomLeft:m,bottomRight:_}=Jl(h),{x:b,y:S}=t,{width:x,height:C}=e;let A,z,B,P,q,L;return r==="center"?(q=S+C/2,l==="left"?(A=b,z=A-u,P=q+u,L=q-u):(A=b+x,z=A+u,P=q-u,L=q+u),B=A):(l==="left"?z=b+Math.max(d,m)+u:l==="right"?z=b+x-Math.max(g,_)-u:z=this.caretX,r==="top"?(P=S,q=P-u,A=z-u,B=z+u):(P=S+C,q=P+u,A=z+u,B=z-u),L=P),{x1:A,x2:z,x3:B,y1:P,y2:q,y3:L}}drawTitle(t,e,s){const l=this.title,r=l.length;let u,h,d;if(r){const g=ha(s.rtl,this.x,this.width);for(t.x=ec(this,s.titleAlign,s),e.textAlign=g.textAlign(s.titleAlign),e.textBaseline="middle",u=Ae(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=u.string,d=0;d<r;++d)e.fillText(l[d],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,d+1===r&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,l,r){const u=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:g}=r,m=Ae(r.bodyFont),_=ec(this,"left",r),b=l.x(_),S=d<m.lineHeight?(m.lineHeight-d)/2:0,x=e.y+S;if(r.usePointStyle){const C={radius:Math.min(g,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},A=l.leftForLtr(b,g)+g/2,z=x+d/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,rd(t,C,A,z),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,rd(t,C,A,z)}else{t.lineWidth=Ct(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const C=l.leftForLtr(b,g),A=l.leftForLtr(l.xPlus(b,1),g-2),z=Jl(u.borderRadius);Object.values(z).some(B=>B!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,cd(t,{x:C,y:x,w:g,h:d,radius:z}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),cd(t,{x:A,y:x+1,w:g-2,h:d-2,radius:z}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(C,x,g,d),t.strokeRect(C,x,g,d),t.fillStyle=u.backgroundColor,t.fillRect(A,x+1,g-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:l}=this,{bodySpacing:r,bodyAlign:u,displayColors:h,boxHeight:d,boxWidth:g,boxPadding:m}=s,_=Ae(s.bodyFont);let b=_.lineHeight,S=0;const x=ha(s.rtl,this.x,this.width),C=function(X){e.fillText(X,x.x(t.x+S),t.y+b/2),t.y+=b+r},A=x.textAlign(u);let z,B,P,q,L,Q,K;for(e.textAlign=u,e.textBaseline="middle",e.font=_.string,t.x=ec(this,A,s),e.fillStyle=s.bodyColor,Ot(this.beforeBody,C),S=h&&A!=="right"?u==="center"?g/2+m:g+2+m:0,q=0,Q=l.length;q<Q;++q){for(z=l[q],B=this.labelTextColors[q],e.fillStyle=B,Ot(z.before,C),P=z.lines,h&&P.length&&(this._drawColorBox(e,t,q,x,s),b=Math.max(_.lineHeight,d)),L=0,K=P.length;L<K;++L)C(P[L]),b=_.lineHeight;Ot(z.after,C)}S=0,b=_.lineHeight,Ot(this.afterBody,C),t.y-=r}drawFooter(t,e,s){const l=this.footer,r=l.length;let u,h;if(r){const d=ha(s.rtl,this.x,this.width);for(t.x=ec(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=d.textAlign(s.footerAlign),e.textBaseline="middle",u=Ae(s.footerFont),e.fillStyle=s.footerColor,e.font=u.string,h=0;h<r;++h)e.fillText(l[h],d.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+s.footerSpacing}}drawBackground(t,e,s,l){const{xAlign:r,yAlign:u}=this,{x:h,y:d}=t,{width:g,height:m}=s,{topLeft:_,topRight:b,bottomLeft:S,bottomRight:x}=Jl(l.cornerRadius);e.fillStyle=l.backgroundColor,e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.beginPath(),e.moveTo(h+_,d),u==="top"&&this.drawCaret(t,e,s,l),e.lineTo(h+g-b,d),e.quadraticCurveTo(h+g,d,h+g,d+b),u==="center"&&r==="right"&&this.drawCaret(t,e,s,l),e.lineTo(h+g,d+m-x),e.quadraticCurveTo(h+g,d+m,h+g-x,d+m),u==="bottom"&&this.drawCaret(t,e,s,l),e.lineTo(h+S,d+m),e.quadraticCurveTo(h,d+m,h,d+m-S),u==="center"&&r==="left"&&this.drawCaret(t,e,s,l),e.lineTo(h,d+_),e.quadraticCurveTo(h,d,h+_,d),e.closePath(),e.fill(),l.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,l=s&&s.x,r=s&&s.y;if(l||r){const u=Yl[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=hv(this,t),d=Object.assign({},u,this._size),g=fv(e,t,d),m=dv(t,d,g,e);(l._to!==m.x||r._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const l={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=cn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,l,e),pS(t,e.textDirection),r.y+=u.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),mS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,l=t.map(({datasetIndex:h,index:d})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[d],index:d}}),r=!Ac(s,l),u=this._positionChanged(l,e);(r||u)&&(this._active=l,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,r=this._active||[],u=this._getActiveElements(t,r,e,s),h=this._positionChanged(u,t),d=e||!Ac(u,r)||h;return d&&(this._active=u,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,s,l){const r=this.options;if(t.type==="mouseout")return[];if(!l)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:s,caretY:l,options:r}=this,u=Yl[r.position].call(this,t,e);return u!==!1&&(s!==u.x||l!==u.y)}}nt(gd,"positioners",Yl);var m2={id:"tooltip",_element:gd,positioners:Yl,afterInit(n,t,e){e&&(n.tooltip=new gd({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _2=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function y2(n,t,e,s){const l=n.indexOf(t);if(l===-1)return _2(n,t,e,s);const r=n.lastIndexOf(t);return l!==r?e:l}const b2=(n,t)=>n===null?null:we(Math.round(n),0,t);function mv(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class pd extends Ma{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:l,label:r}of e)s[l]===r&&s.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Pt(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:y2(s,t,xt(e,t),this._addedLabels),b2(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(l=this.getLabels().length-1)),this.min=s,this.max=l}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,l=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let u=t;u<=e;u++)l.push({value:u});return l}getLabelForValue(t){return mv.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}nt(pd,"id","category"),nt(pd,"defaults",{ticks:{callback:mv}});function v2(n,t){const e=[],{bounds:l,step:r,min:u,max:h,precision:d,count:g,maxTicks:m,maxDigits:_,includeBounds:b}=n,S=r||1,x=m-1,{min:C,max:A}=t,z=!Pt(u),B=!Pt(h),P=!Pt(g),q=(A-C)/(_+1);let L=Sb((A-C)/x/S)*S,Q,K,X,tt;if(L<1e-14&&!z&&!B)return[{value:C},{value:A}];tt=Math.ceil(A/L)-Math.floor(C/L),tt>x&&(L=Sb(tt*L/x/S)*S),Pt(d)||(Q=Math.pow(10,d),L=Math.ceil(L*Q)/Q),l==="ticks"?(K=Math.floor(C/L)*L,X=Math.ceil(A/L)*L):(K=C,X=A),z&&B&&r&&eD((h-u)/r,L/1e3)?(tt=Math.round(Math.min((h-u)/L,m)),L=(h-u)/tt,K=u,X=h):P?(K=z?u:K,X=B?h:X,tt=g-1,L=(X-K)/tt):(tt=(X-K)/L,Kl(tt,Math.round(tt),L/1e3)?tt=Math.round(tt):tt=Math.ceil(tt));const ut=Math.max(xb(L),xb(K));Q=Math.pow(10,Pt(d)?ut:d),K=Math.round(K*Q)/Q,X=Math.round(X*Q)/Q;let it=0;for(z&&(b&&K!==u?(e.push({value:u}),K<u&&it++,Kl(Math.round((K+it*L)*Q)/Q,u,_v(u,q,n))&&it++):K<u&&it++);it<tt;++it){const st=Math.round((K+it*L)*Q)/Q;if(B&&st>h)break;e.push({value:st})}return B&&b&&X!==h?e.length&&Kl(e[e.length-1].value,h,_v(h,q,n))?e[e.length-1].value=h:e.push({value:h}):(!B||X===h)&&e.push({value:X}),e}function _v(n,t,{horizontal:e,minRotation:s}){const l=Xn(s),r=(e?Math.sin(l):Math.cos(l))||.001,u=.75*t*(""+n).length;return Math.min(t/r,u)}class S2 extends Ma{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Pt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:l,max:r}=this;const u=d=>l=e?l:d,h=d=>r=s?r:d;if(t){const d=ba(l),g=ba(r);d<0&&g<0?h(0):d>0&&g>0&&u(0)}if(l===r){let d=r===0?1:Math.abs(r*.05);h(r+d),t||u(l-d)}this.min=l,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,l;return s?(l=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),e=e||11),e&&(l=Math.min(e,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,u=v2(l,r);return t.bounds==="ticks"&&nD(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const l=(s-e)/Math.max(t.length-1,1)/2;e-=l,s+=l}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return cg(t,this.chart.options.locale,this.options.ticks.format)}}class md extends S2{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=rn(t)?t:0,this.max=rn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=Xn(this.options.ticks.minRotation),l=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}nt(md,"id","linear"),nt(md,"defaults",{ticks:{callback:rS.formatters.numeric}});const Kc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ie=Object.keys(Kc);function yv(n,t){return n-t}function bv(n,t){if(Pt(t))return null;const e=n._adapter,{parser:s,round:l,isoWeekday:r}=n._parseOpts;let u=t;return typeof s=="function"&&(u=s(u)),rn(u)||(u=typeof s=="string"?e.parse(u,s):e.parse(u)),u===null?null:(l&&(u=l==="week"&&(go(r)||r===!0)?e.startOf(u,"isoWeek",r):e.startOf(u,l)),+u)}function vv(n,t,e,s){const l=Ie.length;for(let r=Ie.indexOf(n);r<l-1;++r){const u=Kc[Ie[r]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=s)return Ie[r]}return Ie[l-1]}function x2(n,t,e,s,l){for(let r=Ie.length-1;r>=Ie.indexOf(e);r--){const u=Ie[r];if(Kc[u].common&&n._adapter.diff(l,s,u)>=t-1)return u}return Ie[e?Ie.indexOf(e):0]}function E2(n){for(let t=Ie.indexOf(n)+1,e=Ie.length;t<e;++t)if(Kc[Ie[t]].common)return Ie[t]}function Sv(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:l}=lg(e,t),r=e[s]>=t?e[s]:e[l];n[r]=!0}}function T2(n,t,e,s){const l=n._adapter,r=+l.startOf(t[0].value,s),u=t[t.length-1].value;let h,d;for(h=r;h<=u;h=+l.add(h,1,s))d=e[h],d>=0&&(t[d].major=!0);return t}function xv(n,t,e){const s=[],l={},r=t.length;let u,h;for(u=0;u<r;++u)h=t[u],l[h]=u,s.push({value:h,major:!1});return r===0||!e?s:T2(n,s,l,e)}class kc extends Ma{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),l=this._adapter=new RO._date(t.adapters.date);l.init(e),Ql(s.displayFormats,l.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:bv(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:l,max:r,minDefined:u,maxDefined:h}=this.getUserBounds();function d(g){!u&&!isNaN(g.min)&&(l=Math.min(l,g.min)),!h&&!isNaN(g.max)&&(r=Math.max(r,g.max))}(!u||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=rn(l)&&!isNaN(l)?l:+e.startOf(Date.now(),s),r=rn(r)&&!isNaN(r)?r:+e.endOf(Date.now(),s)+1,this.min=Math.min(l,r-1),this.max=Math.max(l+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,l=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const r=this.min,u=this.max,h=oD(l,r,u);return this._unit=e.unit||(s.autoSkip?vv(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):x2(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:E2(this._unit),this.initOffsets(l),t.reverse&&h.reverse(),xv(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,l,r;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?e=1-l:e=(this.getDecimalForValue(t[1])-l)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=we(e,0,u),s=we(s,0,u),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,l=this.options,r=l.time,u=r.unit||vv(r.minUnit,e,s,this._getLabelCapacity(e)),h=xt(l.ticks.stepSize,1),d=u==="week"?r.isoWeekday:!1,g=go(d)||d===!0,m={};let _=e,b,S;if(g&&(_=+t.startOf(_,"isoWeek",d)),_=+t.startOf(_,g?"day":u),t.diff(s,e,u)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+u);const x=l.ticks.source==="data"&&this.getDataTimestamps();for(b=_,S=0;b<s;b=+t.add(b,h,u),S++)Sv(m,b,x);return(b===s||l.bounds==="ticks"||S===1)&&Sv(m,b,x),Object.keys(m).sort(yv).map(C=>+C)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const l=this.options.time.displayFormats,r=this._unit,u=e||l[r];return this._adapter.format(t,u)}_tickFormatFunction(t,e,s,l){const r=this.options,u=r.ticks.callback;if(u)return Vt(u,[t,e,s],this);const h=r.time.displayFormats,d=this._unit,g=this._majorUnit,m=d&&h[d],_=g&&h[g],b=s[e],S=g&&_&&b&&b.major;return this._adapter.format(t,l||(S?_:m))}generateTickLabels(t){let e,s,l;for(e=0,s=t.length;e<s;++e)l=t[e],l.label=this._tickFormatFunction(l.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,l=Xn(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(l),u=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:s*r+h*u,h:s*u+h*r}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,l=s[e.unit]||s.millisecond,r=this._tickFormatFunction(t,0,xv(this,[t],this._majorUnit),l),u=this._getLabelSize(r),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(e=0,s=l.length;e<s;++e)t=t.concat(l[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const l=this.getLabels();for(e=0,s=l.length;e<s;++e)t.push(bv(this,l[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return cD(t.sort(yv))}}nt(kc,"id","time"),nt(kc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function nc(n,t,e){let s=0,l=n.length-1,r,u,h,d;e?(t>=n[s].pos&&t<=n[l].pos&&({lo:s,hi:l}=os(n,"pos",t)),{pos:r,time:h}=n[s],{pos:u,time:d}=n[l]):(t>=n[s].time&&t<=n[l].time&&({lo:s,hi:l}=os(n,"time",t)),{time:r,pos:h}=n[s],{time:u,pos:d}=n[l]);const g=u-r;return g?h+(d-h)*(t-r)/g:h}class Ev extends kc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=nc(e,this.min),this._tableRange=nc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,l=[],r=[];let u,h,d,g,m;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=s&&l.push(g);if(l.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(u=0,h=l.length;u<h;++u)m=l[u+1],d=l[u-1],g=l[u],Math.round((m+d)/2)!==g&&r.push({time:g,pos:u/(h-1)});return r}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((l,r)=>l-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(nc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return nc(this._table,s*this._tableRange+this._minPos,!0)}}nt(Ev,"id","timeseries"),nt(Ev,"defaults",kc.defaults);const zS="label";function Tv(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function C2(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function LS(n,t){n.labels=t}function IS(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zS;const s=[];n.datasets=t.map(l=>{const r=n.datasets.find(u=>u[e]===l[e]);return!r||!l.data||s.includes(r)?{...l}:(s.push(r),Object.assign(r,l),r)})}function A2(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zS;const e={labels:[],datasets:[]};return LS(e,n.labels),IS(e,n.datasets,t),e}function M2(n,t){const{height:e=150,width:s=300,redraw:l=!1,datasetIdKey:r,type:u,data:h,options:d,plugins:g=[],fallbackContent:m,updateMode:_,...b}=n,S=Wt.useRef(null),x=Wt.useRef(null),C=()=>{S.current&&(x.current=new Qc(S.current,{type:u,data:A2(h,r),options:d&&{...d},plugins:g}),Tv(t,x.current))},A=()=>{Tv(t,null),x.current&&(x.current.destroy(),x.current=null)};return Wt.useEffect(()=>{!l&&x.current&&d&&C2(x.current,d)},[l,d]),Wt.useEffect(()=>{!l&&x.current&&LS(x.current.config.data,h.labels)},[l,h.labels]),Wt.useEffect(()=>{!l&&x.current&&h.datasets&&IS(x.current.config.data,h.datasets,r)},[l,h.datasets]),Wt.useEffect(()=>{x.current&&(l?(A(),setTimeout(C)):x.current.update(_))},[l,d,h.labels,h.datasets,_]),Wt.useEffect(()=>{x.current&&(A(),setTimeout(C))},[u]),Wt.useEffect(()=>(C(),()=>A()),[]),Av.createElement("canvas",{ref:S,role:"img",height:e,width:s,...b},m)}const w2=Wt.forwardRef(M2);function HS(n,t){return Qc.register(t),Wt.forwardRef((e,s)=>Av.createElement(w2,{...e,ref:s,type:n}))}const D2=HS("line",sc),Cv=HS("pie",ud);Qc.register(pd,md,oc,Vl,r2,m2,l2,Pl);function O2(){const[n,t]=Wt.useState(""),[e,s]=Wt.useState(""),[l,r]=Wt.useState(0),[u,h]=Wt.useState([]),[d,g]=Wt.useState(()=>{const Y=new Date;return`${Y.getFullYear()}-${String(Y.getMonth()+1).padStart(2,"0")}`}),[m,_]=Wt.useState(""),[b,S]=Wt.useState(d),[x,C]=Wt.useState(""),[A,z]=Wt.useState(0),[B,P]=Wt.useState(null);Wt.useEffect(()=>{const Y=Rl(Nl,"transactions/"+d);return cw(Y,E=>{const I=E.val()||{},W=Object.entries(I).map(([Z,ct])=>({key:Z,...ct}));h(W);const F=W.reduce((Z,ct)=>Z+(ct.type==="add"?ct.amount:-ct.amount),0);if(r(F),d!==b&&(_(""),C(""),z(0),S(d)),m&&!isNaN(m)){const Z=parseFloat(m),ct=Math.min(Math.round(F/Z*100),100);z(ct),C(F>=Z?"🎉 恭喜你達成本月儲蓄目標！":`已達成 ${ct}%`)}})},[d,m,b]);const q=Y=>{if(!n||isNaN(n))return;const E=parseFloat(n),I=new Date,W={amount:E,type:Y,time:I.toLocaleTimeString(),note:e,id:I.getTime()},F=Rl(Nl,"transactions/"+d);lw(F,W),t(""),s("")},L=()=>{if(window.confirm("確定要清除所有紀錄嗎？")){const Y=Rl(Nl,"transactions/"+d);db(Y)}},Q=Y=>{const E=Rl(Nl,"transactions/"+d+"/"+Y);db(E)},K=()=>{const{key:Y,amount:E,note:I,type:W}=B,F=Rl(Nl,"transactions/"+d+"/"+Y);ow(F,{amount:parseFloat(E),note:I,type:W}),P(null)},X={};u.forEach(Y=>{const E=new Date(Y.id).getDate();X[E]=(X[E]||0)+(Y.type==="add"?Y.amount:-Y.amount)});const tt={labels:Array.from({length:31},(Y,E)=>E+1),datasets:[{label:`${d} 每日變化`,data:Array.from({length:31},(Y,E)=>X[E+1]||0),borderColor:"#4fc3f7",backgroundColor:"#0288d1",tension:.3,pointRadius:4,pointHoverRadius:6}]},ut={},it={};u.forEach(Y=>{const E=Y.type==="add"?ut:it,I=Y.note||"未分類";E[I]=(E[I]||0)+Y.amount});const st={labels:Object.keys(ut),datasets:[{data:Object.values(ut),backgroundColor:["#81c784","#4caf50","#2e7d32","#66bb6a","#a5d6a7"]}]},Lt={labels:Object.keys(it),datasets:[{data:Object.values(it),backgroundColor:["#ef5350","#e53935","#d32f2f","#f44336","#ffcdd2"]}]},Yt={plugins:{tooltip:{callbacks:{label:Y=>{const E=Y.raw,I=Y.label,W=Y.dataset.data.reduce((Z,ct)=>Z+ct,0),F=(E/W*100).toFixed(1);return`${I}: ${E} 元 (${F}%)`}}}}};let at="",N="#444";if(u.length>0){let Y=0,E=0;const I={};u.forEach(F=>{if(F.type==="add")Y+=F.amount;else{E+=F.amount;const Z=F.note||"未分類";I[Z]=(I[Z]||0)+F.amount}});const W=Object.entries(I).sort((F,Z)=>Z[1]-F[1])[0];Y>E?(at="本月收入高於支出，繼續保持好習慣！",N="#2e7d32"):E>Y?(at="本月支出已超過收入，建議控制花費！",N="#b71c1c"):at="收支平衡，本月維持不錯～",W&&(at+=` 支出最多是「${W[0]}」。`)}const V={width:"90%",maxWidth:"360px",padding:"10px",marginBottom:"10px",borderRadius:"6px",border:"none",backgroundColor:"#2c2c2c",color:"white",fontSize:"16px",textAlign:"left",display:"block",marginLeft:"auto",marginRight:"auto"},$={padding:"10px 16px",margin:"5px",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer"};return dt.jsx("div",{style:{backgroundColor:"#121212",color:"#fff",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:"40px"},children:dt.jsxs("div",{style:{backgroundColor:"#1e1e1e",padding:"30px",borderRadius:"10px",boxShadow:"0 0 15px rgba(0, 0, 0, 0.3)",width:"100%",maxWidth:"450px"},children:[dt.jsx("h2",{style:{textAlign:"center"},children:"智慧記帳"}),dt.jsxs("h3",{style:{textAlign:"center"},children:["💰 總金額：",dt.jsxs("span",{style:{color:"#00e676",fontSize:"1.2em"},children:[l," 元"]})]}),dt.jsx("input",{type:"month",value:d,onChange:Y=>g(Y.target.value),style:V}),dt.jsx("input",{type:"number",placeholder:"輸入金額",value:n,onChange:Y=>t(Y.target.value),style:V}),dt.jsx("input",{type:"text",placeholder:"輸入明細（例如 早餐）",value:e,onChange:Y=>s(Y.target.value),style:V}),dt.jsx("input",{type:"number",placeholder:"輸入本月儲蓄目標",value:m,onChange:Y=>_(Y.target.value),style:V}),x&&dt.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[dt.jsx("p",{style:{color:"#ffd54f"},children:x}),dt.jsx("div",{style:{width:"80%",height:"10px",backgroundColor:"#444",borderRadius:"5px",margin:"0 auto"},children:dt.jsx("div",{style:{width:`${A}%`,height:"100%",backgroundColor:"#00e676",borderRadius:"5px",transition:"width 0.5s ease"}})})]}),dt.jsxs("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",marginBottom:"10px"},children:[dt.jsx("button",{onClick:()=>q("add"),style:{...$,backgroundColor:"#388e3c",color:"white"},children:"➕ 存入"}),dt.jsx("button",{onClick:()=>q("subtract"),style:{...$,backgroundColor:"#d32f2f",color:"white"},children:"➖ 支出"})]}),dt.jsx("button",{onClick:L,style:{...$,backgroundColor:"#555",color:"white",width:"100%",marginBottom:"20px"},children:"清除所有紀錄"}),dt.jsx("ul",{style:{listStyle:"none",padding:0,maxHeight:"200px",overflowY:"auto"},children:[...u].reverse().map(Y=>dt.jsxs("li",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"#2e2e2e",borderLeft:`5px solid ${Y.type==="add"?"#81c784":"#ef5350"}`},children:[Y.type==="add"?"➕":"➖"," ",Y.amount," 元 (",Y.time,")",dt.jsx("br",{}),dt.jsx("span",{style:{fontSize:"0.9em",color:"#ccc"},children:Y.note||"未分類"}),dt.jsx("br",{}),dt.jsx("button",{onClick:()=>Q(Y.key),style:{...$,backgroundColor:"#666",margin:"5px 5px 0 0"},children:"🗑️"}),dt.jsx("button",{onClick:()=>P({...Y}),style:{...$,backgroundColor:"#2196f3"},children:"✏️"})]},Y.key))}),B&&dt.jsxs("div",{style:{backgroundColor:"#333",padding:"20px",marginTop:"10px",borderRadius:"8px"},children:[dt.jsx("h4",{children:"編輯紀錄"}),dt.jsx("input",{type:"number",value:B.amount,onChange:Y=>P({...B,amount:Y.target.value}),style:V}),dt.jsx("input",{type:"text",value:B.note,onChange:Y=>P({...B,note:Y.target.value}),style:V}),dt.jsxs("select",{value:B.type,onChange:Y=>P({...B,type:Y.target.value}),style:V,children:[dt.jsx("option",{value:"add",children:"存入"}),dt.jsx("option",{value:"subtract",children:"支出"})]}),dt.jsxs("div",{style:{display:"flex",justifyContent:"center"},children:[dt.jsx("button",{onClick:K,style:{...$,backgroundColor:"#4caf50",color:"#fff"},children:"儲存"}),dt.jsx("button",{onClick:()=>P(null),style:{...$,backgroundColor:"#888",color:"#fff"},children:"取消"})]})]}),at&&dt.jsxs("div",{style:{backgroundColor:N,padding:"15px",borderRadius:"8px",margin:"20px 0",color:"#fff",fontSize:"14px"},children:[dt.jsx("strong",{children:"【系統建議】"}),dt.jsx("br",{}),at]}),dt.jsx("h3",{style:{textAlign:"center"},children:"📈 每日變化圖"}),dt.jsx(D2,{data:tt}),dt.jsx("h3",{style:{textAlign:"center"},children:"📊 分類統計圖 - 存入"}),dt.jsx(Cv,{data:st,options:Yt}),dt.jsx("h3",{style:{textAlign:"center"},children:"📊 分類統計圖 - 支出"}),dt.jsx(Cv,{data:Lt,options:Yt}),dt.jsx("p",{style:{textAlign:"center",marginTop:"30px",color:"#aaa",fontSize:"0.85em"},children:"本應用支援 Firebase 雲端同步，可跨裝置使用。"})]})})}yE.createRoot(document.getElementById("root")).render(dt.jsx(Wt.StrictMode,{children:dt.jsx(O2,{})}));
