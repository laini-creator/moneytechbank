var lE=Object.defineProperty;var oE=(n,t,e)=>t in n?lE(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var it=(n,t,e)=>oE(n,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=e(l);fetch(l.href,r)}})();function rE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var df={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hy;function cE(){if(hy)return Ol;hy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,l,r){var u=null;if(r!==void 0&&(u=""+r),l.key!==void 0&&(u=""+l.key),"key"in l){r={};for(var h in l)h!=="key"&&(r[h]=l[h])}else r=l;return l=r.ref,{$$typeof:n,type:s,key:u,ref:l!==void 0?l:null,props:r}}return Ol.Fragment=t,Ol.jsx=e,Ol.jsxs=e,Ol}var fy;function uE(){return fy||(fy=1,df.exports=cE()),df.exports}var pt=uE(),gf={exports:{}},mt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dy;function hE(){if(dy)return mt;dy=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function b(C){return C===null||typeof C!="object"?null:(C=_&&C[_]||C["@@iterator"],typeof C=="function"?C:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,T={};function A(C,j,Q){this.props=C,this.context=j,this.refs=T,this.updater=Q||S}A.prototype.isReactComponent={},A.prototype.setState=function(C,j){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,j,"setState")},A.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function z(){}z.prototype=A.prototype;function U(C,j,Q){this.props=C,this.context=j,this.refs=T,this.updater=Q||S}var P=U.prototype=new z;P.constructor=U,x(P,A.prototype),P.isPureReactComponent=!0;var Y=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},q=Object.prototype.hasOwnProperty;function X(C,j,Q,W,tt,gt){return Q=gt.ref,{$$typeof:n,type:C,key:j,ref:Q!==void 0?Q:null,props:gt}}function G(C,j){return X(C.type,j,void 0,void 0,void 0,C.props)}function J(C){return typeof C=="object"&&C!==null&&C.$$typeof===n}function ht(C){var j={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(Q){return j[Q]})}var at=/\/+/g;function st(C,j){return typeof C=="object"&&C!==null&&C.key!=null?ht(""+C.key):j.toString(36)}function Bt(){}function Gt(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Bt,Bt):(C.status="pending",C.then(function(j){C.status==="pending"&&(C.status="fulfilled",C.value=j)},function(j){C.status==="pending"&&(C.status="rejected",C.reason=j)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function ft(C,j,Q,W,tt){var gt=typeof C;(gt==="undefined"||gt==="boolean")&&(C=null);var et=!1;if(C===null)et=!0;else switch(gt){case"bigint":case"string":case"number":et=!0;break;case"object":switch(C.$$typeof){case n:case t:et=!0;break;case m:return et=C._init,ft(et(C._payload),j,Q,W,tt)}}if(et)return tt=tt(C),et=W===""?"."+st(C,0):W,Y(tt)?(Q="",et!=null&&(Q=et.replace(at,"$&/")+"/"),ft(tt,j,Q,"",function(ee){return ee})):tt!=null&&(J(tt)&&(tt=G(tt,Q+(tt.key==null||C&&C.key===tt.key?"":(""+tt.key).replace(at,"$&/")+"/")+et)),j.push(tt)),1;et=0;var K=W===""?".":W+":";if(Y(C))for(var lt=0;lt<C.length;lt++)W=C[lt],gt=K+st(W,lt),et+=ft(W,j,Q,gt,tt);else if(lt=b(C),typeof lt=="function")for(C=lt.call(C),lt=0;!(W=C.next()).done;)W=W.value,gt=K+st(W,lt++),et+=ft(W,j,Q,gt,tt);else if(gt==="object"){if(typeof C.then=="function")return ft(Gt(C),j,Q,W,tt);throw j=String(C),Error("Objects are not valid as a React child (found: "+(j==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":j)+"). If you meant to render a collection of children, use an array instead.")}return et}function k(C,j,Q){if(C==null)return C;var W=[],tt=0;return ft(C,W,"","",function(gt){return j.call(Q,gt,tt++)}),W}function V(C){if(C._status===-1){var j=C._result;j=j(),j.then(function(Q){(C._status===0||C._status===-1)&&(C._status=1,C._result=Q)},function(Q){(C._status===0||C._status===-1)&&(C._status=2,C._result=Q)}),C._status===-1&&(C._status=0,C._result=j)}if(C._status===1)return C._result.default;throw C._result}var Z=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var j=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(j))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function dt(){}return mt.Children={map:k,forEach:function(C,j,Q){k(C,function(){j.apply(this,arguments)},Q)},count:function(C){var j=0;return k(C,function(){j++}),j},toArray:function(C){return k(C,function(j){return j})||[]},only:function(C){if(!J(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},mt.Component=A,mt.Fragment=e,mt.Profiler=l,mt.PureComponent=U,mt.StrictMode=s,mt.Suspense=d,mt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,mt.__COMPILER_RUNTIME={__proto__:null,c:function(C){return L.H.useMemoCache(C)}},mt.cache=function(C){return function(){return C.apply(null,arguments)}},mt.cloneElement=function(C,j,Q){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var W=x({},C.props),tt=C.key,gt=void 0;if(j!=null)for(et in j.ref!==void 0&&(gt=void 0),j.key!==void 0&&(tt=""+j.key),j)!q.call(j,et)||et==="key"||et==="__self"||et==="__source"||et==="ref"&&j.ref===void 0||(W[et]=j[et]);var et=arguments.length-2;if(et===1)W.children=Q;else if(1<et){for(var K=Array(et),lt=0;lt<et;lt++)K[lt]=arguments[lt+2];W.children=K}return X(C.type,tt,void 0,void 0,gt,W)},mt.createContext=function(C){return C={$$typeof:u,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:r,_context:C},C},mt.createElement=function(C,j,Q){var W,tt={},gt=null;if(j!=null)for(W in j.key!==void 0&&(gt=""+j.key),j)q.call(j,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(tt[W]=j[W]);var et=arguments.length-2;if(et===1)tt.children=Q;else if(1<et){for(var K=Array(et),lt=0;lt<et;lt++)K[lt]=arguments[lt+2];tt.children=K}if(C&&C.defaultProps)for(W in et=C.defaultProps,et)tt[W]===void 0&&(tt[W]=et[W]);return X(C,gt,void 0,void 0,null,tt)},mt.createRef=function(){return{current:null}},mt.forwardRef=function(C){return{$$typeof:h,render:C}},mt.isValidElement=J,mt.lazy=function(C){return{$$typeof:m,_payload:{_status:-1,_result:C},_init:V}},mt.memo=function(C,j){return{$$typeof:g,type:C,compare:j===void 0?null:j}},mt.startTransition=function(C){var j=L.T,Q={};L.T=Q;try{var W=C(),tt=L.S;tt!==null&&tt(Q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(dt,Z)}catch(gt){Z(gt)}finally{L.T=j}},mt.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},mt.use=function(C){return L.H.use(C)},mt.useActionState=function(C,j,Q){return L.H.useActionState(C,j,Q)},mt.useCallback=function(C,j){return L.H.useCallback(C,j)},mt.useContext=function(C){return L.H.useContext(C)},mt.useDebugValue=function(){},mt.useDeferredValue=function(C,j){return L.H.useDeferredValue(C,j)},mt.useEffect=function(C,j,Q){var W=L.H;if(typeof Q=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return W.useEffect(C,j)},mt.useId=function(){return L.H.useId()},mt.useImperativeHandle=function(C,j,Q){return L.H.useImperativeHandle(C,j,Q)},mt.useInsertionEffect=function(C,j){return L.H.useInsertionEffect(C,j)},mt.useLayoutEffect=function(C,j){return L.H.useLayoutEffect(C,j)},mt.useMemo=function(C,j){return L.H.useMemo(C,j)},mt.useOptimistic=function(C,j){return L.H.useOptimistic(C,j)},mt.useReducer=function(C,j,Q){return L.H.useReducer(C,j,Q)},mt.useRef=function(C){return L.H.useRef(C)},mt.useState=function(C){return L.H.useState(C)},mt.useSyncExternalStore=function(C,j,Q){return L.H.useSyncExternalStore(C,j,Q)},mt.useTransition=function(){return L.H.useTransition()},mt.version="19.1.0",mt}var gy;function _d(){return gy||(gy=1,gf.exports=hE()),gf.exports}var Ut=_d();const Av=rE(Ut);var pf={exports:{}},Rl={},mf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var py;function fE(){return py||(py=1,function(n){function t(k,V){var Z=k.length;k.push(V);t:for(;0<Z;){var dt=Z-1>>>1,C=k[dt];if(0<l(C,V))k[dt]=V,k[Z]=C,Z=dt;else break t}}function e(k){return k.length===0?null:k[0]}function s(k){if(k.length===0)return null;var V=k[0],Z=k.pop();if(Z!==V){k[0]=Z;t:for(var dt=0,C=k.length,j=C>>>1;dt<j;){var Q=2*(dt+1)-1,W=k[Q],tt=Q+1,gt=k[tt];if(0>l(W,Z))tt<C&&0>l(gt,W)?(k[dt]=gt,k[tt]=Z,dt=tt):(k[dt]=W,k[Q]=Z,dt=Q);else if(tt<C&&0>l(gt,Z))k[dt]=gt,k[tt]=Z,dt=tt;else break t}}return V}function l(k,V){var Z=k.sortIndex-V.sortIndex;return Z!==0?Z:k.id-V.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;n.unstable_now=function(){return r.now()}}else{var u=Date,h=u.now();n.unstable_now=function(){return u.now()-h}}var d=[],g=[],m=1,_=null,b=3,S=!1,x=!1,T=!1,A=!1,z=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function Y(k){for(var V=e(g);V!==null;){if(V.callback===null)s(g);else if(V.startTime<=k)s(g),V.sortIndex=V.expirationTime,t(d,V);else break;V=e(g)}}function L(k){if(T=!1,Y(k),!x)if(e(d)!==null)x=!0,q||(q=!0,st());else{var V=e(g);V!==null&&ft(L,V.startTime-k)}}var q=!1,X=-1,G=5,J=-1;function ht(){return A?!0:!(n.unstable_now()-J<G)}function at(){if(A=!1,q){var k=n.unstable_now();J=k;var V=!0;try{t:{x=!1,T&&(T=!1,U(X),X=-1),S=!0;var Z=b;try{e:{for(Y(k),_=e(d);_!==null&&!(_.expirationTime>k&&ht());){var dt=_.callback;if(typeof dt=="function"){_.callback=null,b=_.priorityLevel;var C=dt(_.expirationTime<=k);if(k=n.unstable_now(),typeof C=="function"){_.callback=C,Y(k),V=!0;break e}_===e(d)&&s(d),Y(k)}else s(d);_=e(d)}if(_!==null)V=!0;else{var j=e(g);j!==null&&ft(L,j.startTime-k),V=!1}}break t}finally{_=null,b=Z,S=!1}V=void 0}}finally{V?st():q=!1}}}var st;if(typeof P=="function")st=function(){P(at)};else if(typeof MessageChannel<"u"){var Bt=new MessageChannel,Gt=Bt.port2;Bt.port1.onmessage=at,st=function(){Gt.postMessage(null)}}else st=function(){z(at,0)};function ft(k,V){X=z(function(){k(n.unstable_now())},V)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(k){k.callback=null},n.unstable_forceFrameRate=function(k){0>k||125<k?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<k?Math.floor(1e3/k):5},n.unstable_getCurrentPriorityLevel=function(){return b},n.unstable_next=function(k){switch(b){case 1:case 2:case 3:var V=3;break;default:V=b}var Z=b;b=V;try{return k()}finally{b=Z}},n.unstable_requestPaint=function(){A=!0},n.unstable_runWithPriority=function(k,V){switch(k){case 1:case 2:case 3:case 4:case 5:break;default:k=3}var Z=b;b=k;try{return V()}finally{b=Z}},n.unstable_scheduleCallback=function(k,V,Z){var dt=n.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?dt+Z:dt):Z=dt,k){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=Z+C,k={id:m++,callback:V,priorityLevel:k,startTime:Z,expirationTime:C,sortIndex:-1},Z>dt?(k.sortIndex=Z,t(g,k),e(d)===null&&k===e(g)&&(T?(U(X),X=-1):T=!0,ft(L,Z-dt))):(k.sortIndex=C,t(d,k),x||S||(x=!0,q||(q=!0,st()))),k},n.unstable_shouldYield=ht,n.unstable_wrapCallback=function(k){var V=b;return function(){var Z=b;b=V;try{return k.apply(this,arguments)}finally{b=Z}}}}(_f)),_f}var my;function dE(){return my||(my=1,mf.exports=fE()),mf.exports}var yf={exports:{}},Me={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y;function gE(){if(_y)return Me;_y=1;var n=_d();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function r(d,g,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:d,containerInfo:g,implementation:m}}var u=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return Me.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Me.createPortal=function(d,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return r(d,g,null,m)},Me.flushSync=function(d){var g=u.T,m=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=g,s.p=m,s.d.f()}},Me.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},Me.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},Me.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:S}):m==="script"&&s.d.X(d,{crossOrigin:_,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},Me.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},Me.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin);s.d.L(d,m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},Me.preloadModule=function(d,g){if(typeof d=="string")if(g){var m=h(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},Me.requestFormReset=function(d){s.d.r(d)},Me.unstable_batchedUpdates=function(d,g){return d(g)},Me.useFormState=function(d,g,m){return u.H.useFormState(d,g,m)},Me.useFormStatus=function(){return u.H.useHostTransitionStatus()},Me.version="19.1.0",Me}var yy;function pE(){if(yy)return yf.exports;yy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),yf.exports=gE(),yf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var by;function mE(){if(by)return Rl;by=1;var n=dE(),t=_d(),e=pE();function s(i){var a="https://react.dev/errors/"+i;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+i+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function r(i){var a=i,o=i;if(i.alternate)for(;a.return;)a=a.return;else{i=a;do a=i,(a.flags&4098)!==0&&(o=a.return),i=a.return;while(i)}return a.tag===3?o:null}function u(i){if(i.tag===13){var a=i.memoizedState;if(a===null&&(i=i.alternate,i!==null&&(a=i.memoizedState)),a!==null)return a.dehydrated}return null}function h(i){if(r(i)!==i)throw Error(s(188))}function d(i){var a=i.alternate;if(!a){if(a=r(i),a===null)throw Error(s(188));return a!==i?null:i}for(var o=i,c=a;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return h(f),i;if(p===c)return h(f),a;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var y=!1,v=f.child;v;){if(v===o){y=!0,o=f,c=p;break}if(v===c){y=!0,c=f,o=p;break}v=v.sibling}if(!y){for(v=p.child;v;){if(v===o){y=!0,o=p,c=f;break}if(v===c){y=!0,c=p,o=f;break}v=v.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?i:a}function g(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i;for(i=i.child;i!==null;){if(a=g(i),a!==null)return a;i=i.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),P=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),q=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ht=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function st(i){return i===null||typeof i!="object"?null:(i=at&&i[at]||i["@@iterator"],typeof i=="function"?i:null)}var Bt=Symbol.for("react.client.reference");function Gt(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===Bt?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case x:return"Fragment";case A:return"Profiler";case T:return"StrictMode";case L:return"Suspense";case q:return"SuspenseList";case J:return"Activity"}if(typeof i=="object")switch(i.$$typeof){case S:return"Portal";case P:return(i.displayName||"Context")+".Provider";case U:return(i._context.displayName||"Context")+".Consumer";case Y:var a=i.render;return i=i.displayName,i||(i=a.displayName||a.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case X:return a=i.displayName||null,a!==null?a:Gt(i.type)||"Memo";case G:a=i._payload,i=i._init;try{return Gt(i(a))}catch{}}return null}var ft=Array.isArray,k=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,V=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},dt=[],C=-1;function j(i){return{current:i}}function Q(i){0>C||(i.current=dt[C],dt[C]=null,C--)}function W(i,a){C++,dt[C]=i.current,i.current=a}var tt=j(null),gt=j(null),et=j(null),K=j(null);function lt(i,a){switch(W(et,a),W(gt,i),W(tt,null),a.nodeType){case 9:case 11:i=(i=a.documentElement)&&(i=i.namespaceURI)?U_(i):0;break;default:if(i=a.tagName,a=a.namespaceURI)a=U_(a),i=j_(a,i);else switch(i){case"svg":i=1;break;case"math":i=2;break;default:i=0}}Q(tt),W(tt,i)}function ee(){Q(tt),Q(gt),Q(et)}function ke(i){i.memoizedState!==null&&W(K,i);var a=tt.current,o=j_(a,i.type);a!==o&&(W(gt,i),W(tt,o))}function ze(i){gt.current===i&&(Q(tt),Q(gt)),K.current===i&&(Q(K),Cl._currentValue=Z)}var Fe=Object.prototype.hasOwnProperty,ae=n.unstable_scheduleCallback,ii=n.unstable_cancelCallback,HS=n.unstable_shouldYield,US=n.unstable_requestPaint,xn=n.unstable_now,jS=n.unstable_getCurrentPriorityLevel,bg=n.unstable_ImmediatePriority,vg=n.unstable_UserBlockingPriority,Ro=n.unstable_NormalPriority,PS=n.unstable_LowPriority,Sg=n.unstable_IdlePriority,VS=n.log,YS=n.unstable_setDisableYieldValue,ka=null,qe=null;function si(i){if(typeof VS=="function"&&YS(i),qe&&typeof qe.setStrictMode=="function")try{qe.setStrictMode(ka,i)}catch{}}var Ge=Math.clz32?Math.clz32:GS,FS=Math.log,qS=Math.LN2;function GS(i){return i>>>=0,i===0?32:31-(FS(i)/qS|0)|0}var No=256,ko=4194304;function ji(i){var a=i&42;if(a!==0)return a;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function zo(i,a,o){var c=i.pendingLanes;if(c===0)return 0;var f=0,p=i.suspendedLanes,y=i.pingedLanes;i=i.warmLanes;var v=c&134217727;return v!==0?(c=v&~p,c!==0?f=ji(c):(y&=v,y!==0?f=ji(y):o||(o=v&~i,o!==0&&(f=ji(o))))):(v=c&~p,v!==0?f=ji(v):y!==0?f=ji(y):o||(o=c&~i,o!==0&&(f=ji(o)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:f}function za(i,a){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&a)===0}function WS(i,a){switch(i){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xg(){var i=No;return No<<=1,(No&4194048)===0&&(No=256),i}function Eg(){var i=ko;return ko<<=1,(ko&62914560)===0&&(ko=4194304),i}function eu(i){for(var a=[],o=0;31>o;o++)a.push(i);return a}function La(i,a){i.pendingLanes|=a,a!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function XS(i,a,o,c,f,p){var y=i.pendingLanes;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=o,i.entangledLanes&=o,i.errorRecoveryDisabledLanes&=o,i.shellSuspendCounter=0;var v=i.entanglements,E=i.expirationTimes,O=i.hiddenUpdates;for(o=y&~o;0<o;){var I=31-Ge(o),H=1<<I;v[I]=0,E[I]=-1;var R=O[I];if(R!==null)for(O[I]=null,I=0;I<R.length;I++){var N=R[I];N!==null&&(N.lane&=-536870913)}o&=~H}c!==0&&Tg(i,c,0),p!==0&&f===0&&i.tag!==0&&(i.suspendedLanes|=p&~(y&~a))}function Tg(i,a,o){i.pendingLanes|=a,i.suspendedLanes&=~a;var c=31-Ge(a);i.entangledLanes|=a,i.entanglements[c]=i.entanglements[c]|1073741824|o&4194090}function Cg(i,a){var o=i.entangledLanes|=a;for(i=i.entanglements;o;){var c=31-Ge(o),f=1<<c;f&a|i[c]&a&&(i[c]|=a),o&=~f}}function nu(i){switch(i){case 2:i=1;break;case 8:i=4;break;case 32:i=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:i=128;break;case 268435456:i=134217728;break;default:i=0}return i}function iu(i){return i&=-i,2<i?8<i?(i&134217727)!==0?32:268435456:8:2}function Ag(){var i=V.p;return i!==0?i:(i=window.event,i===void 0?32:ay(i.type))}function QS(i,a){var o=V.p;try{return V.p=i,a()}finally{V.p=o}}var ai=Math.random().toString(36).slice(2),Ce="__reactFiber$"+ai,Le="__reactProps$"+ai,xs="__reactContainer$"+ai,su="__reactEvents$"+ai,KS="__reactListeners$"+ai,ZS="__reactHandles$"+ai,Mg="__reactResources$"+ai,Ia="__reactMarker$"+ai;function au(i){delete i[Ce],delete i[Le],delete i[su],delete i[KS],delete i[ZS]}function Es(i){var a=i[Ce];if(a)return a;for(var o=i.parentNode;o;){if(a=o[xs]||o[Ce]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(i=F_(i);i!==null;){if(o=i[Ce])return o;i=F_(i)}return a}i=o,o=i.parentNode}return null}function Ts(i){if(i=i[Ce]||i[xs]){var a=i.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return i}return null}function Ba(i){var a=i.tag;if(a===5||a===26||a===27||a===6)return i.stateNode;throw Error(s(33))}function Cs(i){var a=i[Mg];return a||(a=i[Mg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function he(i){i[Ia]=!0}var wg=new Set,Dg={};function Pi(i,a){As(i,a),As(i+"Capture",a)}function As(i,a){for(Dg[i]=a,i=0;i<a.length;i++)wg.add(a[i])}var $S=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Og={},Rg={};function JS(i){return Fe.call(Rg,i)?!0:Fe.call(Og,i)?!1:$S.test(i)?Rg[i]=!0:(Og[i]=!0,!1)}function Lo(i,a,o){if(JS(a))if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":i.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){i.removeAttribute(a);return}}i.setAttribute(a,""+o)}}function Io(i,a,o){if(o===null)i.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(a);return}i.setAttribute(a,""+o)}}function kn(i,a,o,c){if(c===null)i.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(o);return}i.setAttributeNS(a,o,""+c)}}var lu,Ng;function Ms(i){if(lu===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);lu=a&&a[1]||"",Ng=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+lu+i+Ng}var ou=!1;function ru(i,a){if(!i||ou)return"";ou=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var H=function(){throw Error()};if(Object.defineProperty(H.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(H,[])}catch(N){var R=N}Reflect.construct(i,[],H)}else{try{H.call()}catch(N){R=N}i.call(H.prototype)}}else{try{throw Error()}catch(N){R=N}(H=i())&&typeof H.catch=="function"&&H.catch(function(){})}}catch(N){if(N&&R&&typeof N.stack=="string")return[N.stack,R.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),y=p[0],v=p[1];if(y&&v){var E=y.split(`
`),O=v.split(`
`);for(f=c=0;c<E.length&&!E[c].includes("DetermineComponentFrameRoot");)c++;for(;f<O.length&&!O[f].includes("DetermineComponentFrameRoot");)f++;if(c===E.length||f===O.length)for(c=E.length-1,f=O.length-1;1<=c&&0<=f&&E[c]!==O[f];)f--;for(;1<=c&&0<=f;c--,f--)if(E[c]!==O[f]){if(c!==1||f!==1)do if(c--,f--,0>f||E[c]!==O[f]){var I=`
`+E[c].replace(" at new "," at ");return i.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",i.displayName)),I}while(1<=c&&0<=f);break}}}finally{ou=!1,Error.prepareStackTrace=o}return(o=i?i.displayName||i.name:"")?Ms(o):""}function tx(i){switch(i.tag){case 26:case 27:case 5:return Ms(i.type);case 16:return Ms("Lazy");case 13:return Ms("Suspense");case 19:return Ms("SuspenseList");case 0:case 15:return ru(i.type,!1);case 11:return ru(i.type.render,!1);case 1:return ru(i.type,!0);case 31:return Ms("Activity");default:return""}}function kg(i){try{var a="";do a+=tx(i),i=i.return;while(i);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function tn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function zg(i){var a=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function ex(i){var a=zg(i)?"checked":"value",o=Object.getOwnPropertyDescriptor(i.constructor.prototype,a),c=""+i[a];if(!i.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(i,a,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,p.call(this,y)}}),Object.defineProperty(i,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){i._valueTracker=null,delete i[a]}}}}function Bo(i){i._valueTracker||(i._valueTracker=ex(i))}function Lg(i){if(!i)return!1;var a=i._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return i&&(c=zg(i)?i.checked?"true":"false":i.value),i=c,i!==o?(a.setValue(i),!0):!1}function Ho(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var nx=/[\n"\\]/g;function en(i){return i.replace(nx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function cu(i,a,o,c,f,p,y,v){i.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?i.type=y:i.removeAttribute("type"),a!=null?y==="number"?(a===0&&i.value===""||i.value!=a)&&(i.value=""+tn(a)):i.value!==""+tn(a)&&(i.value=""+tn(a)):y!=="submit"&&y!=="reset"||i.removeAttribute("value"),a!=null?uu(i,y,tn(a)):o!=null?uu(i,y,tn(o)):c!=null&&i.removeAttribute("value"),f==null&&p!=null&&(i.defaultChecked=!!p),f!=null&&(i.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?i.name=""+tn(v):i.removeAttribute("name")}function Ig(i,a,o,c,f,p,y,v){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(i.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+tn(o):"",a=a!=null?""+tn(a):o,v||a===i.value||(i.value=a),i.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,i.checked=v?i.checked:!!c,i.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(i.name=y)}function uu(i,a,o){a==="number"&&Ho(i.ownerDocument)===i||i.defaultValue===""+o||(i.defaultValue=""+o)}function ws(i,a,o,c){if(i=i.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<i.length;o++)f=a.hasOwnProperty("$"+i[o].value),i[o].selected!==f&&(i[o].selected=f),f&&c&&(i[o].defaultSelected=!0)}else{for(o=""+tn(o),a=null,f=0;f<i.length;f++){if(i[f].value===o){i[f].selected=!0,c&&(i[f].defaultSelected=!0);return}a!==null||i[f].disabled||(a=i[f])}a!==null&&(a.selected=!0)}}function Bg(i,a,o){if(a!=null&&(a=""+tn(a),a!==i.value&&(i.value=a),o==null)){i.defaultValue!==a&&(i.defaultValue=a);return}i.defaultValue=o!=null?""+tn(o):""}function Hg(i,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(s(92));if(ft(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=tn(a),i.defaultValue=o,c=i.textContent,c===o&&c!==""&&c!==null&&(i.value=c)}function Ds(i,a){if(a){var o=i.firstChild;if(o&&o===i.lastChild&&o.nodeType===3){o.nodeValue=a;return}}i.textContent=a}var ix=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ug(i,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?i.setProperty(a,""):a==="float"?i.cssFloat="":i[a]="":c?i.setProperty(a,o):typeof o!="number"||o===0||ix.has(a)?a==="float"?i.cssFloat=o:i[a]=(""+o).trim():i[a]=o+"px"}function jg(i,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(i=i.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?i.setProperty(c,""):c==="float"?i.cssFloat="":i[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&o[f]!==c&&Ug(i,f,c)}else for(var p in a)a.hasOwnProperty(p)&&Ug(i,p,a[p])}function hu(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var sx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ax=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Uo(i){return ax.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var fu=null;function du(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Os=null,Rs=null;function Pg(i){var a=Ts(i);if(a&&(i=a.stateNode)){var o=i[Le]||null;t:switch(i=a.stateNode,a.type){case"input":if(cu(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=i;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+en(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==i&&c.form===i.form){var f=c[Le]||null;if(!f)throw Error(s(90));cu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===i.form&&Lg(c)}break t;case"textarea":Bg(i,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&ws(i,!!o.multiple,a,!1)}}}var gu=!1;function Vg(i,a,o){if(gu)return i(a,o);gu=!0;try{var c=i(a);return c}finally{if(gu=!1,(Os!==null||Rs!==null)&&(Tr(),Os&&(a=Os,i=Rs,Rs=Os=null,Pg(a),i)))for(a=0;a<i.length;a++)Pg(i[a])}}function Ha(i,a){var o=i.stateNode;if(o===null)return null;var c=o[Le]||null;if(c===null)return null;o=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(i=i.type,c=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!c;break t;default:i=!1}if(i)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pu=!1;if(zn)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){pu=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{pu=!1}var li=null,mu=null,jo=null;function Yg(){if(jo)return jo;var i,a=mu,o=a.length,c,f="value"in li?li.value:li.textContent,p=f.length;for(i=0;i<o&&a[i]===f[i];i++);var y=o-i;for(c=1;c<=y&&a[o-c]===f[p-c];c++);return jo=f.slice(i,1<c?1-c:void 0)}function Po(i){var a=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&a===13&&(i=13)):i=a,i===10&&(i=13),32<=i||i===13?i:0}function Vo(){return!0}function Fg(){return!1}function Ie(i){function a(o,c,f,p,y){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var v in i)i.hasOwnProperty(v)&&(o=i[v],this[v]=o?o(p):p[v]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?Vo:Fg,this.isPropagationStopped=Fg,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Vo)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Vo)},persist:function(){},isPersistent:Vo}),a}var Vi={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yo=Ie(Vi),ja=m({},Vi,{view:0,detail:0}),lx=Ie(ja),_u,yu,Pa,Fo=m({},ja,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:vu,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Pa&&(Pa&&i.type==="mousemove"?(_u=i.screenX-Pa.screenX,yu=i.screenY-Pa.screenY):yu=_u=0,Pa=i),_u)},movementY:function(i){return"movementY"in i?i.movementY:yu}}),qg=Ie(Fo),ox=m({},Fo,{dataTransfer:0}),rx=Ie(ox),cx=m({},ja,{relatedTarget:0}),bu=Ie(cx),ux=m({},Vi,{animationName:0,elapsedTime:0,pseudoElement:0}),hx=Ie(ux),fx=m({},Vi,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),dx=Ie(fx),gx=m({},Vi,{data:0}),Gg=Ie(gx),px={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},mx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_x={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yx(i){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(i):(i=_x[i])?!!a[i]:!1}function vu(){return yx}var bx=m({},ja,{key:function(i){if(i.key){var a=px[i.key]||i.key;if(a!=="Unidentified")return a}return i.type==="keypress"?(i=Po(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?mx[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:vu,charCode:function(i){return i.type==="keypress"?Po(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Po(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),vx=Ie(bx),Sx=m({},Fo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Wg=Ie(Sx),xx=m({},ja,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:vu}),Ex=Ie(xx),Tx=m({},Vi,{propertyName:0,elapsedTime:0,pseudoElement:0}),Cx=Ie(Tx),Ax=m({},Fo,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Mx=Ie(Ax),wx=m({},Vi,{newState:0,oldState:0}),Dx=Ie(wx),Ox=[9,13,27,32],Su=zn&&"CompositionEvent"in window,Va=null;zn&&"documentMode"in document&&(Va=document.documentMode);var Rx=zn&&"TextEvent"in window&&!Va,Xg=zn&&(!Su||Va&&8<Va&&11>=Va),Qg=" ",Kg=!1;function Zg(i,a){switch(i){case"keyup":return Ox.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function $g(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ns=!1;function Nx(i,a){switch(i){case"compositionend":return $g(a);case"keypress":return a.which!==32?null:(Kg=!0,Qg);case"textInput":return i=a.data,i===Qg&&Kg?null:i;default:return null}}function kx(i,a){if(Ns)return i==="compositionend"||!Su&&Zg(i,a)?(i=Yg(),jo=mu=li=null,Ns=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Xg&&a.locale!=="ko"?null:a.data;default:return null}}var zx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jg(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a==="input"?!!zx[i.type]:a==="textarea"}function tp(i,a,o,c){Os?Rs?Rs.push(c):Rs=[c]:Os=c,a=Or(a,"onChange"),0<a.length&&(o=new Yo("onChange","change",null,o,c),i.push({event:o,listeners:a}))}var Ya=null,Fa=null;function Lx(i){z_(i,0)}function qo(i){var a=Ba(i);if(Lg(a))return i}function ep(i,a){if(i==="change")return a}var np=!1;if(zn){var xu;if(zn){var Eu="oninput"in document;if(!Eu){var ip=document.createElement("div");ip.setAttribute("oninput","return;"),Eu=typeof ip.oninput=="function"}xu=Eu}else xu=!1;np=xu&&(!document.documentMode||9<document.documentMode)}function sp(){Ya&&(Ya.detachEvent("onpropertychange",ap),Fa=Ya=null)}function ap(i){if(i.propertyName==="value"&&qo(Fa)){var a=[];tp(a,Fa,i,du(i)),Vg(Lx,a)}}function Ix(i,a,o){i==="focusin"?(sp(),Ya=a,Fa=o,Ya.attachEvent("onpropertychange",ap)):i==="focusout"&&sp()}function Bx(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return qo(Fa)}function Hx(i,a){if(i==="click")return qo(a)}function Ux(i,a){if(i==="input"||i==="change")return qo(a)}function jx(i,a){return i===a&&(i!==0||1/i===1/a)||i!==i&&a!==a}var We=typeof Object.is=="function"?Object.is:jx;function qa(i,a){if(We(i,a))return!0;if(typeof i!="object"||i===null||typeof a!="object"||a===null)return!1;var o=Object.keys(i),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Fe.call(a,f)||!We(i[f],a[f]))return!1}return!0}function lp(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function op(i,a){var o=lp(i);i=0;for(var c;o;){if(o.nodeType===3){if(c=i+o.textContent.length,i<=a&&c>=a)return{node:o,offset:a-i};i=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=lp(o)}}function rp(i,a){return i&&a?i===a?!0:i&&i.nodeType===3?!1:a&&a.nodeType===3?rp(i,a.parentNode):"contains"in i?i.contains(a):i.compareDocumentPosition?!!(i.compareDocumentPosition(a)&16):!1:!1}function cp(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var a=Ho(i.document);a instanceof i.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)i=a.contentWindow;else break;a=Ho(i.document)}return a}function Tu(i){var a=i&&i.nodeName&&i.nodeName.toLowerCase();return a&&(a==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||a==="textarea"||i.contentEditable==="true")}var Px=zn&&"documentMode"in document&&11>=document.documentMode,ks=null,Cu=null,Ga=null,Au=!1;function up(i,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Au||ks==null||ks!==Ho(c)||(c=ks,"selectionStart"in c&&Tu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ga&&qa(Ga,c)||(Ga=c,c=Or(Cu,"onSelect"),0<c.length&&(a=new Yo("onSelect","select",null,a,o),i.push({event:a,listeners:c}),a.target=ks)))}function Yi(i,a){var o={};return o[i.toLowerCase()]=a.toLowerCase(),o["Webkit"+i]="webkit"+a,o["Moz"+i]="moz"+a,o}var zs={animationend:Yi("Animation","AnimationEnd"),animationiteration:Yi("Animation","AnimationIteration"),animationstart:Yi("Animation","AnimationStart"),transitionrun:Yi("Transition","TransitionRun"),transitionstart:Yi("Transition","TransitionStart"),transitioncancel:Yi("Transition","TransitionCancel"),transitionend:Yi("Transition","TransitionEnd")},Mu={},hp={};zn&&(hp=document.createElement("div").style,"AnimationEvent"in window||(delete zs.animationend.animation,delete zs.animationiteration.animation,delete zs.animationstart.animation),"TransitionEvent"in window||delete zs.transitionend.transition);function Fi(i){if(Mu[i])return Mu[i];if(!zs[i])return i;var a=zs[i],o;for(o in a)if(a.hasOwnProperty(o)&&o in hp)return Mu[i]=a[o];return i}var fp=Fi("animationend"),dp=Fi("animationiteration"),gp=Fi("animationstart"),Vx=Fi("transitionrun"),Yx=Fi("transitionstart"),Fx=Fi("transitioncancel"),pp=Fi("transitionend"),mp=new Map,wu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");wu.push("scrollEnd");function pn(i,a){mp.set(i,a),Pi(a,[i])}var _p=new WeakMap;function nn(i,a){if(typeof i=="object"&&i!==null){var o=_p.get(i);return o!==void 0?o:(a={value:i,source:a,stack:kg(a)},_p.set(i,a),a)}return{value:i,source:a,stack:kg(a)}}var sn=[],Ls=0,Du=0;function Go(){for(var i=Ls,a=Du=Ls=0;a<i;){var o=sn[a];sn[a++]=null;var c=sn[a];sn[a++]=null;var f=sn[a];sn[a++]=null;var p=sn[a];if(sn[a++]=null,c!==null&&f!==null){var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}p!==0&&yp(o,f,p)}}function Wo(i,a,o,c){sn[Ls++]=i,sn[Ls++]=a,sn[Ls++]=o,sn[Ls++]=c,Du|=c,i.lanes|=c,i=i.alternate,i!==null&&(i.lanes|=c)}function Ou(i,a,o,c){return Wo(i,a,o,c),Xo(i)}function Is(i,a){return Wo(i,null,null,a),Xo(i)}function yp(i,a,o){i.lanes|=o;var c=i.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=i.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(i=p.stateNode,i===null||i._visibility&1||(f=!0)),i=p,p=p.return;return i.tag===3?(p=i.stateNode,f&&a!==null&&(f=31-Ge(o),i=p.hiddenUpdates,c=i[f],c===null?i[f]=[a]:c.push(a),a.lane=o|536870912),p):null}function Xo(i){if(50<_l)throw _l=0,Ih=null,Error(s(185));for(var a=i.return;a!==null;)i=a,a=i.return;return i.tag===3?i.stateNode:null}var Bs={};function qx(i,a,o,c){this.tag=i,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(i,a,o,c){return new qx(i,a,o,c)}function Ru(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ln(i,a){var o=i.alternate;return o===null?(o=Xe(i.tag,a,i.key,i.mode),o.elementType=i.elementType,o.type=i.type,o.stateNode=i.stateNode,o.alternate=i,i.alternate=o):(o.pendingProps=a,o.type=i.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=i.flags&65011712,o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,a=i.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=i.sibling,o.index=i.index,o.ref=i.ref,o.refCleanup=i.refCleanup,o}function bp(i,a){i.flags&=65011714;var o=i.alternate;return o===null?(i.childLanes=0,i.lanes=a,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,a=o.dependencies,i.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),i}function Qo(i,a,o,c,f,p){var y=0;if(c=i,typeof i=="function")Ru(i)&&(y=1);else if(typeof i=="string")y=W1(i,o,tt.current)?26:i==="html"||i==="head"||i==="body"?27:5;else t:switch(i){case J:return i=Xe(31,o,a,f),i.elementType=J,i.lanes=p,i;case x:return qi(o.children,f,p,a);case T:y=8,f|=24;break;case A:return i=Xe(12,o,a,f|2),i.elementType=A,i.lanes=p,i;case L:return i=Xe(13,o,a,f),i.elementType=L,i.lanes=p,i;case q:return i=Xe(19,o,a,f),i.elementType=q,i.lanes=p,i;default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case z:case P:y=10;break t;case U:y=9;break t;case Y:y=11;break t;case X:y=14;break t;case G:y=16,c=null;break t}y=29,o=Error(s(130,i===null?"null":typeof i,"")),c=null}return a=Xe(y,o,a,f),a.elementType=i,a.type=c,a.lanes=p,a}function qi(i,a,o,c){return i=Xe(7,i,c,a),i.lanes=o,i}function Nu(i,a,o){return i=Xe(6,i,null,a),i.lanes=o,i}function ku(i,a,o){return a=Xe(4,i.children!==null?i.children:[],i.key,a),a.lanes=o,a.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},a}var Hs=[],Us=0,Ko=null,Zo=0,an=[],ln=0,Gi=null,In=1,Bn="";function Wi(i,a){Hs[Us++]=Zo,Hs[Us++]=Ko,Ko=i,Zo=a}function vp(i,a,o){an[ln++]=In,an[ln++]=Bn,an[ln++]=Gi,Gi=i;var c=In;i=Bn;var f=32-Ge(c)-1;c&=~(1<<f),o+=1;var p=32-Ge(a)+f;if(30<p){var y=f-f%5;p=(c&(1<<y)-1).toString(32),c>>=y,f-=y,In=1<<32-Ge(a)+f|o<<f|c,Bn=p+i}else In=1<<p|o<<f|c,Bn=i}function zu(i){i.return!==null&&(Wi(i,1),vp(i,1,0))}function Lu(i){for(;i===Ko;)Ko=Hs[--Us],Hs[Us]=null,Zo=Hs[--Us],Hs[Us]=null;for(;i===Gi;)Gi=an[--ln],an[ln]=null,Bn=an[--ln],an[ln]=null,In=an[--ln],an[ln]=null}var Oe=null,Qt=null,wt=!1,Xi=null,En=!1,Iu=Error(s(519));function Qi(i){var a=Error(s(418,""));throw Qa(nn(a,i)),Iu}function Sp(i){var a=i.stateNode,o=i.type,c=i.memoizedProps;switch(a[Ce]=i,a[Le]=c,o){case"dialog":xt("cancel",a),xt("close",a);break;case"iframe":case"object":case"embed":xt("load",a);break;case"video":case"audio":for(o=0;o<bl.length;o++)xt(bl[o],a);break;case"source":xt("error",a);break;case"img":case"image":case"link":xt("error",a),xt("load",a);break;case"details":xt("toggle",a);break;case"input":xt("invalid",a),Ig(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),Bo(a);break;case"select":xt("invalid",a);break;case"textarea":xt("invalid",a),Hg(a,c.value,c.defaultValue,c.children),Bo(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||H_(a.textContent,o)?(c.popover!=null&&(xt("beforetoggle",a),xt("toggle",a)),c.onScroll!=null&&xt("scroll",a),c.onScrollEnd!=null&&xt("scrollend",a),c.onClick!=null&&(a.onclick=Rr),a=!0):a=!1,a||Qi(i)}function xp(i){for(Oe=i.return;Oe;)switch(Oe.tag){case 5:case 13:En=!1;return;case 27:case 3:En=!0;return;default:Oe=Oe.return}}function Wa(i){if(i!==Oe)return!1;if(!wt)return xp(i),wt=!0,!1;var a=i.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=i.type,o=!(o!=="form"&&o!=="button")||$h(i.type,i.memoizedProps)),o=!o),o&&Qt&&Qi(i),xp(i),a===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(s(317));t:{for(i=i.nextSibling,a=0;i;){if(i.nodeType===8)if(o=i.data,o==="/$"){if(a===0){Qt=_n(i.nextSibling);break t}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;i=i.nextSibling}Qt=null}}else a===27?(a=Qt,xi(i.type)?(i=nf,nf=null,Qt=i):Qt=a):Qt=Oe?_n(i.stateNode.nextSibling):null;return!0}function Xa(){Qt=Oe=null,wt=!1}function Ep(){var i=Xi;return i!==null&&(Ue===null?Ue=i:Ue.push.apply(Ue,i),Xi=null),i}function Qa(i){Xi===null?Xi=[i]:Xi.push(i)}var Bu=j(null),Ki=null,Hn=null;function oi(i,a,o){W(Bu,a._currentValue),a._currentValue=o}function Un(i){i._currentValue=Bu.current,Q(Bu)}function Hu(i,a,o){for(;i!==null;){var c=i.alternate;if((i.childLanes&a)!==a?(i.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),i===o)break;i=i.return}}function Uu(i,a,o,c){var f=i.child;for(f!==null&&(f.return=i);f!==null;){var p=f.dependencies;if(p!==null){var y=f.child;p=p.firstContext;t:for(;p!==null;){var v=p;p=f;for(var E=0;E<a.length;E++)if(v.context===a[E]){p.lanes|=o,v=p.alternate,v!==null&&(v.lanes|=o),Hu(p.return,o,i),c||(y=null);break t}p=v.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=o,p=y.alternate,p!==null&&(p.lanes|=o),Hu(y,o,i),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===i){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Ka(i,a,o,c){i=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var v=f.type;We(f.pendingProps.value,y.value)||(i!==null?i.push(v):i=[v])}}else if(f===K.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(i!==null?i.push(Cl):i=[Cl])}f=f.return}i!==null&&Uu(a,i,o,c),a.flags|=262144}function $o(i){for(i=i.firstContext;i!==null;){if(!We(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function Zi(i){Ki=i,Hn=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Ae(i){return Tp(Ki,i)}function Jo(i,a){return Ki===null&&Zi(i),Tp(i,a)}function Tp(i,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Hn===null){if(i===null)throw Error(s(308));Hn=a,i.dependencies={lanes:0,firstContext:a},i.flags|=524288}else Hn=Hn.next=a;return o}var Gx=typeof AbortController<"u"?AbortController:function(){var i=[],a=this.signal={aborted:!1,addEventListener:function(o,c){i.push(c)}};this.abort=function(){a.aborted=!0,i.forEach(function(o){return o()})}},Wx=n.unstable_scheduleCallback,Xx=n.unstable_NormalPriority,re={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ju(){return{controller:new Gx,data:new Map,refCount:0}}function Za(i){i.refCount--,i.refCount===0&&Wx(Xx,function(){i.controller.abort()})}var $a=null,Pu=0,js=0,Ps=null;function Qx(i,a){if($a===null){var o=$a=[];Pu=0,js=Yh(),Ps={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Pu++,a.then(Cp,Cp),a}function Cp(){if(--Pu===0&&$a!==null){Ps!==null&&(Ps.status="fulfilled");var i=$a;$a=null,js=0,Ps=null;for(var a=0;a<i.length;a++)(0,i[a])()}}function Kx(i,a){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return i.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var Ap=k.S;k.S=function(i,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Qx(i,a),Ap!==null&&Ap(i,a)};var $i=j(null);function Vu(){var i=$i.current;return i!==null?i:jt.pooledCache}function tr(i,a){a===null?W($i,$i.current):W($i,a.pool)}function Mp(){var i=Vu();return i===null?null:{parent:re._currentValue,pool:i}}var Ja=Error(s(460)),wp=Error(s(474)),er=Error(s(542)),Yu={then:function(){}};function Dp(i){return i=i.status,i==="fulfilled"||i==="rejected"}function nr(){}function Op(i,a,o){switch(o=i[o],o===void 0?i.push(a):o!==a&&(a.then(nr,nr),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Np(i),i;default:if(typeof a.status=="string")a.then(nr,nr);else{if(i=jt,i!==null&&100<i.shellSuspendCounter)throw Error(s(482));i=a,i.status="pending",i.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw i=a.reason,Np(i),i}throw tl=a,Ja}}var tl=null;function Rp(){if(tl===null)throw Error(s(459));var i=tl;return tl=null,i}function Np(i){if(i===Ja||i===er)throw Error(s(483))}var ri=!1;function Fu(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function qu(i,a){i=i.updateQueue,a.updateQueue===i&&(a.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function ci(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function ui(i,a,o){var c=i.updateQueue;if(c===null)return null;if(c=c.shared,(Ot&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=Xo(i),yp(i,null,o),a}return Wo(i,c,a,o),Xo(i)}function el(i,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Cg(i,o)}}function Gu(i,a){var o=i.updateQueue,c=i.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?f=p=a:p=p.next=a}else f=p=a;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},i.updateQueue=o;return}i=o.lastBaseUpdate,i===null?o.firstBaseUpdate=a:i.next=a,o.lastBaseUpdate=a}var Wu=!1;function nl(){if(Wu){var i=Ps;if(i!==null)throw i}}function il(i,a,o,c){Wu=!1;var f=i.updateQueue;ri=!1;var p=f.firstBaseUpdate,y=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var E=v,O=E.next;E.next=null,y===null?p=O:y.next=O,y=E;var I=i.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==y&&(v===null?I.firstBaseUpdate=O:v.next=O,I.lastBaseUpdate=E))}if(p!==null){var H=f.baseState;y=0,I=O=E=null,v=p;do{var R=v.lane&-536870913,N=R!==v.lane;if(N?(Ct&R)===R:(c&R)===R){R!==0&&R===js&&(Wu=!0),I!==null&&(I=I.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ct=i,ot=v;R=a;var Lt=o;switch(ot.tag){case 1:if(ct=ot.payload,typeof ct=="function"){H=ct.call(Lt,H,R);break t}H=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=ot.payload,R=typeof ct=="function"?ct.call(Lt,H,R):ct,R==null)break t;H=m({},H,R);break t;case 2:ri=!0}}R=v.callback,R!==null&&(i.flags|=64,N&&(i.flags|=8192),N=f.callbacks,N===null?f.callbacks=[R]:N.push(R))}else N={lane:R,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(O=I=N,E=H):I=I.next=N,y|=R;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;N=v,v=N.next,N.next=null,f.lastBaseUpdate=N,f.shared.pending=null}}while(!0);I===null&&(E=H),f.baseState=E,f.firstBaseUpdate=O,f.lastBaseUpdate=I,p===null&&(f.shared.lanes=0),yi|=y,i.lanes=y,i.memoizedState=H}}function kp(i,a){if(typeof i!="function")throw Error(s(191,i));i.call(a)}function zp(i,a){var o=i.callbacks;if(o!==null)for(i.callbacks=null,i=0;i<o.length;i++)kp(o[i],a)}var Vs=j(null),ir=j(0);function Lp(i,a){i=Gn,W(ir,i),W(Vs,a),Gn=i|a.baseLanes}function Xu(){W(ir,Gn),W(Vs,Vs.current)}function Qu(){Gn=ir.current,Q(Vs),Q(ir)}var hi=0,_t=null,kt=null,le=null,sr=!1,Ys=!1,Ji=!1,ar=0,sl=0,Fs=null,Zx=0;function ne(){throw Error(s(321))}function Ku(i,a){if(a===null)return!1;for(var o=0;o<a.length&&o<i.length;o++)if(!We(i[o],a[o]))return!1;return!0}function Zu(i,a,o,c,f,p){return hi=p,_t=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,k.H=i===null||i.memoizedState===null?ym:bm,Ji=!1,p=o(c,f),Ji=!1,Ys&&(p=Bp(a,o,c,f)),Ip(i),p}function Ip(i){k.H=hr;var a=kt!==null&&kt.next!==null;if(hi=0,le=kt=_t=null,sr=!1,sl=0,Fs=null,a)throw Error(s(300));i===null||fe||(i=i.dependencies,i!==null&&$o(i)&&(fe=!0))}function Bp(i,a,o,c){_t=i;var f=0;do{if(Ys&&(Fs=null),sl=0,Ys=!1,25<=f)throw Error(s(301));if(f+=1,le=kt=null,i.updateQueue!=null){var p=i.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}k.H=s1,p=a(o,c)}while(Ys);return p}function $x(){var i=k.H,a=i.useState()[0];return a=typeof a.then=="function"?al(a):a,i=i.useState()[0],(kt!==null?kt.memoizedState:null)!==i&&(_t.flags|=1024),a}function $u(){var i=ar!==0;return ar=0,i}function Ju(i,a,o){a.updateQueue=i.updateQueue,a.flags&=-2053,i.lanes&=~o}function th(i){if(sr){for(i=i.memoizedState;i!==null;){var a=i.queue;a!==null&&(a.pending=null),i=i.next}sr=!1}hi=0,le=kt=_t=null,Ys=!1,sl=ar=0,Fs=null}function Be(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return le===null?_t.memoizedState=le=i:le=le.next=i,le}function oe(){if(kt===null){var i=_t.alternate;i=i!==null?i.memoizedState:null}else i=kt.next;var a=le===null?_t.memoizedState:le.next;if(a!==null)le=a,kt=i;else{if(i===null)throw _t.alternate===null?Error(s(467)):Error(s(310));kt=i,i={memoizedState:kt.memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},le===null?_t.memoizedState=le=i:le=le.next=i}return le}function eh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function al(i){var a=sl;return sl+=1,Fs===null&&(Fs=[]),i=Op(Fs,i,a),a=_t,(le===null?a.memoizedState:le.next)===null&&(a=a.alternate,k.H=a===null||a.memoizedState===null?ym:bm),i}function lr(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return al(i);if(i.$$typeof===P)return Ae(i)}throw Error(s(438,String(i)))}function nh(i){var a=null,o=_t.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=_t.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=eh(),_t.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(i),c=0;c<i;c++)o[c]=ht;return a.index++,o}function jn(i,a){return typeof a=="function"?a(i):a}function or(i){var a=oe();return ih(a,kt,i)}function ih(i,a,o){var c=i.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=i.baseQueue,p=c.pending;if(p!==null){if(f!==null){var y=f.next;f.next=p.next,p.next=y}a.baseQueue=f=p,c.pending=null}if(p=i.baseState,f===null)i.memoizedState=p;else{a=f.next;var v=y=null,E=null,O=a,I=!1;do{var H=O.lane&-536870913;if(H!==O.lane?(Ct&H)===H:(hi&H)===H){var R=O.revertLane;if(R===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),H===js&&(I=!0);else if((hi&R)===R){O=O.next,R===js&&(I=!0);continue}else H={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},E===null?(v=E=H,y=p):E=E.next=H,_t.lanes|=R,yi|=R;H=O.action,Ji&&o(p,H),p=O.hasEagerState?O.eagerState:o(p,H)}else R={lane:H,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},E===null?(v=E=R,y=p):E=E.next=R,_t.lanes|=H,yi|=H;O=O.next}while(O!==null&&O!==a);if(E===null?y=p:E.next=v,!We(p,i.memoizedState)&&(fe=!0,I&&(o=Ps,o!==null)))throw o;i.memoizedState=p,i.baseState=y,i.baseQueue=E,c.lastRenderedState=p}return f===null&&(c.lanes=0),[i.memoizedState,c.dispatch]}function sh(i){var a=oe(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=i;var c=o.dispatch,f=o.pending,p=a.memoizedState;if(f!==null){o.pending=null;var y=f=f.next;do p=i(p,y.action),y=y.next;while(y!==f);We(p,a.memoizedState)||(fe=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,c]}function Hp(i,a,o){var c=_t,f=oe(),p=wt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=a();var y=!We((kt||f).memoizedState,o);y&&(f.memoizedState=o,fe=!0),f=f.queue;var v=Pp.bind(null,c,f,i);if(ll(2048,8,v,[i]),f.getSnapshot!==a||y||le!==null&&le.memoizedState.tag&1){if(c.flags|=2048,qs(9,rr(),jp.bind(null,c,f,o,a),null),jt===null)throw Error(s(349));p||(hi&124)!==0||Up(c,a,o)}return o}function Up(i,a,o){i.flags|=16384,i={getSnapshot:a,value:o},a=_t.updateQueue,a===null?(a=eh(),_t.updateQueue=a,a.stores=[i]):(o=a.stores,o===null?a.stores=[i]:o.push(i))}function jp(i,a,o,c){a.value=o,a.getSnapshot=c,Vp(a)&&Yp(i)}function Pp(i,a,o){return o(function(){Vp(a)&&Yp(i)})}function Vp(i){var a=i.getSnapshot;i=i.value;try{var o=a();return!We(i,o)}catch{return!0}}function Yp(i){var a=Is(i,2);a!==null&&Je(a,i,2)}function ah(i){var a=Be();if(typeof i=="function"){var o=i;if(i=o(),Ji){si(!0);try{o()}finally{si(!1)}}}return a.memoizedState=a.baseState=i,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:i},a}function Fp(i,a,o,c){return i.baseState=o,ih(i,kt,typeof c=="function"?c:jn)}function Jx(i,a,o,c,f){if(ur(i))throw Error(s(485));if(i=a.action,i!==null){var p={payload:f,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){p.listeners.push(y)}};k.T!==null?o(!0):p.isTransition=!1,c(p),o=a.pending,o===null?(p.next=a.pending=p,qp(a,p)):(p.next=o.next,a.pending=o.next=p)}}function qp(i,a){var o=a.action,c=a.payload,f=i.state;if(a.isTransition){var p=k.T,y={};k.T=y;try{var v=o(f,c),E=k.S;E!==null&&E(y,v),Gp(i,a,v)}catch(O){lh(i,a,O)}finally{k.T=p}}else try{p=o(f,c),Gp(i,a,p)}catch(O){lh(i,a,O)}}function Gp(i,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Wp(i,a,c)},function(c){return lh(i,a,c)}):Wp(i,a,o)}function Wp(i,a,o){a.status="fulfilled",a.value=o,Xp(a),i.state=o,a=i.pending,a!==null&&(o=a.next,o===a?i.pending=null:(o=o.next,a.next=o,qp(i,o)))}function lh(i,a,o){var c=i.pending;if(i.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,Xp(a),a=a.next;while(a!==c)}i.action=null}function Xp(i){i=i.listeners;for(var a=0;a<i.length;a++)(0,i[a])()}function Qp(i,a){return a}function Kp(i,a){if(wt){var o=jt.formState;if(o!==null){t:{var c=_t;if(wt){if(Qt){e:{for(var f=Qt,p=En;f.nodeType!==8;){if(!p){f=null;break e}if(f=_n(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Qt=_n(f.nextSibling),c=f.data==="F!";break t}}Qi(c)}c=!1}c&&(a=o[0])}}return o=Be(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qp,lastRenderedState:a},o.queue=c,o=pm.bind(null,_t,c),c.dispatch=o,c=ah(!1),p=hh.bind(null,_t,!1,c.queue),c=Be(),f={state:a,dispatch:null,action:i,pending:null},c.queue=f,o=Jx.bind(null,_t,f,p,o),f.dispatch=o,c.memoizedState=i,[a,o,!1]}function Zp(i){var a=oe();return $p(a,kt,i)}function $p(i,a,o){if(a=ih(i,a,Qp)[0],i=or(jn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=al(a)}catch(y){throw y===Ja?er:y}else c=a;a=oe();var f=a.queue,p=f.dispatch;return o!==a.memoizedState&&(_t.flags|=2048,qs(9,rr(),t1.bind(null,f,o),null)),[c,p,i]}function t1(i,a){i.action=a}function Jp(i){var a=oe(),o=kt;if(o!==null)return $p(a,o,i);oe(),a=a.memoizedState,o=oe();var c=o.queue.dispatch;return o.memoizedState=i,[a,c,!1]}function qs(i,a,o,c){return i={tag:i,create:o,deps:c,inst:a,next:null},a=_t.updateQueue,a===null&&(a=eh(),_t.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=i.next=i:(c=o.next,o.next=i,i.next=c,a.lastEffect=i),i}function rr(){return{destroy:void 0,resource:void 0}}function tm(){return oe().memoizedState}function cr(i,a,o,c){var f=Be();c=c===void 0?null:c,_t.flags|=i,f.memoizedState=qs(1|a,rr(),o,c)}function ll(i,a,o,c){var f=oe();c=c===void 0?null:c;var p=f.memoizedState.inst;kt!==null&&c!==null&&Ku(c,kt.memoizedState.deps)?f.memoizedState=qs(a,p,o,c):(_t.flags|=i,f.memoizedState=qs(1|a,p,o,c))}function em(i,a){cr(8390656,8,i,a)}function nm(i,a){ll(2048,8,i,a)}function im(i,a){return ll(4,2,i,a)}function sm(i,a){return ll(4,4,i,a)}function am(i,a){if(typeof a=="function"){i=i();var o=a(i);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return i=i(),a.current=i,function(){a.current=null}}function lm(i,a,o){o=o!=null?o.concat([i]):null,ll(4,4,am.bind(null,a,i),o)}function oh(){}function om(i,a){var o=oe();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&Ku(a,c[1])?c[0]:(o.memoizedState=[i,a],i)}function rm(i,a){var o=oe();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&Ku(a,c[1]))return c[0];if(c=i(),Ji){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[c,a],c}function rh(i,a,o){return o===void 0||(hi&1073741824)!==0?i.memoizedState=a:(i.memoizedState=o,i=h_(),_t.lanes|=i,yi|=i,o)}function cm(i,a,o,c){return We(o,a)?o:Vs.current!==null?(i=rh(i,o,c),We(i,a)||(fe=!0),i):(hi&42)===0?(fe=!0,i.memoizedState=o):(i=h_(),_t.lanes|=i,yi|=i,a)}function um(i,a,o,c,f){var p=V.p;V.p=p!==0&&8>p?p:8;var y=k.T,v={};k.T=v,hh(i,!1,a,o);try{var E=f(),O=k.S;if(O!==null&&O(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=Kx(E,c);ol(i,a,I,$e(i))}else ol(i,a,c,$e(i))}catch(H){ol(i,a,{then:function(){},status:"rejected",reason:H},$e())}finally{V.p=p,k.T=y}}function e1(){}function ch(i,a,o,c){if(i.tag!==5)throw Error(s(476));var f=hm(i).queue;um(i,f,a,Z,o===null?e1:function(){return fm(i),o(c)})}function hm(i){var a=i.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:Z},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jn,lastRenderedState:o},next:null},i.memoizedState=a,i=i.alternate,i!==null&&(i.memoizedState=a),a}function fm(i){var a=hm(i).next.queue;ol(i,a,{},$e())}function uh(){return Ae(Cl)}function dm(){return oe().memoizedState}function gm(){return oe().memoizedState}function n1(i){for(var a=i.return;a!==null;){switch(a.tag){case 24:case 3:var o=$e();i=ci(o);var c=ui(a,i,o);c!==null&&(Je(c,a,o),el(c,a,o)),a={cache:ju()},i.payload=a;return}a=a.return}}function i1(i,a,o){var c=$e();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},ur(i)?mm(a,o):(o=Ou(i,a,o,c),o!==null&&(Je(o,i,c),_m(o,a,c)))}function pm(i,a,o){var c=$e();ol(i,a,o,c)}function ol(i,a,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(ur(i))mm(a,f);else{var p=i.alternate;if(i.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var y=a.lastRenderedState,v=p(y,o);if(f.hasEagerState=!0,f.eagerState=v,We(v,y))return Wo(i,a,f,0),jt===null&&Go(),!1}catch{}finally{}if(o=Ou(i,a,f,c),o!==null)return Je(o,i,c),_m(o,a,c),!0}return!1}function hh(i,a,o,c){if(c={lane:2,revertLane:Yh(),action:c,hasEagerState:!1,eagerState:null,next:null},ur(i)){if(a)throw Error(s(479))}else a=Ou(i,o,c,2),a!==null&&Je(a,i,2)}function ur(i){var a=i.alternate;return i===_t||a!==null&&a===_t}function mm(i,a){Ys=sr=!0;var o=i.pending;o===null?a.next=a:(a.next=o.next,o.next=a),i.pending=a}function _m(i,a,o){if((o&4194048)!==0){var c=a.lanes;c&=i.pendingLanes,o|=c,a.lanes=o,Cg(i,o)}}var hr={readContext:Ae,use:lr,useCallback:ne,useContext:ne,useEffect:ne,useImperativeHandle:ne,useLayoutEffect:ne,useInsertionEffect:ne,useMemo:ne,useReducer:ne,useRef:ne,useState:ne,useDebugValue:ne,useDeferredValue:ne,useTransition:ne,useSyncExternalStore:ne,useId:ne,useHostTransitionStatus:ne,useFormState:ne,useActionState:ne,useOptimistic:ne,useMemoCache:ne,useCacheRefresh:ne},ym={readContext:Ae,use:lr,useCallback:function(i,a){return Be().memoizedState=[i,a===void 0?null:a],i},useContext:Ae,useEffect:em,useImperativeHandle:function(i,a,o){o=o!=null?o.concat([i]):null,cr(4194308,4,am.bind(null,a,i),o)},useLayoutEffect:function(i,a){return cr(4194308,4,i,a)},useInsertionEffect:function(i,a){cr(4,2,i,a)},useMemo:function(i,a){var o=Be();a=a===void 0?null:a;var c=i();if(Ji){si(!0);try{i()}finally{si(!1)}}return o.memoizedState=[c,a],c},useReducer:function(i,a,o){var c=Be();if(o!==void 0){var f=o(a);if(Ji){si(!0);try{o(a)}finally{si(!1)}}}else f=a;return c.memoizedState=c.baseState=f,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:f},c.queue=i,i=i.dispatch=i1.bind(null,_t,i),[c.memoizedState,i]},useRef:function(i){var a=Be();return i={current:i},a.memoizedState=i},useState:function(i){i=ah(i);var a=i.queue,o=pm.bind(null,_t,a);return a.dispatch=o,[i.memoizedState,o]},useDebugValue:oh,useDeferredValue:function(i,a){var o=Be();return rh(o,i,a)},useTransition:function(){var i=ah(!1);return i=um.bind(null,_t,i.queue,!0,!1),Be().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,a,o){var c=_t,f=Be();if(wt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),jt===null)throw Error(s(349));(Ct&124)!==0||Up(c,a,o)}f.memoizedState=o;var p={value:o,getSnapshot:a};return f.queue=p,em(Pp.bind(null,c,p,i),[i]),c.flags|=2048,qs(9,rr(),jp.bind(null,c,p,o,a),null),o},useId:function(){var i=Be(),a=jt.identifierPrefix;if(wt){var o=Bn,c=In;o=(c&~(1<<32-Ge(c)-1)).toString(32)+o,a="«"+a+"R"+o,o=ar++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=Zx++,a="«"+a+"r"+o.toString(32)+"»";return i.memoizedState=a},useHostTransitionStatus:uh,useFormState:Kp,useActionState:Kp,useOptimistic:function(i){var a=Be();a.memoizedState=a.baseState=i;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=hh.bind(null,_t,!0,o),o.dispatch=a,[i,a]},useMemoCache:nh,useCacheRefresh:function(){return Be().memoizedState=n1.bind(null,_t)}},bm={readContext:Ae,use:lr,useCallback:om,useContext:Ae,useEffect:nm,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:rm,useReducer:or,useRef:tm,useState:function(){return or(jn)},useDebugValue:oh,useDeferredValue:function(i,a){var o=oe();return cm(o,kt.memoizedState,i,a)},useTransition:function(){var i=or(jn)[0],a=oe().memoizedState;return[typeof i=="boolean"?i:al(i),a]},useSyncExternalStore:Hp,useId:dm,useHostTransitionStatus:uh,useFormState:Zp,useActionState:Zp,useOptimistic:function(i,a){var o=oe();return Fp(o,kt,i,a)},useMemoCache:nh,useCacheRefresh:gm},s1={readContext:Ae,use:lr,useCallback:om,useContext:Ae,useEffect:nm,useImperativeHandle:lm,useInsertionEffect:im,useLayoutEffect:sm,useMemo:rm,useReducer:sh,useRef:tm,useState:function(){return sh(jn)},useDebugValue:oh,useDeferredValue:function(i,a){var o=oe();return kt===null?rh(o,i,a):cm(o,kt.memoizedState,i,a)},useTransition:function(){var i=sh(jn)[0],a=oe().memoizedState;return[typeof i=="boolean"?i:al(i),a]},useSyncExternalStore:Hp,useId:dm,useHostTransitionStatus:uh,useFormState:Jp,useActionState:Jp,useOptimistic:function(i,a){var o=oe();return kt!==null?Fp(o,kt,i,a):(o.baseState=i,[i,o.queue.dispatch])},useMemoCache:nh,useCacheRefresh:gm},Gs=null,rl=0;function fr(i){var a=rl;return rl+=1,Gs===null&&(Gs=[]),Op(Gs,i,a)}function cl(i,a){a=a.props.ref,i.ref=a!==void 0?a:null}function dr(i,a){throw a.$$typeof===_?Error(s(525)):(i=Object.prototype.toString.call(a),Error(s(31,i==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":i)))}function vm(i){var a=i._init;return a(i._payload)}function Sm(i){function a(w,M){if(i){var D=w.deletions;D===null?(w.deletions=[M],w.flags|=16):D.push(M)}}function o(w,M){if(!i)return null;for(;M!==null;)a(w,M),M=M.sibling;return null}function c(w){for(var M=new Map;w!==null;)w.key!==null?M.set(w.key,w):M.set(w.index,w),w=w.sibling;return M}function f(w,M){return w=Ln(w,M),w.index=0,w.sibling=null,w}function p(w,M,D){return w.index=D,i?(D=w.alternate,D!==null?(D=D.index,D<M?(w.flags|=67108866,M):D):(w.flags|=67108866,M)):(w.flags|=1048576,M)}function y(w){return i&&w.alternate===null&&(w.flags|=67108866),w}function v(w,M,D,B){return M===null||M.tag!==6?(M=Nu(D,w.mode,B),M.return=w,M):(M=f(M,D),M.return=w,M)}function E(w,M,D,B){var $=D.type;return $===x?I(w,M,D.props.children,B,D.key):M!==null&&(M.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===G&&vm($)===M.type)?(M=f(M,D.props),cl(M,D),M.return=w,M):(M=Qo(D.type,D.key,D.props,null,w.mode,B),cl(M,D),M.return=w,M)}function O(w,M,D,B){return M===null||M.tag!==4||M.stateNode.containerInfo!==D.containerInfo||M.stateNode.implementation!==D.implementation?(M=ku(D,w.mode,B),M.return=w,M):(M=f(M,D.children||[]),M.return=w,M)}function I(w,M,D,B,$){return M===null||M.tag!==7?(M=qi(D,w.mode,B,$),M.return=w,M):(M=f(M,D),M.return=w,M)}function H(w,M,D){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Nu(""+M,w.mode,D),M.return=w,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return D=Qo(M.type,M.key,M.props,null,w.mode,D),cl(D,M),D.return=w,D;case S:return M=ku(M,w.mode,D),M.return=w,M;case G:var B=M._init;return M=B(M._payload),H(w,M,D)}if(ft(M)||st(M))return M=qi(M,w.mode,D,null),M.return=w,M;if(typeof M.then=="function")return H(w,fr(M),D);if(M.$$typeof===P)return H(w,Jo(w,M),D);dr(w,M)}return null}function R(w,M,D,B){var $=M!==null?M.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return $!==null?null:v(w,M,""+D,B);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case b:return D.key===$?E(w,M,D,B):null;case S:return D.key===$?O(w,M,D,B):null;case G:return $=D._init,D=$(D._payload),R(w,M,D,B)}if(ft(D)||st(D))return $!==null?null:I(w,M,D,B,null);if(typeof D.then=="function")return R(w,M,fr(D),B);if(D.$$typeof===P)return R(w,M,Jo(w,D),B);dr(w,D)}return null}function N(w,M,D,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return w=w.get(D)||null,v(M,w,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return w=w.get(B.key===null?D:B.key)||null,E(M,w,B,$);case S:return w=w.get(B.key===null?D:B.key)||null,O(M,w,B,$);case G:var yt=B._init;return B=yt(B._payload),N(w,M,D,B,$)}if(ft(B)||st(B))return w=w.get(D)||null,I(M,w,B,$,null);if(typeof B.then=="function")return N(w,M,D,fr(B),$);if(B.$$typeof===P)return N(w,M,D,Jo(M,B),$);dr(M,B)}return null}function ct(w,M,D,B){for(var $=null,yt=null,nt=M,rt=M=0,ge=null;nt!==null&&rt<D.length;rt++){nt.index>rt?(ge=nt,nt=null):ge=nt.sibling;var At=R(w,nt,D[rt],B);if(At===null){nt===null&&(nt=ge);break}i&&nt&&At.alternate===null&&a(w,nt),M=p(At,M,rt),yt===null?$=At:yt.sibling=At,yt=At,nt=ge}if(rt===D.length)return o(w,nt),wt&&Wi(w,rt),$;if(nt===null){for(;rt<D.length;rt++)nt=H(w,D[rt],B),nt!==null&&(M=p(nt,M,rt),yt===null?$=nt:yt.sibling=nt,yt=nt);return wt&&Wi(w,rt),$}for(nt=c(nt);rt<D.length;rt++)ge=N(nt,w,rt,D[rt],B),ge!==null&&(i&&ge.alternate!==null&&nt.delete(ge.key===null?rt:ge.key),M=p(ge,M,rt),yt===null?$=ge:yt.sibling=ge,yt=ge);return i&&nt.forEach(function(Mi){return a(w,Mi)}),wt&&Wi(w,rt),$}function ot(w,M,D,B){if(D==null)throw Error(s(151));for(var $=null,yt=null,nt=M,rt=M=0,ge=null,At=D.next();nt!==null&&!At.done;rt++,At=D.next()){nt.index>rt?(ge=nt,nt=null):ge=nt.sibling;var Mi=R(w,nt,At.value,B);if(Mi===null){nt===null&&(nt=ge);break}i&&nt&&Mi.alternate===null&&a(w,nt),M=p(Mi,M,rt),yt===null?$=Mi:yt.sibling=Mi,yt=Mi,nt=ge}if(At.done)return o(w,nt),wt&&Wi(w,rt),$;if(nt===null){for(;!At.done;rt++,At=D.next())At=H(w,At.value,B),At!==null&&(M=p(At,M,rt),yt===null?$=At:yt.sibling=At,yt=At);return wt&&Wi(w,rt),$}for(nt=c(nt);!At.done;rt++,At=D.next())At=N(nt,w,rt,At.value,B),At!==null&&(i&&At.alternate!==null&&nt.delete(At.key===null?rt:At.key),M=p(At,M,rt),yt===null?$=At:yt.sibling=At,yt=At);return i&&nt.forEach(function(aE){return a(w,aE)}),wt&&Wi(w,rt),$}function Lt(w,M,D,B){if(typeof D=="object"&&D!==null&&D.type===x&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case b:t:{for(var $=D.key;M!==null;){if(M.key===$){if($=D.type,$===x){if(M.tag===7){o(w,M.sibling),B=f(M,D.props.children),B.return=w,w=B;break t}}else if(M.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===G&&vm($)===M.type){o(w,M.sibling),B=f(M,D.props),cl(B,D),B.return=w,w=B;break t}o(w,M);break}else a(w,M);M=M.sibling}D.type===x?(B=qi(D.props.children,w.mode,B,D.key),B.return=w,w=B):(B=Qo(D.type,D.key,D.props,null,w.mode,B),cl(B,D),B.return=w,w=B)}return y(w);case S:t:{for($=D.key;M!==null;){if(M.key===$)if(M.tag===4&&M.stateNode.containerInfo===D.containerInfo&&M.stateNode.implementation===D.implementation){o(w,M.sibling),B=f(M,D.children||[]),B.return=w,w=B;break t}else{o(w,M);break}else a(w,M);M=M.sibling}B=ku(D,w.mode,B),B.return=w,w=B}return y(w);case G:return $=D._init,D=$(D._payload),Lt(w,M,D,B)}if(ft(D))return ct(w,M,D,B);if(st(D)){if($=st(D),typeof $!="function")throw Error(s(150));return D=$.call(D),ot(w,M,D,B)}if(typeof D.then=="function")return Lt(w,M,fr(D),B);if(D.$$typeof===P)return Lt(w,M,Jo(w,D),B);dr(w,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,M!==null&&M.tag===6?(o(w,M.sibling),B=f(M,D),B.return=w,w=B):(o(w,M),B=Nu(D,w.mode,B),B.return=w,w=B),y(w)):o(w,M)}return function(w,M,D,B){try{rl=0;var $=Lt(w,M,D,B);return Gs=null,$}catch(nt){if(nt===Ja||nt===er)throw nt;var yt=Xe(29,nt,null,w.mode);return yt.lanes=B,yt.return=w,yt}finally{}}}var Ws=Sm(!0),xm=Sm(!1),on=j(null),Tn=null;function fi(i){var a=i.alternate;W(ce,ce.current&1),W(on,i),Tn===null&&(a===null||Vs.current!==null||a.memoizedState!==null)&&(Tn=i)}function Em(i){if(i.tag===22){if(W(ce,ce.current),W(on,i),Tn===null){var a=i.alternate;a!==null&&a.memoizedState!==null&&(Tn=i)}}else di()}function di(){W(ce,ce.current),W(on,on.current)}function Pn(i){Q(on),Tn===i&&(Tn=null),Q(ce)}var ce=j(0);function gr(i){for(var a=i;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||ef(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function fh(i,a,o,c){a=i.memoizedState,o=o(c,a),o=o==null?a:m({},a,o),i.memoizedState=o,i.lanes===0&&(i.updateQueue.baseState=o)}var dh={enqueueSetState:function(i,a,o){i=i._reactInternals;var c=$e(),f=ci(c);f.payload=a,o!=null&&(f.callback=o),a=ui(i,f,c),a!==null&&(Je(a,i,c),el(a,i,c))},enqueueReplaceState:function(i,a,o){i=i._reactInternals;var c=$e(),f=ci(c);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=ui(i,f,c),a!==null&&(Je(a,i,c),el(a,i,c))},enqueueForceUpdate:function(i,a){i=i._reactInternals;var o=$e(),c=ci(o);c.tag=2,a!=null&&(c.callback=a),a=ui(i,c,o),a!==null&&(Je(a,i,o),el(a,i,o))}};function Tm(i,a,o,c,f,p,y){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(c,p,y):a.prototype&&a.prototype.isPureReactComponent?!qa(o,c)||!qa(f,p):!0}function Cm(i,a,o,c){i=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==i&&dh.enqueueReplaceState(a,a.state,null)}function ts(i,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(i=i.defaultProps){o===a&&(o=m({},o));for(var f in i)o[f]===void 0&&(o[f]=i[f])}return o}var pr=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function Am(i){pr(i)}function Mm(i){console.error(i)}function wm(i){pr(i)}function mr(i,a){try{var o=i.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function Dm(i,a,o){try{var c=i.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function gh(i,a,o){return o=ci(o),o.tag=3,o.payload={element:null},o.callback=function(){mr(i,a)},o}function Om(i){return i=ci(i),i.tag=3,i}function Rm(i,a,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;i.payload=function(){return f(p)},i.callback=function(){Dm(a,o,c)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(i.callback=function(){Dm(a,o,c),typeof f!="function"&&(bi===null?bi=new Set([this]):bi.add(this));var v=c.stack;this.componentDidCatch(c.value,{componentStack:v!==null?v:""})})}function a1(i,a,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Ka(a,o,f,!0),o=on.current,o!==null){switch(o.tag){case 13:return Tn===null?Hh():o.alternate===null&&Kt===0&&(Kt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Yu?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),jh(i,c,f)),!1;case 22:return o.flags|=65536,c===Yu?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),jh(i,c,f)),!1}throw Error(s(435,o.tag))}return jh(i,c,f),Hh(),!1}if(wt)return a=on.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==Iu&&(i=Error(s(422),{cause:c}),Qa(nn(i,o)))):(c!==Iu&&(a=Error(s(423),{cause:c}),Qa(nn(a,o))),i=i.current.alternate,i.flags|=65536,f&=-f,i.lanes|=f,c=nn(c,o),f=gh(i.stateNode,c,f),Gu(i,f),Kt!==4&&(Kt=2)),!1;var p=Error(s(520),{cause:c});if(p=nn(p,o),ml===null?ml=[p]:ml.push(p),Kt!==4&&(Kt=2),a===null)return!0;c=nn(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,i=f&-f,o.lanes|=i,i=gh(o.stateNode,c,i),Gu(o,i),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(bi===null||!bi.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Om(f),Rm(f,i,o,c),Gu(o,f),!1}o=o.return}while(o!==null);return!1}var Nm=Error(s(461)),fe=!1;function ve(i,a,o,c){a.child=i===null?xm(a,null,o,c):Ws(a,i.child,o,c)}function km(i,a,o,c,f){o=o.render;var p=a.ref;if("ref"in c){var y={};for(var v in c)v!=="ref"&&(y[v]=c[v])}else y=c;return Zi(a),c=Zu(i,a,o,y,p,f),v=$u(),i!==null&&!fe?(Ju(i,a,f),Vn(i,a,f)):(wt&&v&&zu(a),a.flags|=1,ve(i,a,c,f),a.child)}function zm(i,a,o,c,f){if(i===null){var p=o.type;return typeof p=="function"&&!Ru(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Lm(i,a,p,c,f)):(i=Qo(o.type,null,c,a,a.mode,f),i.ref=a.ref,i.return=a,a.child=i)}if(p=i.child,!xh(i,f)){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:qa,o(y,c)&&i.ref===a.ref)return Vn(i,a,f)}return a.flags|=1,i=Ln(p,c),i.ref=a.ref,i.return=a,a.child=i}function Lm(i,a,o,c,f){if(i!==null){var p=i.memoizedProps;if(qa(p,c)&&i.ref===a.ref)if(fe=!1,a.pendingProps=c=p,xh(i,f))(i.flags&131072)!==0&&(fe=!0);else return a.lanes=i.lanes,Vn(i,a,f)}return ph(i,a,o,c,f)}function Im(i,a,o){var c=a.pendingProps,f=c.children,p=i!==null?i.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|o:o,i!==null){for(f=a.child=i.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return Bm(i,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},i!==null&&tr(a,p!==null?p.cachePool:null),p!==null?Lp(a,p):Xu(),Em(a);else return a.lanes=a.childLanes=536870912,Bm(i,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(tr(a,p.cachePool),Lp(a,p),di(),a.memoizedState=null):(i!==null&&tr(a,null),Xu(),di());return ve(i,a,f,o),a.child}function Bm(i,a,o,c){var f=Vu();return f=f===null?null:{parent:re._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},i!==null&&tr(a,null),Xu(),Em(a),i!==null&&Ka(i,a,c,!0),null}function _r(i,a){var o=a.ref;if(o===null)i!==null&&i.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(i===null||i.ref!==o)&&(a.flags|=4194816)}}function ph(i,a,o,c,f){return Zi(a),o=Zu(i,a,o,c,void 0,f),c=$u(),i!==null&&!fe?(Ju(i,a,f),Vn(i,a,f)):(wt&&c&&zu(a),a.flags|=1,ve(i,a,o,f),a.child)}function Hm(i,a,o,c,f,p){return Zi(a),a.updateQueue=null,o=Bp(a,c,o,f),Ip(i),c=$u(),i!==null&&!fe?(Ju(i,a,p),Vn(i,a,p)):(wt&&c&&zu(a),a.flags|=1,ve(i,a,o,p),a.child)}function Um(i,a,o,c,f){if(Zi(a),a.stateNode===null){var p=Bs,y=o.contextType;typeof y=="object"&&y!==null&&(p=Ae(y)),p=new o(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=dh,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Fu(a),y=o.contextType,p.context=typeof y=="object"&&y!==null?Ae(y):Bs,p.state=a.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(fh(a,o,y,c),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(y=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),y!==p.state&&dh.enqueueReplaceState(p,p.state,null),il(a,c,p,f),nl(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(i===null){p=a.stateNode;var v=a.memoizedProps,E=ts(o,v);p.props=E;var O=p.context,I=o.contextType;y=Bs,typeof I=="object"&&I!==null&&(y=Ae(I));var H=o.getDerivedStateFromProps;I=typeof H=="function"||typeof p.getSnapshotBeforeUpdate=="function",v=a.pendingProps!==v,I||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v||O!==y)&&Cm(a,p,c,y),ri=!1;var R=a.memoizedState;p.state=R,il(a,c,p,f),nl(),O=a.memoizedState,v||R!==O||ri?(typeof H=="function"&&(fh(a,o,H,c),O=a.memoizedState),(E=ri||Tm(a,o,E,c,R,O,y))?(I||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=O),p.props=c,p.state=O,p.context=y,c=E):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,qu(i,a),y=a.memoizedProps,I=ts(o,y),p.props=I,H=a.pendingProps,R=p.context,O=o.contextType,E=Bs,typeof O=="object"&&O!==null&&(E=Ae(O)),v=o.getDerivedStateFromProps,(O=typeof v=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==H||R!==E)&&Cm(a,p,c,E),ri=!1,R=a.memoizedState,p.state=R,il(a,c,p,f),nl();var N=a.memoizedState;y!==H||R!==N||ri||i!==null&&i.dependencies!==null&&$o(i.dependencies)?(typeof v=="function"&&(fh(a,o,v,c),N=a.memoizedState),(I=ri||Tm(a,o,I,c,R,N,E)||i!==null&&i.dependencies!==null&&$o(i.dependencies))?(O||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,N,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,N,E)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===i.memoizedProps&&R===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&R===i.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=N),p.props=c,p.state=N,p.context=E,c=I):(typeof p.componentDidUpdate!="function"||y===i.memoizedProps&&R===i.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===i.memoizedProps&&R===i.memoizedState||(a.flags|=1024),c=!1)}return p=c,_r(i,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,i!==null&&c?(a.child=Ws(a,i.child,null,f),a.child=Ws(a,null,o,f)):ve(i,a,o,f),a.memoizedState=p.state,i=a.child):i=Vn(i,a,f),i}function jm(i,a,o,c){return Xa(),a.flags|=256,ve(i,a,o,c),a.child}var mh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function _h(i){return{baseLanes:i,cachePool:Mp()}}function yh(i,a,o){return i=i!==null?i.childLanes&~o:0,a&&(i|=rn),i}function Pm(i,a,o){var c=a.pendingProps,f=!1,p=(a.flags&128)!==0,y;if((y=p)||(y=i!==null&&i.memoizedState===null?!1:(ce.current&2)!==0),y&&(f=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,i===null){if(wt){if(f?fi(a):di(),wt){var v=Qt,E;if(E=v){t:{for(E=v,v=En;E.nodeType!==8;){if(!v){v=null;break t}if(E=_n(E.nextSibling),E===null){v=null;break t}}v=E}v!==null?(a.memoizedState={dehydrated:v,treeContext:Gi!==null?{id:In,overflow:Bn}:null,retryLane:536870912,hydrationErrors:null},E=Xe(18,null,null,0),E.stateNode=v,E.return=a,a.child=E,Oe=a,Qt=null,E=!0):E=!1}E||Qi(a)}if(v=a.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return ef(v)?a.lanes=32:a.lanes=536870912,null;Pn(a)}return v=c.children,c=c.fallback,f?(di(),f=a.mode,v=yr({mode:"hidden",children:v},f),c=qi(c,f,o,null),v.return=a,c.return=a,v.sibling=c,a.child=v,f=a.child,f.memoizedState=_h(o),f.childLanes=yh(i,y,o),a.memoizedState=mh,c):(fi(a),bh(a,v))}if(E=i.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(p)a.flags&256?(fi(a),a.flags&=-257,a=vh(i,a,o)):a.memoizedState!==null?(di(),a.child=i.child,a.flags|=128,a=null):(di(),f=c.fallback,v=a.mode,c=yr({mode:"visible",children:c.children},v),f=qi(f,v,o,null),f.flags|=2,c.return=a,f.return=a,c.sibling=f,a.child=c,Ws(a,i.child,null,o),c=a.child,c.memoizedState=_h(o),c.childLanes=yh(i,y,o),a.memoizedState=mh,a=f);else if(fi(a),ef(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var O=y.dgst;y=O,c=Error(s(419)),c.stack="",c.digest=y,Qa({value:c,source:null,stack:null}),a=vh(i,a,o)}else if(fe||Ka(i,a,o,!1),y=(o&i.childLanes)!==0,fe||y){if(y=jt,y!==null&&(c=o&-o,c=(c&42)!==0?1:nu(c),c=(c&(y.suspendedLanes|o))!==0?0:c,c!==0&&c!==E.retryLane))throw E.retryLane=c,Is(i,c),Je(y,i,c),Nm;v.data==="$?"||Hh(),a=vh(i,a,o)}else v.data==="$?"?(a.flags|=192,a.child=i.child,a=null):(i=E.treeContext,Qt=_n(v.nextSibling),Oe=a,wt=!0,Xi=null,En=!1,i!==null&&(an[ln++]=In,an[ln++]=Bn,an[ln++]=Gi,In=i.id,Bn=i.overflow,Gi=a),a=bh(a,c.children),a.flags|=4096);return a}return f?(di(),f=c.fallback,v=a.mode,E=i.child,O=E.sibling,c=Ln(E,{mode:"hidden",children:c.children}),c.subtreeFlags=E.subtreeFlags&65011712,O!==null?f=Ln(O,f):(f=qi(f,v,o,null),f.flags|=2),f.return=a,c.return=a,c.sibling=f,a.child=c,c=f,f=a.child,v=i.child.memoizedState,v===null?v=_h(o):(E=v.cachePool,E!==null?(O=re._currentValue,E=E.parent!==O?{parent:O,pool:O}:E):E=Mp(),v={baseLanes:v.baseLanes|o,cachePool:E}),f.memoizedState=v,f.childLanes=yh(i,y,o),a.memoizedState=mh,c):(fi(a),o=i.child,i=o.sibling,o=Ln(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,i!==null&&(y=a.deletions,y===null?(a.deletions=[i],a.flags|=16):y.push(i)),a.child=o,a.memoizedState=null,o)}function bh(i,a){return a=yr({mode:"visible",children:a},i.mode),a.return=i,i.child=a}function yr(i,a){return i=Xe(22,i,null,a),i.lanes=0,i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},i}function vh(i,a,o){return Ws(a,i.child,null,o),i=bh(a,a.pendingProps.children),i.flags|=2,a.memoizedState=null,i}function Vm(i,a,o){i.lanes|=a;var c=i.alternate;c!==null&&(c.lanes|=a),Hu(i.return,a,o)}function Sh(i,a,o,c,f){var p=i.memoizedState;p===null?i.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function Ym(i,a,o){var c=a.pendingProps,f=c.revealOrder,p=c.tail;if(ve(i,a,c.children,o),c=ce.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(i!==null&&(i.flags&128)!==0)t:for(i=a.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Vm(i,o,a);else if(i.tag===19)Vm(i,o,a);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===a)break t;for(;i.sibling===null;){if(i.return===null||i.return===a)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}c&=1}switch(W(ce,c),f){case"forwards":for(o=a.child,f=null;o!==null;)i=o.alternate,i!==null&&gr(i)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),Sh(a,!1,f,o,p);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(i=f.alternate,i!==null&&gr(i)===null){a.child=f;break}i=f.sibling,f.sibling=o,o=f,f=i}Sh(a,!0,o,null,p);break;case"together":Sh(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Vn(i,a,o){if(i!==null&&(a.dependencies=i.dependencies),yi|=a.lanes,(o&a.childLanes)===0)if(i!==null){if(Ka(i,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(i!==null&&a.child!==i.child)throw Error(s(153));if(a.child!==null){for(i=a.child,o=Ln(i,i.pendingProps),a.child=o,o.return=a;i.sibling!==null;)i=i.sibling,o=o.sibling=Ln(i,i.pendingProps),o.return=a;o.sibling=null}return a.child}function xh(i,a){return(i.lanes&a)!==0?!0:(i=i.dependencies,!!(i!==null&&$o(i)))}function l1(i,a,o){switch(a.tag){case 3:lt(a,a.stateNode.containerInfo),oi(a,re,i.memoizedState.cache),Xa();break;case 27:case 5:ke(a);break;case 4:lt(a,a.stateNode.containerInfo);break;case 10:oi(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(fi(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Pm(i,a,o):(fi(a),i=Vn(i,a,o),i!==null?i.sibling:null);fi(a);break;case 19:var f=(i.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Ka(i,a,o,!1),c=(o&a.childLanes)!==0),f){if(c)return Ym(i,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),W(ce,ce.current),c)break;return null;case 22:case 23:return a.lanes=0,Im(i,a,o);case 24:oi(a,re,i.memoizedState.cache)}return Vn(i,a,o)}function Fm(i,a,o){if(i!==null)if(i.memoizedProps!==a.pendingProps)fe=!0;else{if(!xh(i,o)&&(a.flags&128)===0)return fe=!1,l1(i,a,o);fe=(i.flags&131072)!==0}else fe=!1,wt&&(a.flags&1048576)!==0&&vp(a,Zo,a.index);switch(a.lanes=0,a.tag){case 16:t:{i=a.pendingProps;var c=a.elementType,f=c._init;if(c=f(c._payload),a.type=c,typeof c=="function")Ru(c)?(i=ts(c,i),a.tag=1,a=Um(null,a,c,i,o)):(a.tag=0,a=ph(null,a,c,i,o));else{if(c!=null){if(f=c.$$typeof,f===Y){a.tag=11,a=km(null,a,c,i,o);break t}else if(f===X){a.tag=14,a=zm(null,a,c,i,o);break t}}throw a=Gt(c)||c,Error(s(306,a,""))}}return a;case 0:return ph(i,a,a.type,a.pendingProps,o);case 1:return c=a.type,f=ts(c,a.pendingProps),Um(i,a,c,f,o);case 3:t:{if(lt(a,a.stateNode.containerInfo),i===null)throw Error(s(387));c=a.pendingProps;var p=a.memoizedState;f=p.element,qu(i,a),il(a,c,null,o);var y=a.memoizedState;if(c=y.cache,oi(a,re,c),c!==p.cache&&Uu(a,[re],o,!0),nl(),c=y.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=jm(i,a,c,o);break t}else if(c!==f){f=nn(Error(s(424)),a),Qa(f),a=jm(i,a,c,o);break t}else{switch(i=a.stateNode.containerInfo,i.nodeType){case 9:i=i.body;break;default:i=i.nodeName==="HTML"?i.ownerDocument.body:i}for(Qt=_n(i.firstChild),Oe=a,wt=!0,Xi=null,En=!0,o=xm(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(Xa(),c===f){a=Vn(i,a,o);break t}ve(i,a,c,o)}a=a.child}return a;case 26:return _r(i,a),i===null?(o=X_(a.type,null,a.pendingProps,null))?a.memoizedState=o:wt||(o=a.type,i=a.pendingProps,c=Nr(et.current).createElement(o),c[Ce]=a,c[Le]=i,xe(c,o,i),he(c),a.stateNode=c):a.memoizedState=X_(a.type,i.memoizedProps,a.pendingProps,i.memoizedState),null;case 27:return ke(a),i===null&&wt&&(c=a.stateNode=q_(a.type,a.pendingProps,et.current),Oe=a,En=!0,f=Qt,xi(a.type)?(nf=f,Qt=_n(c.firstChild)):Qt=f),ve(i,a,a.pendingProps.children,o),_r(i,a),i===null&&(a.flags|=4194304),a.child;case 5:return i===null&&wt&&((f=c=Qt)&&(c=z1(c,a.type,a.pendingProps,En),c!==null?(a.stateNode=c,Oe=a,Qt=_n(c.firstChild),En=!1,f=!0):f=!1),f||Qi(a)),ke(a),f=a.type,p=a.pendingProps,y=i!==null?i.memoizedProps:null,c=p.children,$h(f,p)?c=null:y!==null&&$h(f,y)&&(a.flags|=32),a.memoizedState!==null&&(f=Zu(i,a,$x,null,null,o),Cl._currentValue=f),_r(i,a),ve(i,a,c,o),a.child;case 6:return i===null&&wt&&((i=o=Qt)&&(o=L1(o,a.pendingProps,En),o!==null?(a.stateNode=o,Oe=a,Qt=null,i=!0):i=!1),i||Qi(a)),null;case 13:return Pm(i,a,o);case 4:return lt(a,a.stateNode.containerInfo),c=a.pendingProps,i===null?a.child=Ws(a,null,c,o):ve(i,a,c,o),a.child;case 11:return km(i,a,a.type,a.pendingProps,o);case 7:return ve(i,a,a.pendingProps,o),a.child;case 8:return ve(i,a,a.pendingProps.children,o),a.child;case 12:return ve(i,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,oi(a,a.type,c.value),ve(i,a,c.children,o),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Zi(a),f=Ae(f),c=c(f),a.flags|=1,ve(i,a,c,o),a.child;case 14:return zm(i,a,a.type,a.pendingProps,o);case 15:return Lm(i,a,a.type,a.pendingProps,o);case 19:return Ym(i,a,o);case 31:return c=a.pendingProps,o=a.mode,c={mode:c.mode,children:c.children},i===null?(o=yr(c,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=Ln(i.child,c),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Im(i,a,o);case 24:return Zi(a),c=Ae(re),i===null?(f=Vu(),f===null&&(f=jt,p=ju(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),a.memoizedState={parent:c,cache:f},Fu(a),oi(a,re,f)):((i.lanes&o)!==0&&(qu(i,a),il(a,null,null,o),nl()),f=i.memoizedState,p=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),oi(a,re,c)):(c=p.cache,oi(a,re,c),c!==f.cache&&Uu(a,[re],o,!0))),ve(i,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function Yn(i){i.flags|=4}function qm(i,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)i.flags&=-16777217;else if(i.flags|=16777216,!J_(a)){if(a=on.current,a!==null&&((Ct&4194048)===Ct?Tn!==null:(Ct&62914560)!==Ct&&(Ct&536870912)===0||a!==Tn))throw tl=Yu,wp;i.flags|=8192}}function br(i,a){a!==null&&(i.flags|=4),i.flags&16384&&(a=i.tag!==22?Eg():536870912,i.lanes|=a,Zs|=a)}function ul(i,a){if(!wt)switch(i.tailMode){case"hidden":a=i.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?i.tail=null:o.sibling=null;break;case"collapsed":o=i.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||i.tail===null?i.tail=null:i.tail.sibling=null:c.sibling=null}}function Xt(i){var a=i.alternate!==null&&i.alternate.child===i.child,o=0,c=0;if(a)for(var f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=i,f=f.sibling;else for(f=i.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=i,f=f.sibling;return i.subtreeFlags|=c,i.childLanes=o,a}function o1(i,a,o){var c=a.pendingProps;switch(Lu(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(a),null;case 1:return Xt(a),null;case 3:return o=a.stateNode,c=null,i!==null&&(c=i.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Un(re),ee(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(i===null||i.child===null)&&(Wa(a)?Yn(a):i===null||i.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ep())),Xt(a),null;case 26:return o=a.memoizedState,i===null?(Yn(a),o!==null?(Xt(a),qm(a,o)):(Xt(a),a.flags&=-16777217)):o?o!==i.memoizedState?(Yn(a),Xt(a),qm(a,o)):(Xt(a),a.flags&=-16777217):(i.memoizedProps!==c&&Yn(a),Xt(a),a.flags&=-16777217),null;case 27:ze(a),o=et.current;var f=a.type;if(i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Yn(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Xt(a),null}i=tt.current,Wa(a)?Sp(a):(i=q_(f,c,o),a.stateNode=i,Yn(a))}return Xt(a),null;case 5:if(ze(a),o=a.type,i!==null&&a.stateNode!=null)i.memoizedProps!==c&&Yn(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Xt(a),null}if(i=tt.current,Wa(a))Sp(a);else{switch(f=Nr(et.current),i){case 1:i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":i=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":i=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":i=f.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?i.multiple=!0:c.size&&(i.size=c.size);break;default:i=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}i[Ce]=a,i[Le]=c;t:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)i.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break t;for(;f.sibling===null;){if(f.return===null||f.return===a)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=i;t:switch(xe(i,o,c),o){case"button":case"input":case"select":case"textarea":i=!!c.autoFocus;break t;case"img":i=!0;break t;default:i=!1}i&&Yn(a)}}return Xt(a),a.flags&=-16777217,null;case 6:if(i&&a.stateNode!=null)i.memoizedProps!==c&&Yn(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(i=et.current,Wa(a)){if(i=a.stateNode,o=a.memoizedProps,c=null,f=Oe,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}i[Ce]=a,i=!!(i.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||H_(i.nodeValue,o)),i||Qi(a)}else i=Nr(i).createTextNode(c),i[Ce]=a,a.stateNode=i}return Xt(a),null;case 13:if(c=a.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(f=Wa(a),c!==null&&c.dehydrated!==null){if(i===null){if(!f)throw Error(s(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Ce]=a}else Xa(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Xt(a),f=!1}else f=Ep(),i!==null&&i.memoizedState!==null&&(i.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(Pn(a),a):(Pn(a),null)}if(Pn(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,i=i!==null&&i.memoizedState!==null,o){c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return o!==i&&o&&(a.child.flags|=8192),br(a,a.updateQueue),Xt(a),null;case 4:return ee(),i===null&&Wh(a.stateNode.containerInfo),Xt(a),null;case 10:return Un(a.type),Xt(a),null;case 19:if(Q(ce),f=a.memoizedState,f===null)return Xt(a),null;if(c=(a.flags&128)!==0,p=f.rendering,p===null)if(c)ul(f,!1);else{if(Kt!==0||i!==null&&(i.flags&128)!==0)for(i=a.child;i!==null;){if(p=gr(i),p!==null){for(a.flags|=128,ul(f,!1),i=p.updateQueue,a.updateQueue=i,br(a,i),a.subtreeFlags=0,i=o,o=a.child;o!==null;)bp(o,i),o=o.sibling;return W(ce,ce.current&1|2),a.child}i=i.sibling}f.tail!==null&&xn()>xr&&(a.flags|=128,c=!0,ul(f,!1),a.lanes=4194304)}else{if(!c)if(i=gr(p),i!==null){if(a.flags|=128,c=!0,i=i.updateQueue,a.updateQueue=i,br(a,i),ul(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!wt)return Xt(a),null}else 2*xn()-f.renderingStartTime>xr&&o!==536870912&&(a.flags|=128,c=!0,ul(f,!1),a.lanes=4194304);f.isBackwards?(p.sibling=a.child,a.child=p):(i=f.last,i!==null?i.sibling=p:a.child=p,f.last=p)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=xn(),a.sibling=null,i=ce.current,W(ce,c?i&1|2:i&1),a):(Xt(a),null);case 22:case 23:return Pn(a),Qu(),c=a.memoizedState!==null,i!==null?i.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(Xt(a),a.subtreeFlags&6&&(a.flags|=8192)):Xt(a),o=a.updateQueue,o!==null&&br(a,o.retryQueue),o=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),i!==null&&Q($i),null;case 24:return o=null,i!==null&&(o=i.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Un(re),Xt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function r1(i,a){switch(Lu(a),a.tag){case 1:return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 3:return Un(re),ee(),i=a.flags,(i&65536)!==0&&(i&128)===0?(a.flags=i&-65537|128,a):null;case 26:case 27:case 5:return ze(a),null;case 13:if(Pn(a),i=a.memoizedState,i!==null&&i.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Xa()}return i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 19:return Q(ce),null;case 4:return ee(),null;case 10:return Un(a.type),null;case 22:case 23:return Pn(a),Qu(),i!==null&&Q($i),i=a.flags,i&65536?(a.flags=i&-65537|128,a):null;case 24:return Un(re),null;case 25:return null;default:return null}}function Gm(i,a){switch(Lu(a),a.tag){case 3:Un(re),ee();break;case 26:case 27:case 5:ze(a);break;case 4:ee();break;case 13:Pn(a);break;case 19:Q(ce);break;case 10:Un(a.type);break;case 22:case 23:Pn(a),Qu(),i!==null&&Q($i);break;case 24:Un(re)}}function hl(i,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&i)===i){c=void 0;var p=o.create,y=o.inst;c=p(),y.destroy=c}o=o.next}while(o!==f)}}catch(v){Ht(a,a.return,v)}}function gi(i,a,o){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&i)===i){var y=c.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,f=a;var E=o,O=v;try{O()}catch(I){Ht(f,E,I)}}}c=c.next}while(c!==p)}}catch(I){Ht(a,a.return,I)}}function Wm(i){var a=i.updateQueue;if(a!==null){var o=i.stateNode;try{zp(a,o)}catch(c){Ht(i,i.return,c)}}}function Xm(i,a,o){o.props=ts(i.type,i.memoizedProps),o.state=i.memoizedState;try{o.componentWillUnmount()}catch(c){Ht(i,a,c)}}function fl(i,a){try{var o=i.ref;if(o!==null){switch(i.tag){case 26:case 27:case 5:var c=i.stateNode;break;case 30:c=i.stateNode;break;default:c=i.stateNode}typeof o=="function"?i.refCleanup=o(c):o.current=c}}catch(f){Ht(i,a,f)}}function Cn(i,a){var o=i.ref,c=i.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Ht(i,a,f)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Ht(i,a,f)}else o.current=null}function Qm(i){var a=i.type,o=i.memoizedProps,c=i.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Ht(i,i.return,f)}}function Eh(i,a,o){try{var c=i.stateNode;D1(c,i.type,o,a),c[Le]=a}catch(f){Ht(i,i.return,f)}}function Km(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27&&xi(i.type)||i.tag===4}function Th(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||Km(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.tag===27&&xi(i.type)||i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Ch(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(i,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(i),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=Rr));else if(c!==4&&(c===27&&xi(i.type)&&(o=i.stateNode,a=null),i=i.child,i!==null))for(Ch(i,a,o),i=i.sibling;i!==null;)Ch(i,a,o),i=i.sibling}function vr(i,a,o){var c=i.tag;if(c===5||c===6)i=i.stateNode,a?o.insertBefore(i,a):o.appendChild(i);else if(c!==4&&(c===27&&xi(i.type)&&(o=i.stateNode),i=i.child,i!==null))for(vr(i,a,o),i=i.sibling;i!==null;)vr(i,a,o),i=i.sibling}function Zm(i){var a=i.stateNode,o=i.memoizedProps;try{for(var c=i.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);xe(a,c,o),a[Ce]=i,a[Le]=o}catch(p){Ht(i,i.return,p)}}var Fn=!1,ie=!1,Ah=!1,$m=typeof WeakSet=="function"?WeakSet:Set,de=null;function c1(i,a){if(i=i.containerInfo,Kh=Hr,i=cp(i),Tu(i)){if("selectionStart"in i)var o={start:i.selectionStart,end:i.selectionEnd};else t:{o=(o=i.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var y=0,v=-1,E=-1,O=0,I=0,H=i,R=null;e:for(;;){for(var N;H!==o||f!==0&&H.nodeType!==3||(v=y+f),H!==p||c!==0&&H.nodeType!==3||(E=y+c),H.nodeType===3&&(y+=H.nodeValue.length),(N=H.firstChild)!==null;)R=H,H=N;for(;;){if(H===i)break e;if(R===o&&++O===f&&(v=y),R===p&&++I===c&&(E=y),(N=H.nextSibling)!==null)break;H=R,R=H.parentNode}H=N}o=v===-1||E===-1?null:{start:v,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(Zh={focusedElem:i,selectionRange:o},Hr=!1,de=a;de!==null;)if(a=de,i=a.child,(a.subtreeFlags&1024)!==0&&i!==null)i.return=a,de=i;else for(;de!==null;){switch(a=de,p=a.alternate,i=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((i&1024)!==0&&p!==null){i=void 0,o=a,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var ct=ts(o.type,f,o.elementType===o.type);i=c.getSnapshotBeforeUpdate(ct,p),c.__reactInternalSnapshotBeforeUpdate=i}catch(ot){Ht(o,o.return,ot)}}break;case 3:if((i&1024)!==0){if(i=a.stateNode.containerInfo,o=i.nodeType,o===9)tf(i);else if(o===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":tf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((i&1024)!==0)throw Error(s(163))}if(i=a.sibling,i!==null){i.return=a.return,de=i;break}de=a.return}}function Jm(i,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:pi(i,o),c&4&&hl(5,o);break;case 1:if(pi(i,o),c&4)if(i=o.stateNode,a===null)try{i.componentDidMount()}catch(y){Ht(o,o.return,y)}else{var f=ts(o.type,a.memoizedProps);a=a.memoizedState;try{i.componentDidUpdate(f,a,i.__reactInternalSnapshotBeforeUpdate)}catch(y){Ht(o,o.return,y)}}c&64&&Wm(o),c&512&&fl(o,o.return);break;case 3:if(pi(i,o),c&64&&(i=o.updateQueue,i!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{zp(i,a)}catch(y){Ht(o,o.return,y)}}break;case 27:a===null&&c&4&&Zm(o);case 26:case 5:pi(i,o),a===null&&c&4&&Qm(o),c&512&&fl(o,o.return);break;case 12:pi(i,o);break;case 13:pi(i,o),c&4&&n_(i,o),c&64&&(i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null&&(o=y1.bind(null,o),I1(i,o))));break;case 22:if(c=o.memoizedState!==null||Fn,!c){a=a!==null&&a.memoizedState!==null||ie,f=Fn;var p=ie;Fn=c,(ie=a)&&!p?mi(i,o,(o.subtreeFlags&8772)!==0):pi(i,o),Fn=f,ie=p}break;case 30:break;default:pi(i,o)}}function t_(i){var a=i.alternate;a!==null&&(i.alternate=null,t_(a)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(a=i.stateNode,a!==null&&au(a)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Wt=null,He=!1;function qn(i,a,o){for(o=o.child;o!==null;)e_(i,a,o),o=o.sibling}function e_(i,a,o){if(qe&&typeof qe.onCommitFiberUnmount=="function")try{qe.onCommitFiberUnmount(ka,o)}catch{}switch(o.tag){case 26:ie||Cn(o,a),qn(i,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:ie||Cn(o,a);var c=Wt,f=He;xi(o.type)&&(Wt=o.stateNode,He=!1),qn(i,a,o),Sl(o.stateNode),Wt=c,He=f;break;case 5:ie||Cn(o,a);case 6:if(c=Wt,f=He,Wt=null,qn(i,a,o),Wt=c,He=f,Wt!==null)if(He)try{(Wt.nodeType===9?Wt.body:Wt.nodeName==="HTML"?Wt.ownerDocument.body:Wt).removeChild(o.stateNode)}catch(p){Ht(o,a,p)}else try{Wt.removeChild(o.stateNode)}catch(p){Ht(o,a,p)}break;case 18:Wt!==null&&(He?(i=Wt,Y_(i.nodeType===9?i.body:i.nodeName==="HTML"?i.ownerDocument.body:i,o.stateNode),Dl(i)):Y_(Wt,o.stateNode));break;case 4:c=Wt,f=He,Wt=o.stateNode.containerInfo,He=!0,qn(i,a,o),Wt=c,He=f;break;case 0:case 11:case 14:case 15:ie||gi(2,o,a),ie||gi(4,o,a),qn(i,a,o);break;case 1:ie||(Cn(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Xm(o,a,c)),qn(i,a,o);break;case 21:qn(i,a,o);break;case 22:ie=(c=ie)||o.memoizedState!==null,qn(i,a,o),ie=c;break;default:qn(i,a,o)}}function n_(i,a){if(a.memoizedState===null&&(i=a.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Dl(i)}catch(o){Ht(a,a.return,o)}}function u1(i){switch(i.tag){case 13:case 19:var a=i.stateNode;return a===null&&(a=i.stateNode=new $m),a;case 22:return i=i.stateNode,a=i._retryCache,a===null&&(a=i._retryCache=new $m),a;default:throw Error(s(435,i.tag))}}function Mh(i,a){var o=u1(i);a.forEach(function(c){var f=b1.bind(null,i,c);o.has(c)||(o.add(c),c.then(f,f))})}function Qe(i,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=i,y=a,v=y;t:for(;v!==null;){switch(v.tag){case 27:if(xi(v.type)){Wt=v.stateNode,He=!1;break t}break;case 5:Wt=v.stateNode,He=!1;break t;case 3:case 4:Wt=v.stateNode.containerInfo,He=!0;break t}v=v.return}if(Wt===null)throw Error(s(160));e_(p,y,f),Wt=null,He=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)i_(a,i),a=a.sibling}var mn=null;function i_(i,a){var o=i.alternate,c=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:Qe(a,i),Ke(i),c&4&&(gi(3,i,i.return),hl(3,i),gi(5,i,i.return));break;case 1:Qe(a,i),Ke(i),c&512&&(ie||o===null||Cn(o,o.return)),c&64&&Fn&&(i=i.updateQueue,i!==null&&(c=i.callbacks,c!==null&&(o=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=mn;if(Qe(a,i),Ke(i),c&512&&(ie||o===null||Cn(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=i.memoizedState,o===null)if(c===null)if(i.stateNode===null){t:{c=i.type,o=i.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[Ia]||p[Ce]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),xe(p,c,o),p[Ce]=i,he(p),c=p;break t;case"link":var y=Z_("link","href",f).get(c+(o.href||""));if(y){for(var v=0;v<y.length;v++)if(p=y[v],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(v,1);break e}}p=f.createElement(c),xe(p,c,o),f.head.appendChild(p);break;case"meta":if(y=Z_("meta","content",f).get(c+(o.content||""))){for(v=0;v<y.length;v++)if(p=y[v],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(v,1);break e}}p=f.createElement(c),xe(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[Ce]=i,he(p),c=p}i.stateNode=c}else $_(f,i.type,i.stateNode);else i.stateNode=K_(f,c,i.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?$_(f,i.type,i.stateNode):K_(f,c,i.memoizedProps)):c===null&&i.stateNode!==null&&Eh(i,i.memoizedProps,o.memoizedProps)}break;case 27:Qe(a,i),Ke(i),c&512&&(ie||o===null||Cn(o,o.return)),o!==null&&c&4&&Eh(i,i.memoizedProps,o.memoizedProps);break;case 5:if(Qe(a,i),Ke(i),c&512&&(ie||o===null||Cn(o,o.return)),i.flags&32){f=i.stateNode;try{Ds(f,"")}catch(N){Ht(i,i.return,N)}}c&4&&i.stateNode!=null&&(f=i.memoizedProps,Eh(i,f,o!==null?o.memoizedProps:f)),c&1024&&(Ah=!0);break;case 6:if(Qe(a,i),Ke(i),c&4){if(i.stateNode===null)throw Error(s(162));c=i.memoizedProps,o=i.stateNode;try{o.nodeValue=c}catch(N){Ht(i,i.return,N)}}break;case 3:if(Lr=null,f=mn,mn=kr(a.containerInfo),Qe(a,i),mn=f,Ke(i),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Dl(a.containerInfo)}catch(N){Ht(i,i.return,N)}Ah&&(Ah=!1,s_(i));break;case 4:c=mn,mn=kr(i.stateNode.containerInfo),Qe(a,i),Ke(i),mn=c;break;case 12:Qe(a,i),Ke(i);break;case 13:Qe(a,i),Ke(i),i.child.flags&8192&&i.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(kh=xn()),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 22:f=i.memoizedState!==null;var E=o!==null&&o.memoizedState!==null,O=Fn,I=ie;if(Fn=O||f,ie=I||E,Qe(a,i),ie=I,Fn=O,Ke(i),c&8192)t:for(a=i.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||E||Fn||ie||es(i)),o=null,a=i;;){if(a.tag===5||a.tag===26){if(o===null){E=o=a;try{if(p=E.stateNode,f)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=E.stateNode;var H=E.memoizedProps.style,R=H!=null&&H.hasOwnProperty("display")?H.display:null;v.style.display=R==null||typeof R=="boolean"?"":(""+R).trim()}}catch(N){Ht(E,E.return,N)}}}else if(a.tag===6){if(o===null){E=a;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(N){Ht(E,E.return,N)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===i)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===i)break t;for(;a.sibling===null;){if(a.return===null||a.return===i)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=i.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Mh(i,o))));break;case 19:Qe(a,i),Ke(i),c&4&&(c=i.updateQueue,c!==null&&(i.updateQueue=null,Mh(i,c)));break;case 30:break;case 21:break;default:Qe(a,i),Ke(i)}}function Ke(i){var a=i.flags;if(a&2){try{for(var o,c=i.return;c!==null;){if(Km(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=Th(i);vr(i,p,f);break;case 5:var y=o.stateNode;o.flags&32&&(Ds(y,""),o.flags&=-33);var v=Th(i);vr(i,v,y);break;case 3:case 4:var E=o.stateNode.containerInfo,O=Th(i);Ch(i,O,E);break;default:throw Error(s(161))}}catch(I){Ht(i,i.return,I)}i.flags&=-3}a&4096&&(i.flags&=-4097)}function s_(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var a=i;s_(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),i=i.sibling}}function pi(i,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)Jm(i,a.alternate,a),a=a.sibling}function es(i){for(i=i.child;i!==null;){var a=i;switch(a.tag){case 0:case 11:case 14:case 15:gi(4,a,a.return),es(a);break;case 1:Cn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Xm(a,a.return,o),es(a);break;case 27:Sl(a.stateNode);case 26:case 5:Cn(a,a.return),es(a);break;case 22:a.memoizedState===null&&es(a);break;case 30:es(a);break;default:es(a)}i=i.sibling}}function mi(i,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=i,p=a,y=p.flags;switch(p.tag){case 0:case 11:case 15:mi(f,p,o),hl(4,p);break;case 1:if(mi(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(O){Ht(c,c.return,O)}if(c=p,f=c.updateQueue,f!==null){var v=c.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)kp(E[f],v)}catch(O){Ht(c,c.return,O)}}o&&y&64&&Wm(p),fl(p,p.return);break;case 27:Zm(p);case 26:case 5:mi(f,p,o),o&&c===null&&y&4&&Qm(p),fl(p,p.return);break;case 12:mi(f,p,o);break;case 13:mi(f,p,o),o&&y&4&&n_(f,p);break;case 22:p.memoizedState===null&&mi(f,p,o),fl(p,p.return);break;case 30:break;default:mi(f,p,o)}a=a.sibling}}function wh(i,a){var o=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(o=i.memoizedState.cachePool.pool),i=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(i=a.memoizedState.cachePool.pool),i!==o&&(i!=null&&i.refCount++,o!=null&&Za(o))}function Dh(i,a){i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Za(i))}function An(i,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)a_(i,a,o,c),a=a.sibling}function a_(i,a,o,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:An(i,a,o,c),f&2048&&hl(9,a);break;case 1:An(i,a,o,c);break;case 3:An(i,a,o,c),f&2048&&(i=null,a.alternate!==null&&(i=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==i&&(a.refCount++,i!=null&&Za(i)));break;case 12:if(f&2048){An(i,a,o,c),i=a.stateNode;try{var p=a.memoizedProps,y=p.id,v=p.onPostCommit;typeof v=="function"&&v(y,a.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(E){Ht(a,a.return,E)}}else An(i,a,o,c);break;case 13:An(i,a,o,c);break;case 23:break;case 22:p=a.stateNode,y=a.alternate,a.memoizedState!==null?p._visibility&2?An(i,a,o,c):dl(i,a):p._visibility&2?An(i,a,o,c):(p._visibility|=2,Xs(i,a,o,c,(a.subtreeFlags&10256)!==0)),f&2048&&wh(y,a);break;case 24:An(i,a,o,c),f&2048&&Dh(a.alternate,a);break;default:An(i,a,o,c)}}function Xs(i,a,o,c,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=i,y=a,v=o,E=c,O=y.flags;switch(y.tag){case 0:case 11:case 15:Xs(p,y,v,E,f),hl(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?Xs(p,y,v,E,f):dl(p,y):(I._visibility|=2,Xs(p,y,v,E,f)),f&&O&2048&&wh(y.alternate,y);break;case 24:Xs(p,y,v,E,f),f&&O&2048&&Dh(y.alternate,y);break;default:Xs(p,y,v,E,f)}a=a.sibling}}function dl(i,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=i,c=a,f=c.flags;switch(c.tag){case 22:dl(o,c),f&2048&&wh(c.alternate,c);break;case 24:dl(o,c),f&2048&&Dh(c.alternate,c);break;default:dl(o,c)}a=a.sibling}}var gl=8192;function Qs(i){if(i.subtreeFlags&gl)for(i=i.child;i!==null;)l_(i),i=i.sibling}function l_(i){switch(i.tag){case 26:Qs(i),i.flags&gl&&i.memoizedState!==null&&Q1(mn,i.memoizedState,i.memoizedProps);break;case 5:Qs(i);break;case 3:case 4:var a=mn;mn=kr(i.stateNode.containerInfo),Qs(i),mn=a;break;case 22:i.memoizedState===null&&(a=i.alternate,a!==null&&a.memoizedState!==null?(a=gl,gl=16777216,Qs(i),gl=a):Qs(i));break;default:Qs(i)}}function o_(i){var a=i.alternate;if(a!==null&&(i=a.child,i!==null)){a.child=null;do a=i.sibling,i.sibling=null,i=a;while(i!==null)}}function pl(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];de=c,c_(c,i)}o_(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)r_(i),i=i.sibling}function r_(i){switch(i.tag){case 0:case 11:case 15:pl(i),i.flags&2048&&gi(9,i,i.return);break;case 3:pl(i);break;case 12:pl(i);break;case 22:var a=i.stateNode;i.memoizedState!==null&&a._visibility&2&&(i.return===null||i.return.tag!==13)?(a._visibility&=-3,Sr(i)):pl(i);break;default:pl(i)}}function Sr(i){var a=i.deletions;if((i.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];de=c,c_(c,i)}o_(i)}for(i=i.child;i!==null;){switch(a=i,a.tag){case 0:case 11:case 15:gi(8,a,a.return),Sr(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,Sr(a));break;default:Sr(a)}i=i.sibling}}function c_(i,a){for(;de!==null;){var o=de;switch(o.tag){case 0:case 11:case 15:gi(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Za(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,de=c;else t:for(o=i;de!==null;){c=de;var f=c.sibling,p=c.return;if(t_(c),c===o){de=null;break t}if(f!==null){f.return=p,de=f;break t}de=p}}}var h1={getCacheForType:function(i){var a=Ae(re),o=a.data.get(i);return o===void 0&&(o=i(),a.data.set(i,o)),o}},f1=typeof WeakMap=="function"?WeakMap:Map,Ot=0,jt=null,St=null,Ct=0,Rt=0,Ze=null,_i=!1,Ks=!1,Oh=!1,Gn=0,Kt=0,yi=0,ns=0,Rh=0,rn=0,Zs=0,ml=null,Ue=null,Nh=!1,kh=0,xr=1/0,Er=null,bi=null,Se=0,vi=null,$s=null,Js=0,zh=0,Lh=null,u_=null,_l=0,Ih=null;function $e(){if((Ot&2)!==0&&Ct!==0)return Ct&-Ct;if(k.T!==null){var i=js;return i!==0?i:Yh()}return Ag()}function h_(){rn===0&&(rn=(Ct&536870912)===0||wt?xg():536870912);var i=on.current;return i!==null&&(i.flags|=32),rn}function Je(i,a,o){(i===jt&&(Rt===2||Rt===9)||i.cancelPendingCommit!==null)&&(ta(i,0),Si(i,Ct,rn,!1)),La(i,o),((Ot&2)===0||i!==jt)&&(i===jt&&((Ot&2)===0&&(ns|=o),Kt===4&&Si(i,Ct,rn,!1)),Mn(i))}function f_(i,a,o){if((Ot&6)!==0)throw Error(s(327));var c=!o&&(a&124)===0&&(a&i.expiredLanes)===0||za(i,a),f=c?p1(i,a):Uh(i,a,!0),p=c;do{if(f===0){Ks&&!c&&Si(i,a,0,!1);break}else{if(o=i.current.alternate,p&&!d1(o)){f=Uh(i,a,!1),p=!1;continue}if(f===2){if(p=a,i.errorRecoveryDisabledLanes&p)var y=0;else y=i.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;t:{var v=i;f=ml;var E=v.current.memoizedState.isDehydrated;if(E&&(ta(v,y).flags|=256),y=Uh(v,y,!1),y!==2){if(Oh&&!E){v.errorRecoveryDisabledLanes|=p,ns|=p,f=4;break t}p=Ue,Ue=f,p!==null&&(Ue===null?Ue=p:Ue.push.apply(Ue,p))}f=y}if(p=!1,f!==2)continue}}if(f===1){ta(i,0),Si(i,a,0,!0);break}t:{switch(c=i,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:Si(c,a,rn,!_i);break t;case 2:Ue=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(f=kh+300-xn(),10<f)){if(Si(c,a,rn,!_i),zo(c,0,!0)!==0)break t;c.timeoutHandle=P_(d_.bind(null,c,o,Ue,Er,Nh,a,rn,ns,Zs,_i,p,2,-0,0),f);break t}d_(c,o,Ue,Er,Nh,a,rn,ns,Zs,_i,p,0,-0,0)}}break}while(!0);Mn(i)}function d_(i,a,o,c,f,p,y,v,E,O,I,H,R,N){if(i.timeoutHandle=-1,H=a.subtreeFlags,(H&8192||(H&16785408)===16785408)&&(Tl={stylesheets:null,count:0,unsuspend:X1},l_(a),H=K1(),H!==null)){i.cancelPendingCommit=H(v_.bind(null,i,a,p,o,c,f,y,v,E,I,1,R,N)),Si(i,p,y,!O);return}v_(i,a,p,o,c,f,y,v,E)}function d1(i){for(var a=i;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!We(p(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===i)break;for(;a.sibling===null;){if(a.return===null||a.return===i)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Si(i,a,o,c){a&=~Rh,a&=~ns,i.suspendedLanes|=a,i.pingedLanes&=~a,c&&(i.warmLanes|=a),c=i.expirationTimes;for(var f=a;0<f;){var p=31-Ge(f),y=1<<p;c[p]=-1,f&=~y}o!==0&&Tg(i,o,a)}function Tr(){return(Ot&6)===0?(yl(0),!1):!0}function Bh(){if(St!==null){if(Rt===0)var i=St.return;else i=St,Hn=Ki=null,th(i),Gs=null,rl=0,i=St;for(;i!==null;)Gm(i.alternate,i),i=i.return;St=null}}function ta(i,a){var o=i.timeoutHandle;o!==-1&&(i.timeoutHandle=-1,R1(o)),o=i.cancelPendingCommit,o!==null&&(i.cancelPendingCommit=null,o()),Bh(),jt=i,St=o=Ln(i.current,null),Ct=a,Rt=0,Ze=null,_i=!1,Ks=za(i,a),Oh=!1,Zs=rn=Rh=ns=yi=Kt=0,Ue=ml=null,Nh=!1,(a&8)!==0&&(a|=a&32);var c=i.entangledLanes;if(c!==0)for(i=i.entanglements,c&=a;0<c;){var f=31-Ge(c),p=1<<f;a|=i[f],c&=~p}return Gn=a,Go(),o}function g_(i,a){_t=null,k.H=hr,a===Ja||a===er?(a=Rp(),Rt=3):a===wp?(a=Rp(),Rt=4):Rt=a===Nm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ze=a,St===null&&(Kt=1,mr(i,nn(a,i.current)))}function p_(){var i=k.H;return k.H=hr,i===null?hr:i}function m_(){var i=k.A;return k.A=h1,i}function Hh(){Kt=4,_i||(Ct&4194048)!==Ct&&on.current!==null||(Ks=!0),(yi&134217727)===0&&(ns&134217727)===0||jt===null||Si(jt,Ct,rn,!1)}function Uh(i,a,o){var c=Ot;Ot|=2;var f=p_(),p=m_();(jt!==i||Ct!==a)&&(Er=null,ta(i,a)),a=!1;var y=Kt;t:do try{if(Rt!==0&&St!==null){var v=St,E=Ze;switch(Rt){case 8:Bh(),y=6;break t;case 3:case 2:case 9:case 6:on.current===null&&(a=!0);var O=Rt;if(Rt=0,Ze=null,ea(i,v,E,O),o&&Ks){y=0;break t}break;default:O=Rt,Rt=0,Ze=null,ea(i,v,E,O)}}g1(),y=Kt;break}catch(I){g_(i,I)}while(!0);return a&&i.shellSuspendCounter++,Hn=Ki=null,Ot=c,k.H=f,k.A=p,St===null&&(jt=null,Ct=0,Go()),y}function g1(){for(;St!==null;)__(St)}function p1(i,a){var o=Ot;Ot|=2;var c=p_(),f=m_();jt!==i||Ct!==a?(Er=null,xr=xn()+500,ta(i,a)):Ks=za(i,a);t:do try{if(Rt!==0&&St!==null){a=St;var p=Ze;e:switch(Rt){case 1:Rt=0,Ze=null,ea(i,a,p,1);break;case 2:case 9:if(Dp(p)){Rt=0,Ze=null,y_(a);break}a=function(){Rt!==2&&Rt!==9||jt!==i||(Rt=7),Mn(i)},p.then(a,a);break t;case 3:Rt=7;break t;case 4:Rt=5;break t;case 7:Dp(p)?(Rt=0,Ze=null,y_(a)):(Rt=0,Ze=null,ea(i,a,p,7));break;case 5:var y=null;switch(St.tag){case 26:y=St.memoizedState;case 5:case 27:var v=St;if(!y||J_(y)){Rt=0,Ze=null;var E=v.sibling;if(E!==null)St=E;else{var O=v.return;O!==null?(St=O,Cr(O)):St=null}break e}}Rt=0,Ze=null,ea(i,a,p,5);break;case 6:Rt=0,Ze=null,ea(i,a,p,6);break;case 8:Bh(),Kt=6;break t;default:throw Error(s(462))}}m1();break}catch(I){g_(i,I)}while(!0);return Hn=Ki=null,k.H=c,k.A=f,Ot=o,St!==null?0:(jt=null,Ct=0,Go(),Kt)}function m1(){for(;St!==null&&!HS();)__(St)}function __(i){var a=Fm(i.alternate,i,Gn);i.memoizedProps=i.pendingProps,a===null?Cr(i):St=a}function y_(i){var a=i,o=a.alternate;switch(a.tag){case 15:case 0:a=Hm(o,a,a.pendingProps,a.type,void 0,Ct);break;case 11:a=Hm(o,a,a.pendingProps,a.type.render,a.ref,Ct);break;case 5:th(a);default:Gm(o,a),a=St=bp(a,Gn),a=Fm(o,a,Gn)}i.memoizedProps=i.pendingProps,a===null?Cr(i):St=a}function ea(i,a,o,c){Hn=Ki=null,th(a),Gs=null,rl=0;var f=a.return;try{if(a1(i,f,a,o,Ct)){Kt=1,mr(i,nn(o,i.current)),St=null;return}}catch(p){if(f!==null)throw St=f,p;Kt=1,mr(i,nn(o,i.current)),St=null;return}a.flags&32768?(wt||c===1?i=!0:Ks||(Ct&536870912)!==0?i=!1:(_i=i=!0,(c===2||c===9||c===3||c===6)&&(c=on.current,c!==null&&c.tag===13&&(c.flags|=16384))),b_(a,i)):Cr(a)}function Cr(i){var a=i;do{if((a.flags&32768)!==0){b_(a,_i);return}i=a.return;var o=o1(a.alternate,a,Gn);if(o!==null){St=o;return}if(a=a.sibling,a!==null){St=a;return}St=a=i}while(a!==null);Kt===0&&(Kt=5)}function b_(i,a){do{var o=r1(i.alternate,i);if(o!==null){o.flags&=32767,St=o;return}if(o=i.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(i=i.sibling,i!==null)){St=i;return}St=i=o}while(i!==null);Kt=6,St=null}function v_(i,a,o,c,f,p,y,v,E){i.cancelPendingCommit=null;do Ar();while(Se!==0);if((Ot&6)!==0)throw Error(s(327));if(a!==null){if(a===i.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=Du,XS(i,o,p,y,v,E),i===jt&&(St=jt=null,Ct=0),$s=a,vi=i,Js=o,zh=p,Lh=f,u_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(i.callbackNode=null,i.callbackPriority=0,v1(Ro,function(){return C_(),null})):(i.callbackNode=null,i.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=k.T,k.T=null,f=V.p,V.p=2,y=Ot,Ot|=4;try{c1(i,a,o)}finally{Ot=y,V.p=f,k.T=c}}Se=1,S_(),x_(),E_()}}function S_(){if(Se===1){Se=0;var i=vi,a=$s,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=k.T,k.T=null;var c=V.p;V.p=2;var f=Ot;Ot|=4;try{i_(a,i);var p=Zh,y=cp(i.containerInfo),v=p.focusedElem,E=p.selectionRange;if(y!==v&&v&&v.ownerDocument&&rp(v.ownerDocument.documentElement,v)){if(E!==null&&Tu(v)){var O=E.start,I=E.end;if(I===void 0&&(I=O),"selectionStart"in v)v.selectionStart=O,v.selectionEnd=Math.min(I,v.value.length);else{var H=v.ownerDocument||document,R=H&&H.defaultView||window;if(R.getSelection){var N=R.getSelection(),ct=v.textContent.length,ot=Math.min(E.start,ct),Lt=E.end===void 0?ot:Math.min(E.end,ct);!N.extend&&ot>Lt&&(y=Lt,Lt=ot,ot=y);var w=op(v,ot),M=op(v,Lt);if(w&&M&&(N.rangeCount!==1||N.anchorNode!==w.node||N.anchorOffset!==w.offset||N.focusNode!==M.node||N.focusOffset!==M.offset)){var D=H.createRange();D.setStart(w.node,w.offset),N.removeAllRanges(),ot>Lt?(N.addRange(D),N.extend(M.node,M.offset)):(D.setEnd(M.node,M.offset),N.addRange(D))}}}}for(H=[],N=v;N=N.parentNode;)N.nodeType===1&&H.push({element:N,left:N.scrollLeft,top:N.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<H.length;v++){var B=H[v];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Hr=!!Kh,Zh=Kh=null}finally{Ot=f,V.p=c,k.T=o}}i.current=a,Se=2}}function x_(){if(Se===2){Se=0;var i=vi,a=$s,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=k.T,k.T=null;var c=V.p;V.p=2;var f=Ot;Ot|=4;try{Jm(i,a.alternate,a)}finally{Ot=f,V.p=c,k.T=o}}Se=3}}function E_(){if(Se===4||Se===3){Se=0,US();var i=vi,a=$s,o=Js,c=u_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Se=5:(Se=0,$s=vi=null,T_(i,i.pendingLanes));var f=i.pendingLanes;if(f===0&&(bi=null),iu(o),a=a.stateNode,qe&&typeof qe.onCommitFiberRoot=="function")try{qe.onCommitFiberRoot(ka,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=k.T,f=V.p,V.p=2,k.T=null;try{for(var p=i.onRecoverableError,y=0;y<c.length;y++){var v=c[y];p(v.value,{componentStack:v.stack})}}finally{k.T=a,V.p=f}}(Js&3)!==0&&Ar(),Mn(i),f=i.pendingLanes,(o&4194090)!==0&&(f&42)!==0?i===Ih?_l++:(_l=0,Ih=i):_l=0,yl(0)}}function T_(i,a){(i.pooledCacheLanes&=a)===0&&(a=i.pooledCache,a!=null&&(i.pooledCache=null,Za(a)))}function Ar(i){return S_(),x_(),E_(),C_()}function C_(){if(Se!==5)return!1;var i=vi,a=zh;zh=0;var o=iu(Js),c=k.T,f=V.p;try{V.p=32>o?32:o,k.T=null,o=Lh,Lh=null;var p=vi,y=Js;if(Se=0,$s=vi=null,Js=0,(Ot&6)!==0)throw Error(s(331));var v=Ot;if(Ot|=4,r_(p.current),a_(p,p.current,y,o),Ot=v,yl(0,!1),qe&&typeof qe.onPostCommitFiberRoot=="function")try{qe.onPostCommitFiberRoot(ka,p)}catch{}return!0}finally{V.p=f,k.T=c,T_(i,a)}}function A_(i,a,o){a=nn(o,a),a=gh(i.stateNode,a,2),i=ui(i,a,2),i!==null&&(La(i,2),Mn(i))}function Ht(i,a,o){if(i.tag===3)A_(i,i,o);else for(;a!==null;){if(a.tag===3){A_(a,i,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(bi===null||!bi.has(c))){i=nn(o,i),o=Om(2),c=ui(a,o,2),c!==null&&(Rm(o,c,a,i),La(c,2),Mn(c));break}}a=a.return}}function jh(i,a,o){var c=i.pingCache;if(c===null){c=i.pingCache=new f1;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(o)||(Oh=!0,f.add(o),i=_1.bind(null,i,a,o),a.then(i,i))}function _1(i,a,o){var c=i.pingCache;c!==null&&c.delete(a),i.pingedLanes|=i.suspendedLanes&o,i.warmLanes&=~o,jt===i&&(Ct&o)===o&&(Kt===4||Kt===3&&(Ct&62914560)===Ct&&300>xn()-kh?(Ot&2)===0&&ta(i,0):Rh|=o,Zs===Ct&&(Zs=0)),Mn(i)}function M_(i,a){a===0&&(a=Eg()),i=Is(i,a),i!==null&&(La(i,a),Mn(i))}function y1(i){var a=i.memoizedState,o=0;a!==null&&(o=a.retryLane),M_(i,o)}function b1(i,a){var o=0;switch(i.tag){case 13:var c=i.stateNode,f=i.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=i.stateNode;break;case 22:c=i.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),M_(i,o)}function v1(i,a){return ae(i,a)}var Mr=null,na=null,Ph=!1,wr=!1,Vh=!1,is=0;function Mn(i){i!==na&&i.next===null&&(na===null?Mr=na=i:na=na.next=i),wr=!0,Ph||(Ph=!0,x1())}function yl(i,a){if(!Vh&&wr){Vh=!0;do for(var o=!1,c=Mr;c!==null;){if(i!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var y=c.suspendedLanes,v=c.pingedLanes;p=(1<<31-Ge(42|i)+1)-1,p&=f&~(y&~v),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,R_(c,p))}else p=Ct,p=zo(c,c===jt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||za(c,p)||(o=!0,R_(c,p));c=c.next}while(o);Vh=!1}}function S1(){w_()}function w_(){wr=Ph=!1;var i=0;is!==0&&(O1()&&(i=is),is=0);for(var a=xn(),o=null,c=Mr;c!==null;){var f=c.next,p=D_(c,a);p===0?(c.next=null,o===null?Mr=f:o.next=f,f===null&&(na=o)):(o=c,(i!==0||(p&3)!==0)&&(wr=!0)),c=f}yl(i)}function D_(i,a){for(var o=i.suspendedLanes,c=i.pingedLanes,f=i.expirationTimes,p=i.pendingLanes&-62914561;0<p;){var y=31-Ge(p),v=1<<y,E=f[y];E===-1?((v&o)===0||(v&c)!==0)&&(f[y]=WS(v,a)):E<=a&&(i.expiredLanes|=v),p&=~v}if(a=jt,o=Ct,o=zo(i,i===a?o:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c=i.callbackNode,o===0||i===a&&(Rt===2||Rt===9)||i.cancelPendingCommit!==null)return c!==null&&c!==null&&ii(c),i.callbackNode=null,i.callbackPriority=0;if((o&3)===0||za(i,o)){if(a=o&-o,a===i.callbackPriority)return a;switch(c!==null&&ii(c),iu(o)){case 2:case 8:o=vg;break;case 32:o=Ro;break;case 268435456:o=Sg;break;default:o=Ro}return c=O_.bind(null,i),o=ae(o,c),i.callbackPriority=a,i.callbackNode=o,a}return c!==null&&c!==null&&ii(c),i.callbackPriority=2,i.callbackNode=null,2}function O_(i,a){if(Se!==0&&Se!==5)return i.callbackNode=null,i.callbackPriority=0,null;var o=i.callbackNode;if(Ar()&&i.callbackNode!==o)return null;var c=Ct;return c=zo(i,i===jt?c:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),c===0?null:(f_(i,c,a),D_(i,xn()),i.callbackNode!=null&&i.callbackNode===o?O_.bind(null,i):null)}function R_(i,a){if(Ar())return null;f_(i,a,!0)}function x1(){N1(function(){(Ot&6)!==0?ae(bg,S1):w_()})}function Yh(){return is===0&&(is=xg()),is}function N_(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Uo(""+i)}function k_(i,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,i.id&&o.setAttribute("form",i.id),a.parentNode.insertBefore(o,a),i=new FormData(i),o.parentNode.removeChild(o),i}function E1(i,a,o,c,f){if(a==="submit"&&o&&o.stateNode===f){var p=N_((f[Le]||null).action),y=c.submitter;y&&(a=(a=y[Le]||null)?N_(a.formAction):y.getAttribute("formAction"),a!==null&&(p=a,y=null));var v=new Yo("action","action",null,c,f);i.push({event:v,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(is!==0){var E=y?k_(f,y):new FormData(f);ch(o,{pending:!0,data:E,method:f.method,action:p},null,E)}}else typeof p=="function"&&(v.preventDefault(),E=y?k_(f,y):new FormData(f),ch(o,{pending:!0,data:E,method:f.method,action:p},p,E))},currentTarget:f}]})}}for(var Fh=0;Fh<wu.length;Fh++){var qh=wu[Fh],T1=qh.toLowerCase(),C1=qh[0].toUpperCase()+qh.slice(1);pn(T1,"on"+C1)}pn(fp,"onAnimationEnd"),pn(dp,"onAnimationIteration"),pn(gp,"onAnimationStart"),pn("dblclick","onDoubleClick"),pn("focusin","onFocus"),pn("focusout","onBlur"),pn(Vx,"onTransitionRun"),pn(Yx,"onTransitionStart"),pn(Fx,"onTransitionCancel"),pn(pp,"onTransitionEnd"),As("onMouseEnter",["mouseout","mouseover"]),As("onMouseLeave",["mouseout","mouseover"]),As("onPointerEnter",["pointerout","pointerover"]),As("onPointerLeave",["pointerout","pointerover"]),Pi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var bl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),A1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(bl));function z_(i,a){a=(a&4)!==0;for(var o=0;o<i.length;o++){var c=i[o],f=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var y=c.length-1;0<=y;y--){var v=c[y],E=v.instance,O=v.currentTarget;if(v=v.listener,E!==p&&f.isPropagationStopped())break t;p=v,f.currentTarget=O;try{p(f)}catch(I){pr(I)}f.currentTarget=null,p=E}else for(y=0;y<c.length;y++){if(v=c[y],E=v.instance,O=v.currentTarget,v=v.listener,E!==p&&f.isPropagationStopped())break t;p=v,f.currentTarget=O;try{p(f)}catch(I){pr(I)}f.currentTarget=null,p=E}}}}function xt(i,a){var o=a[su];o===void 0&&(o=a[su]=new Set);var c=i+"__bubble";o.has(c)||(L_(a,i,2,!1),o.add(c))}function Gh(i,a,o){var c=0;a&&(c|=4),L_(o,i,c,a)}var Dr="_reactListening"+Math.random().toString(36).slice(2);function Wh(i){if(!i[Dr]){i[Dr]=!0,wg.forEach(function(o){o!=="selectionchange"&&(A1.has(o)||Gh(o,!1,i),Gh(o,!0,i))});var a=i.nodeType===9?i:i.ownerDocument;a===null||a[Dr]||(a[Dr]=!0,Gh("selectionchange",!1,a))}}function L_(i,a,o,c){switch(ay(a)){case 2:var f=J1;break;case 8:f=tE;break;default:f=rf}o=f.bind(null,a,o,i),f=void 0,!pu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?i.addEventListener(a,o,{capture:!0,passive:f}):i.addEventListener(a,o,!0):f!==void 0?i.addEventListener(a,o,{passive:f}):i.addEventListener(a,o,!1)}function Xh(i,a,o,c,f){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var v=c.stateNode.containerInfo;if(v===f)break;if(y===4)for(y=c.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;v!==null;){if(y=Es(v),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){c=p=y;continue t}v=v.parentNode}}c=c.return}Vg(function(){var O=p,I=du(o),H=[];t:{var R=mp.get(i);if(R!==void 0){var N=Yo,ct=i;switch(i){case"keypress":if(Po(o)===0)break t;case"keydown":case"keyup":N=vx;break;case"focusin":ct="focus",N=bu;break;case"focusout":ct="blur",N=bu;break;case"beforeblur":case"afterblur":N=bu;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":N=qg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":N=rx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":N=Ex;break;case fp:case dp:case gp:N=hx;break;case pp:N=Cx;break;case"scroll":case"scrollend":N=lx;break;case"wheel":N=Mx;break;case"copy":case"cut":case"paste":N=dx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":N=Wg;break;case"toggle":case"beforetoggle":N=Dx}var ot=(a&4)!==0,Lt=!ot&&(i==="scroll"||i==="scrollend"),w=ot?R!==null?R+"Capture":null:R;ot=[];for(var M=O,D;M!==null;){var B=M;if(D=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||D===null||w===null||(B=Ha(M,w),B!=null&&ot.push(vl(M,B,D))),Lt)break;M=M.return}0<ot.length&&(R=new N(R,ct,null,o,I),H.push({event:R,listeners:ot}))}}if((a&7)===0){t:{if(R=i==="mouseover"||i==="pointerover",N=i==="mouseout"||i==="pointerout",R&&o!==fu&&(ct=o.relatedTarget||o.fromElement)&&(Es(ct)||ct[xs]))break t;if((N||R)&&(R=I.window===I?I:(R=I.ownerDocument)?R.defaultView||R.parentWindow:window,N?(ct=o.relatedTarget||o.toElement,N=O,ct=ct?Es(ct):null,ct!==null&&(Lt=r(ct),ot=ct.tag,ct!==Lt||ot!==5&&ot!==27&&ot!==6)&&(ct=null)):(N=null,ct=O),N!==ct)){if(ot=qg,B="onMouseLeave",w="onMouseEnter",M="mouse",(i==="pointerout"||i==="pointerover")&&(ot=Wg,B="onPointerLeave",w="onPointerEnter",M="pointer"),Lt=N==null?R:Ba(N),D=ct==null?R:Ba(ct),R=new ot(B,M+"leave",N,o,I),R.target=Lt,R.relatedTarget=D,B=null,Es(I)===O&&(ot=new ot(w,M+"enter",ct,o,I),ot.target=D,ot.relatedTarget=Lt,B=ot),Lt=B,N&&ct)e:{for(ot=N,w=ct,M=0,D=ot;D;D=ia(D))M++;for(D=0,B=w;B;B=ia(B))D++;for(;0<M-D;)ot=ia(ot),M--;for(;0<D-M;)w=ia(w),D--;for(;M--;){if(ot===w||w!==null&&ot===w.alternate)break e;ot=ia(ot),w=ia(w)}ot=null}else ot=null;N!==null&&I_(H,R,N,ot,!1),ct!==null&&Lt!==null&&I_(H,Lt,ct,ot,!0)}}t:{if(R=O?Ba(O):window,N=R.nodeName&&R.nodeName.toLowerCase(),N==="select"||N==="input"&&R.type==="file")var $=ep;else if(Jg(R))if(np)$=Ux;else{$=Bx;var yt=Ix}else N=R.nodeName,!N||N.toLowerCase()!=="input"||R.type!=="checkbox"&&R.type!=="radio"?O&&hu(O.elementType)&&($=ep):$=Hx;if($&&($=$(i,O))){tp(H,$,o,I);break t}yt&&yt(i,R,O),i==="focusout"&&O&&R.type==="number"&&O.memoizedProps.value!=null&&uu(R,"number",R.value)}switch(yt=O?Ba(O):window,i){case"focusin":(Jg(yt)||yt.contentEditable==="true")&&(ks=yt,Cu=O,Ga=null);break;case"focusout":Ga=Cu=ks=null;break;case"mousedown":Au=!0;break;case"contextmenu":case"mouseup":case"dragend":Au=!1,up(H,o,I);break;case"selectionchange":if(Px)break;case"keydown":case"keyup":up(H,o,I)}var nt;if(Su)t:{switch(i){case"compositionstart":var rt="onCompositionStart";break t;case"compositionend":rt="onCompositionEnd";break t;case"compositionupdate":rt="onCompositionUpdate";break t}rt=void 0}else Ns?Zg(i,o)&&(rt="onCompositionEnd"):i==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(Xg&&o.locale!=="ko"&&(Ns||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&Ns&&(nt=Yg()):(li=I,mu="value"in li?li.value:li.textContent,Ns=!0)),yt=Or(O,rt),0<yt.length&&(rt=new Gg(rt,i,null,o,I),H.push({event:rt,listeners:yt}),nt?rt.data=nt:(nt=$g(o),nt!==null&&(rt.data=nt)))),(nt=Rx?Nx(i,o):kx(i,o))&&(rt=Or(O,"onBeforeInput"),0<rt.length&&(yt=new Gg("onBeforeInput","beforeinput",null,o,I),H.push({event:yt,listeners:rt}),yt.data=nt)),E1(H,i,O,o,I)}z_(H,a)})}function vl(i,a,o){return{instance:i,listener:a,currentTarget:o}}function Or(i,a){for(var o=a+"Capture",c=[];i!==null;){var f=i,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Ha(i,o),f!=null&&c.unshift(vl(i,f,p)),f=Ha(i,a),f!=null&&c.push(vl(i,f,p))),i.tag===3)return c;i=i.return}return[]}function ia(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function I_(i,a,o,c,f){for(var p=a._reactName,y=[];o!==null&&o!==c;){var v=o,E=v.alternate,O=v.stateNode;if(v=v.tag,E!==null&&E===c)break;v!==5&&v!==26&&v!==27||O===null||(E=O,f?(O=Ha(o,p),O!=null&&y.unshift(vl(o,O,E))):f||(O=Ha(o,p),O!=null&&y.push(vl(o,O,E)))),o=o.return}y.length!==0&&i.push({event:a,listeners:y})}var M1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function B_(i){return(typeof i=="string"?i:""+i).replace(M1,`
`).replace(w1,"")}function H_(i,a){return a=B_(a),B_(i)===a}function Rr(){}function zt(i,a,o,c,f,p){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Ds(i,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Ds(i,""+c);break;case"className":Io(i,"class",c);break;case"tabIndex":Io(i,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Io(i,o,c);break;case"style":jg(i,c,p);break;case"data":if(a!=="object"){Io(i,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){i.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Uo(""+c),i.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){i.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&zt(i,a,"name",f.name,f,null),zt(i,a,"formEncType",f.formEncType,f,null),zt(i,a,"formMethod",f.formMethod,f,null),zt(i,a,"formTarget",f.formTarget,f,null)):(zt(i,a,"encType",f.encType,f,null),zt(i,a,"method",f.method,f,null),zt(i,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){i.removeAttribute(o);break}c=Uo(""+c),i.setAttribute(o,c);break;case"onClick":c!=null&&(i.onclick=Rr);break;case"onScroll":c!=null&&xt("scroll",i);break;case"onScrollEnd":c!=null&&xt("scrollend",i);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"multiple":i.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":i.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){i.removeAttribute("xlink:href");break}o=Uo(""+c),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""+c):i.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,""):i.removeAttribute(o);break;case"capture":case"download":c===!0?i.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?i.setAttribute(o,c):i.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?i.setAttribute(o,c):i.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?i.removeAttribute(o):i.setAttribute(o,c);break;case"popover":xt("beforetoggle",i),xt("toggle",i),Lo(i,"popover",c);break;case"xlinkActuate":kn(i,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":kn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":kn(i,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":kn(i,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":kn(i,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":kn(i,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":kn(i,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":kn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":kn(i,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Lo(i,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=sx.get(o)||o,Lo(i,o,c))}}function Qh(i,a,o,c,f,p){switch(o){case"style":jg(i,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));i.innerHTML=o}}break;case"children":typeof c=="string"?Ds(i,c):(typeof c=="number"||typeof c=="bigint")&&Ds(i,""+c);break;case"onScroll":c!=null&&xt("scroll",i);break;case"onScrollEnd":c!=null&&xt("scrollend",i);break;case"onClick":c!=null&&(i.onclick=Rr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Dg.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),p=i[Le]||null,p=p!=null?p[o]:null,typeof p=="function"&&i.removeEventListener(a,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in i?i[o]=null:i.hasAttribute(o)&&i.removeAttribute(o)),i.addEventListener(a,c,f);break t}o in i?i[o]=c:c===!0?i.setAttribute(o,""):Lo(i,o,c)}}}function xe(i,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xt("error",i),xt("load",i);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var y=o[p];if(y!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:zt(i,a,p,y,o,null)}}f&&zt(i,a,"srcSet",o.srcSet,o,null),c&&zt(i,a,"src",o.src,o,null);return;case"input":xt("invalid",i);var v=p=y=f=null,E=null,O=null;for(c in o)if(o.hasOwnProperty(c)){var I=o[c];if(I!=null)switch(c){case"name":f=I;break;case"type":y=I;break;case"checked":E=I;break;case"defaultChecked":O=I;break;case"value":p=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,a));break;default:zt(i,a,c,I,o,null)}}Ig(i,p,v,E,O,y,f,!1),Bo(i);return;case"select":xt("invalid",i),c=y=p=null;for(f in o)if(o.hasOwnProperty(f)&&(v=o[f],v!=null))switch(f){case"value":p=v;break;case"defaultValue":y=v;break;case"multiple":c=v;default:zt(i,a,f,v,o,null)}a=p,o=y,i.multiple=!!c,a!=null?ws(i,!!c,a,!1):o!=null&&ws(i,!!c,o,!0);return;case"textarea":xt("invalid",i),p=f=c=null;for(y in o)if(o.hasOwnProperty(y)&&(v=o[y],v!=null))switch(y){case"value":c=v;break;case"defaultValue":f=v;break;case"children":p=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:zt(i,a,y,v,o,null)}Hg(i,c,f,p),Bo(i);return;case"option":for(E in o)if(o.hasOwnProperty(E)&&(c=o[E],c!=null))switch(E){case"selected":i.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:zt(i,a,E,c,o,null)}return;case"dialog":xt("beforetoggle",i),xt("toggle",i),xt("cancel",i),xt("close",i);break;case"iframe":case"object":xt("load",i);break;case"video":case"audio":for(c=0;c<bl.length;c++)xt(bl[c],i);break;case"image":xt("error",i),xt("load",i);break;case"details":xt("toggle",i);break;case"embed":case"source":case"link":xt("error",i),xt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in o)if(o.hasOwnProperty(O)&&(c=o[O],c!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:zt(i,a,O,c,o,null)}return;default:if(hu(a)){for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!==void 0&&Qh(i,a,I,c,o,void 0));return}}for(v in o)o.hasOwnProperty(v)&&(c=o[v],c!=null&&zt(i,a,v,c,o,null))}function D1(i,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,y=null,v=null,E=null,O=null,I=null;for(N in o){var H=o[N];if(o.hasOwnProperty(N)&&H!=null)switch(N){case"checked":break;case"value":break;case"defaultValue":E=H;default:c.hasOwnProperty(N)||zt(i,a,N,null,c,H)}}for(var R in c){var N=c[R];if(H=o[R],c.hasOwnProperty(R)&&(N!=null||H!=null))switch(R){case"type":p=N;break;case"name":f=N;break;case"checked":O=N;break;case"defaultChecked":I=N;break;case"value":y=N;break;case"defaultValue":v=N;break;case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,a));break;default:N!==H&&zt(i,a,R,N,c,H)}}cu(i,y,v,E,O,I,p,f);return;case"select":N=y=v=R=null;for(p in o)if(E=o[p],o.hasOwnProperty(p)&&E!=null)switch(p){case"value":break;case"multiple":N=E;default:c.hasOwnProperty(p)||zt(i,a,p,null,c,E)}for(f in c)if(p=c[f],E=o[f],c.hasOwnProperty(f)&&(p!=null||E!=null))switch(f){case"value":R=p;break;case"defaultValue":v=p;break;case"multiple":y=p;default:p!==E&&zt(i,a,f,p,c,E)}a=v,o=y,c=N,R!=null?ws(i,!!o,R,!1):!!c!=!!o&&(a!=null?ws(i,!!o,a,!0):ws(i,!!o,o?[]:"",!1));return;case"textarea":N=R=null;for(v in o)if(f=o[v],o.hasOwnProperty(v)&&f!=null&&!c.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:zt(i,a,v,null,c,f)}for(y in c)if(f=c[y],p=o[y],c.hasOwnProperty(y)&&(f!=null||p!=null))switch(y){case"value":R=f;break;case"defaultValue":N=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&zt(i,a,y,f,c,p)}Bg(i,R,N);return;case"option":for(var ct in o)if(R=o[ct],o.hasOwnProperty(ct)&&R!=null&&!c.hasOwnProperty(ct))switch(ct){case"selected":i.selected=!1;break;default:zt(i,a,ct,null,c,R)}for(E in c)if(R=c[E],N=o[E],c.hasOwnProperty(E)&&R!==N&&(R!=null||N!=null))switch(E){case"selected":i.selected=R&&typeof R!="function"&&typeof R!="symbol";break;default:zt(i,a,E,R,c,N)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in o)R=o[ot],o.hasOwnProperty(ot)&&R!=null&&!c.hasOwnProperty(ot)&&zt(i,a,ot,null,c,R);for(O in c)if(R=c[O],N=o[O],c.hasOwnProperty(O)&&R!==N&&(R!=null||N!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(R!=null)throw Error(s(137,a));break;default:zt(i,a,O,R,c,N)}return;default:if(hu(a)){for(var Lt in o)R=o[Lt],o.hasOwnProperty(Lt)&&R!==void 0&&!c.hasOwnProperty(Lt)&&Qh(i,a,Lt,void 0,c,R);for(I in c)R=c[I],N=o[I],!c.hasOwnProperty(I)||R===N||R===void 0&&N===void 0||Qh(i,a,I,R,c,N);return}}for(var w in o)R=o[w],o.hasOwnProperty(w)&&R!=null&&!c.hasOwnProperty(w)&&zt(i,a,w,null,c,R);for(H in c)R=c[H],N=o[H],!c.hasOwnProperty(H)||R===N||R==null&&N==null||zt(i,a,H,R,c,N)}var Kh=null,Zh=null;function Nr(i){return i.nodeType===9?i:i.ownerDocument}function U_(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j_(i,a){if(i===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&a==="foreignObject"?0:i}function $h(i,a){return i==="textarea"||i==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Jh=null;function O1(){var i=window.event;return i&&i.type==="popstate"?i===Jh?!1:(Jh=i,!0):(Jh=null,!1)}var P_=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,V_=typeof Promise=="function"?Promise:void 0,N1=typeof queueMicrotask=="function"?queueMicrotask:typeof V_<"u"?function(i){return V_.resolve(null).then(i).catch(k1)}:P_;function k1(i){setTimeout(function(){throw i})}function xi(i){return i==="head"}function Y_(i,a){var o=a,c=0,f=0;do{var p=o.nextSibling;if(i.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<c&&8>c){o=c;var y=i.ownerDocument;if(o&1&&Sl(y.documentElement),o&2&&Sl(y.body),o&4)for(o=y.head,Sl(o),y=o.firstChild;y;){var v=y.nextSibling,E=y.nodeName;y[Ia]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=v}}if(f===0){i.removeChild(p),Dl(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=p}while(o);Dl(a)}function tf(i){var a=i.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":tf(o),au(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}i.removeChild(o)}}function z1(i,a,o,c){for(;i.nodeType===1;){var f=o;if(i.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(c){if(!i[Ia])switch(a){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(p=i.getAttribute("rel"),p==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(p!==f.rel||i.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||i.getAttribute("title")!==(f.title==null?null:f.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(p=i.getAttribute("src"),(p!==(f.src==null?null:f.src)||i.getAttribute("type")!==(f.type==null?null:f.type)||i.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(a==="input"&&i.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&i.getAttribute("name")===p)return i}else return i;if(i=_n(i.nextSibling),i===null)break}return null}function L1(i,a,o){if(a==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!o||(i=_n(i.nextSibling),i===null))return null;return i}function ef(i){return i.data==="$!"||i.data==="$?"&&i.ownerDocument.readyState==="complete"}function I1(i,a){var o=i.ownerDocument;if(i.data!=="$?"||o.readyState==="complete")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),i._reactRetry=c}}function _n(i){for(;i!=null;i=i.nextSibling){var a=i.nodeType;if(a===1||a===3)break;if(a===8){if(a=i.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return i}var nf=null;function F_(i){i=i.previousSibling;for(var a=0;i;){if(i.nodeType===8){var o=i.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return i;a--}else o==="/$"&&a++}i=i.previousSibling}return null}function q_(i,a,o){switch(a=Nr(o),i){case"html":if(i=a.documentElement,!i)throw Error(s(452));return i;case"head":if(i=a.head,!i)throw Error(s(453));return i;case"body":if(i=a.body,!i)throw Error(s(454));return i;default:throw Error(s(451))}}function Sl(i){for(var a=i.attributes;a.length;)i.removeAttributeNode(a[0]);au(i)}var cn=new Map,G_=new Set;function kr(i){return typeof i.getRootNode=="function"?i.getRootNode():i.nodeType===9?i:i.ownerDocument}var Wn=V.d;V.d={f:B1,r:H1,D:U1,C:j1,L:P1,m:V1,X:F1,S:Y1,M:q1};function B1(){var i=Wn.f(),a=Tr();return i||a}function H1(i){var a=Ts(i);a!==null&&a.tag===5&&a.type==="form"?fm(a):Wn.r(i)}var sa=typeof document>"u"?null:document;function W_(i,a,o){var c=sa;if(c&&typeof a=="string"&&a){var f=en(a);f='link[rel="'+i+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),G_.has(f)||(G_.add(f),i={rel:i,crossOrigin:o,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),xe(a,"link",i),he(a),c.head.appendChild(a)))}}function U1(i){Wn.D(i),W_("dns-prefetch",i,null)}function j1(i,a){Wn.C(i,a),W_("preconnect",i,a)}function P1(i,a,o){Wn.L(i,a,o);var c=sa;if(c&&i&&a){var f='link[rel="preload"][as="'+en(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+en(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+en(o.imageSizes)+'"]')):f+='[href="'+en(i)+'"]';var p=f;switch(a){case"style":p=aa(i);break;case"script":p=la(i)}cn.has(p)||(i=m({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:i,as:a},o),cn.set(p,i),c.querySelector(f)!==null||a==="style"&&c.querySelector(xl(p))||a==="script"&&c.querySelector(El(p))||(a=c.createElement("link"),xe(a,"link",i),he(a),c.head.appendChild(a)))}}function V1(i,a){Wn.m(i,a);var o=sa;if(o&&i){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+en(c)+'"][href="'+en(i)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=la(i)}if(!cn.has(p)&&(i=m({rel:"modulepreload",href:i},a),cn.set(p,i),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(El(p)))return}c=o.createElement("link"),xe(c,"link",i),he(c),o.head.appendChild(c)}}}function Y1(i,a,o){Wn.S(i,a,o);var c=sa;if(c&&i){var f=Cs(c).hoistableStyles,p=aa(i);a=a||"default";var y=f.get(p);if(!y){var v={loading:0,preload:null};if(y=c.querySelector(xl(p)))v.loading=5;else{i=m({rel:"stylesheet",href:i,"data-precedence":a},o),(o=cn.get(p))&&sf(i,o);var E=y=c.createElement("link");he(E),xe(E,"link",i),E._p=new Promise(function(O,I){E.onload=O,E.onerror=I}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,zr(y,a,c)}y={type:"stylesheet",instance:y,count:1,state:v},f.set(p,y)}}}function F1(i,a){Wn.X(i,a);var o=sa;if(o&&i){var c=Cs(o).hoistableScripts,f=la(i),p=c.get(f);p||(p=o.querySelector(El(f)),p||(i=m({src:i,async:!0},a),(a=cn.get(f))&&af(i,a),p=o.createElement("script"),he(p),xe(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function q1(i,a){Wn.M(i,a);var o=sa;if(o&&i){var c=Cs(o).hoistableScripts,f=la(i),p=c.get(f);p||(p=o.querySelector(El(f)),p||(i=m({src:i,async:!0,type:"module"},a),(a=cn.get(f))&&af(i,a),p=o.createElement("script"),he(p),xe(p,"link",i),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function X_(i,a,o,c){var f=(f=et.current)?kr(f):null;if(!f)throw Error(s(446));switch(i){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=aa(o.href),o=Cs(f).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){i=aa(o.href);var p=Cs(f).hoistableStyles,y=p.get(i);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(i,y),(p=f.querySelector(xl(i)))&&!p._p&&(y.instance=p,y.state.loading=5),cn.has(i)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},cn.set(i,o),p||G1(f,i,o,y.state))),a&&c===null)throw Error(s(528,""));return y}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=la(o),o=Cs(f).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,i))}}function aa(i){return'href="'+en(i)+'"'}function xl(i){return'link[rel="stylesheet"]['+i+"]"}function Q_(i){return m({},i,{"data-precedence":i.precedence,precedence:null})}function G1(i,a,o,c){i.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=i.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),xe(a,"link",o),he(a),i.head.appendChild(a))}function la(i){return'[src="'+en(i)+'"]'}function El(i){return"script[async]"+i}function K_(i,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=i.querySelector('style[data-href~="'+en(o.href)+'"]');if(c)return a.instance=c,he(c),c;var f=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(i.ownerDocument||i).createElement("style"),he(c),xe(c,"style",f),zr(c,o.precedence,i),a.instance=c;case"stylesheet":f=aa(o.href);var p=i.querySelector(xl(f));if(p)return a.state.loading|=4,a.instance=p,he(p),p;c=Q_(o),(f=cn.get(f))&&sf(c,f),p=(i.ownerDocument||i).createElement("link"),he(p);var y=p;return y._p=new Promise(function(v,E){y.onload=v,y.onerror=E}),xe(p,"link",c),a.state.loading|=4,zr(p,o.precedence,i),a.instance=p;case"script":return p=la(o.src),(f=i.querySelector(El(p)))?(a.instance=f,he(f),f):(c=o,(f=cn.get(p))&&(c=m({},o),af(c,f)),i=i.ownerDocument||i,f=i.createElement("script"),he(f),xe(f,"link",c),i.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,zr(c,o.precedence,i));return a.instance}function zr(i,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,y=0;y<c.length;y++){var v=c[y];if(v.dataset.precedence===a)p=v;else if(p!==f)break}p?p.parentNode.insertBefore(i,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(i,a.firstChild))}function sf(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.title==null&&(i.title=a.title)}function af(i,a){i.crossOrigin==null&&(i.crossOrigin=a.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=a.referrerPolicy),i.integrity==null&&(i.integrity=a.integrity)}var Lr=null;function Z_(i,a,o){if(Lr===null){var c=new Map,f=Lr=new Map;f.set(o,c)}else f=Lr,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(i))return c;for(c.set(i,null),o=o.getElementsByTagName(i),f=0;f<o.length;f++){var p=o[f];if(!(p[Ia]||p[Ce]||i==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var y=p.getAttribute(a)||"";y=i+y;var v=c.get(y);v?v.push(p):c.set(y,[p])}}return c}function $_(i,a,o){i=i.ownerDocument||i,i.head.insertBefore(o,a==="title"?i.querySelector("head > title"):null)}function W1(i,a,o){if(o===1||a.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return i=a.disabled,typeof a.precedence=="string"&&i==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function J_(i){return!(i.type==="stylesheet"&&(i.state.loading&3)===0)}var Tl=null;function X1(){}function Q1(i,a,o){if(Tl===null)throw Error(s(475));var c=Tl;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=aa(o.href),p=i.querySelector(xl(f));if(p){i=p._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(c.count++,c=Ir.bind(c),i.then(c,c)),a.state.loading|=4,a.instance=p,he(p);return}p=i.ownerDocument||i,o=Q_(o),(f=cn.get(f))&&sf(o,f),p=p.createElement("link"),he(p);var y=p;y._p=new Promise(function(v,E){y.onload=v,y.onerror=E}),xe(p,"link",o),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,i),(i=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Ir.bind(c),i.addEventListener("load",a),i.addEventListener("error",a))}}function K1(){if(Tl===null)throw Error(s(475));var i=Tl;return i.stylesheets&&i.count===0&&lf(i,i.stylesheets),0<i.count?function(a){var o=setTimeout(function(){if(i.stylesheets&&lf(i,i.stylesheets),i.unsuspend){var c=i.unsuspend;i.unsuspend=null,c()}},6e4);return i.unsuspend=a,function(){i.unsuspend=null,clearTimeout(o)}}:null}function Ir(){if(this.count--,this.count===0){if(this.stylesheets)lf(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var Br=null;function lf(i,a){i.stylesheets=null,i.unsuspend!==null&&(i.count++,Br=new Map,a.forEach(Z1,i),Br=null,Ir.call(i))}function Z1(i,a){if(!(a.state.loading&4)){var o=Br.get(i);if(o)var c=o.get(null);else{o=new Map,Br.set(i,o);for(var f=i.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var y=f[p];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),c=y)}c&&o.set(null,c)}f=a.instance,y=f.getAttribute("data-precedence"),p=o.get(y)||c,p===c&&o.set(null,f),o.set(y,f),this.count++,c=Ir.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(f,i.firstChild)),a.state.loading|=4}}var Cl={$$typeof:P,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function $1(i,a,o,c,f,p,y,v){this.tag=1,this.containerInfo=i,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=eu(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eu(0),this.hiddenUpdates=eu(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function ty(i,a,o,c,f,p,y,v,E,O,I,H){return i=new $1(i,a,o,y,v,E,O,H),a=1,p===!0&&(a|=24),p=Xe(3,null,null,a),i.current=p,p.stateNode=i,a=ju(),a.refCount++,i.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:a},Fu(p),i}function ey(i){return i?(i=Bs,i):Bs}function ny(i,a,o,c,f,p){f=ey(f),c.context===null?c.context=f:c.pendingContext=f,c=ci(a),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=ui(i,c,a),o!==null&&(Je(o,i,a),el(o,i,a))}function iy(i,a){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var o=i.retryLane;i.retryLane=o!==0&&o<a?o:a}}function of(i,a){iy(i,a),(i=i.alternate)&&iy(i,a)}function sy(i){if(i.tag===13){var a=Is(i,67108864);a!==null&&Je(a,i,67108864),of(i,67108864)}}var Hr=!0;function J1(i,a,o,c){var f=k.T;k.T=null;var p=V.p;try{V.p=2,rf(i,a,o,c)}finally{V.p=p,k.T=f}}function tE(i,a,o,c){var f=k.T;k.T=null;var p=V.p;try{V.p=8,rf(i,a,o,c)}finally{V.p=p,k.T=f}}function rf(i,a,o,c){if(Hr){var f=cf(c);if(f===null)Xh(i,a,c,Ur,o),ly(i,c);else if(nE(f,i,a,o,c))c.stopPropagation();else if(ly(i,c),a&4&&-1<eE.indexOf(i)){for(;f!==null;){var p=Ts(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var y=ji(p.pendingLanes);if(y!==0){var v=p;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var E=1<<31-Ge(y);v.entanglements[1]|=E,y&=~E}Mn(p),(Ot&6)===0&&(xr=xn()+500,yl(0))}}break;case 13:v=Is(p,2),v!==null&&Je(v,p,2),Tr(),of(p,2)}if(p=cf(c),p===null&&Xh(i,a,c,Ur,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Xh(i,a,c,null,o)}}function cf(i){return i=du(i),uf(i)}var Ur=null;function uf(i){if(Ur=null,i=Es(i),i!==null){var a=r(i);if(a===null)i=null;else{var o=a.tag;if(o===13){if(i=u(a),i!==null)return i;i=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Ur=i,null}function ay(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(jS()){case bg:return 2;case vg:return 8;case Ro:case PS:return 32;case Sg:return 268435456;default:return 32}default:return 32}}var hf=!1,Ei=null,Ti=null,Ci=null,Al=new Map,Ml=new Map,Ai=[],eE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ly(i,a){switch(i){case"focusin":case"focusout":Ei=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Ci=null;break;case"pointerover":case"pointerout":Al.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ml.delete(a.pointerId)}}function wl(i,a,o,c,f,p){return i===null||i.nativeEvent!==p?(i={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},a!==null&&(a=Ts(a),a!==null&&sy(a)),i):(i.eventSystemFlags|=c,a=i.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),i)}function nE(i,a,o,c,f){switch(a){case"focusin":return Ei=wl(Ei,i,a,o,c,f),!0;case"dragenter":return Ti=wl(Ti,i,a,o,c,f),!0;case"mouseover":return Ci=wl(Ci,i,a,o,c,f),!0;case"pointerover":var p=f.pointerId;return Al.set(p,wl(Al.get(p)||null,i,a,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,Ml.set(p,wl(Ml.get(p)||null,i,a,o,c,f)),!0}return!1}function oy(i){var a=Es(i.target);if(a!==null){var o=r(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){i.blockedOn=a,QS(i.priority,function(){if(o.tag===13){var c=$e();c=nu(c);var f=Is(o,c);f!==null&&Je(f,o,c),of(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){i.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}i.blockedOn=null}function jr(i){if(i.blockedOn!==null)return!1;for(var a=i.targetContainers;0<a.length;){var o=cf(i.nativeEvent);if(o===null){o=i.nativeEvent;var c=new o.constructor(o.type,o);fu=c,o.target.dispatchEvent(c),fu=null}else return a=Ts(o),a!==null&&sy(a),i.blockedOn=o,!1;a.shift()}return!0}function ry(i,a,o){jr(i)&&o.delete(a)}function iE(){hf=!1,Ei!==null&&jr(Ei)&&(Ei=null),Ti!==null&&jr(Ti)&&(Ti=null),Ci!==null&&jr(Ci)&&(Ci=null),Al.forEach(ry),Ml.forEach(ry)}function Pr(i,a){i.blockedOn===a&&(i.blockedOn=null,hf||(hf=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,iE)))}var Vr=null;function cy(i){Vr!==i&&(Vr=i,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Vr===i&&(Vr=null);for(var a=0;a<i.length;a+=3){var o=i[a],c=i[a+1],f=i[a+2];if(typeof c!="function"){if(uf(c||o)===null)continue;break}var p=Ts(o);p!==null&&(i.splice(a,3),a-=3,ch(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Dl(i){function a(E){return Pr(E,i)}Ei!==null&&Pr(Ei,i),Ti!==null&&Pr(Ti,i),Ci!==null&&Pr(Ci,i),Al.forEach(a),Ml.forEach(a);for(var o=0;o<Ai.length;o++){var c=Ai[o];c.blockedOn===i&&(c.blockedOn=null)}for(;0<Ai.length&&(o=Ai[0],o.blockedOn===null);)oy(o),o.blockedOn===null&&Ai.shift();if(o=(i.ownerDocument||i).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],y=f[Le]||null;if(typeof p=="function")y||cy(o);else if(y){var v=null;if(p&&p.hasAttribute("formAction")){if(f=p,y=p[Le]||null)v=y.formAction;else if(uf(f)!==null)continue}else v=y.action;typeof v=="function"?o[c+1]=v:(o.splice(c,3),c-=3),cy(o)}}}function ff(i){this._internalRoot=i}Yr.prototype.render=ff.prototype.render=function(i){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,c=$e();ny(o,c,i,a,null,null)},Yr.prototype.unmount=ff.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var a=i.containerInfo;ny(i.current,2,null,i,null,null),Tr(),a[xs]=null}};function Yr(i){this._internalRoot=i}Yr.prototype.unstable_scheduleHydration=function(i){if(i){var a=Ag();i={blockedOn:null,target:i,priority:a};for(var o=0;o<Ai.length&&a!==0&&a<Ai[o].priority;o++);Ai.splice(o,0,i),o===0&&oy(i)}};var uy=t.version;if(uy!=="19.1.0")throw Error(s(527,uy,"19.1.0"));V.findDOMNode=function(i){var a=i._reactInternals;if(a===void 0)throw typeof i.render=="function"?Error(s(188)):(i=Object.keys(i).join(","),Error(s(268,i)));return i=d(a),i=i!==null?g(i):null,i=i===null?null:i.stateNode,i};var sE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:k,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fr.isDisabled&&Fr.supportsFiber)try{ka=Fr.inject(sE),qe=Fr}catch{}}return Rl.createRoot=function(i,a){if(!l(i))throw Error(s(299));var o=!1,c="",f=Am,p=Mm,y=wm,v=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(v=a.unstable_transitionCallbacks)),a=ty(i,1,!1,null,null,o,c,f,p,y,v,null),i[xs]=a.current,Wh(i),new ff(a)},Rl.hydrateRoot=function(i,a,o){if(!l(i))throw Error(s(299));var c=!1,f="",p=Am,y=Mm,v=wm,E=null,O=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(v=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(E=o.unstable_transitionCallbacks),o.formState!==void 0&&(O=o.formState)),a=ty(i,1,!0,a,o??null,c,f,p,y,v,E,O),a.context=ey(null),o=a.current,c=$e(),c=nu(c),f=ci(c),f.callback=null,ui(o,f,c),o=c,a.current.lanes=o,La(a,o),Mn(a),i[xs]=a.current,Wh(i),new Yr(a)},Rl.version="19.1.0",Rl}var vy;function _E(){if(vy)return pf.exports;vy=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),pf.exports=mE(),pf.exports}var yE=_E();const bE=()=>{};var Sy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mv={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(n,t){if(!n)throw Ma(t)},Ma=function(n){return new Error("Firebase Database ("+Mv.SDK_VERSION+") INTERNAL ASSERT FAILED: "+n)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wv=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(n.charCodeAt(++s)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},vE=function(n){const t=[];let e=0,s=0;for(;e<n.length;){const l=n[e++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const r=n[e++];t[s++]=String.fromCharCode((l&31)<<6|r&63)}else if(l>239&&l<365){const r=n[e++],u=n[e++],h=n[e++],d=((l&7)<<18|(r&63)<<12|(u&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const r=n[e++],u=n[e++];t[s++]=String.fromCharCode((l&15)<<12|(r&63)<<6|u&63)}}return t.join("")},yd={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<n.length;l+=3){const r=n[l],u=l+1<n.length,h=u?n[l+1]:0,d=l+2<n.length,g=d?n[l+2]:0,m=r>>2,_=(r&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;d||(S=64,u||(b=64)),s.push(e[m],e[_],e[b],e[S])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(wv(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):vE(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<n.length;){const r=e[n.charAt(l++)],h=l<n.length?e[n.charAt(l)]:0;++l;const g=l<n.length?e[n.charAt(l)]:64;++l;const _=l<n.length?e[n.charAt(l)]:64;if(++l,r==null||h==null||g==null||_==null)throw new SE;const b=r<<2|h>>4;if(s.push(b),g!==64){const S=h<<4&240|g>>2;if(s.push(S),_!==64){const x=g<<6&192|_;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Dv=function(n){const t=wv(n);return yd.encodeByteArray(t,!0)},fc=function(n){return Dv(n).replace(/\./g,"")},Uf=function(n){try{return yd.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(n){return Ov(void 0,n)}function Ov(n,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:n===void 0&&(n={});break;case Array:n=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!EE(e)||(n[e]=Ov(n[e],t[e]));return n}function EE(n){return n!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=()=>TE().__FIREBASE_DEFAULTS__,AE=()=>{if(typeof process>"u"||typeof Sy>"u")return;const n=Sy.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ME=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&Uf(n[1]);return t&&JSON.parse(t)},Rv=()=>{try{return bE()||CE()||AE()||ME()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},wE=n=>{var t,e;return(e=(t=Rv())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[n]},DE=n=>{const t=wE(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},Nv=()=>{var n;return(n=Rv())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",l=n.iat||0,r=n.sub||n.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},n);return[fc(JSON.stringify(e)),fc(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(RE())}function NE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function kE(){return Mv.NODE_ADMIN===!0}function zE(){try{return typeof indexedDB=="object"}catch{return!1}}function LE(){return new Promise((n,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(s),n(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var r;t(((r=l.error)===null||r===void 0?void 0:r.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IE="FirebaseError";class Co extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=IE,Object.setPrototypeOf(this,Co.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zv.prototype.create)}}class zv{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},l=`${this.service}/${t}`,r=this.errors[t],u=r?BE(r,s):"Error",h=`${this.serviceName}: ${u} (${l}).`;return new Co(l,h,s)}}function BE(n,t){return n.replace(HE,(e,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const HE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ao(n){return JSON.parse(n)}function ye(n){return JSON.stringify(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv=function(n){let t={},e={},s={},l="";try{const r=n.split(".");t=ao(Uf(r[0])||""),e=ao(Uf(r[1])||""),l=r[2],s=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:s,signature:l}},UE=function(n){const t=Lv(n),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},jE=function(n){const t=Lv(n).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nn(n,t){return Object.prototype.hasOwnProperty.call(n,t)}function ya(n,t){if(Object.prototype.hasOwnProperty.call(n,t))return n[t]}function xy(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function dc(n,t,e){const s={};for(const l in n)Object.prototype.hasOwnProperty.call(n,l)&&(s[l]=t.call(e,n[l],l,n));return s}function gc(n,t){if(n===t)return!0;const e=Object.keys(n),s=Object.keys(t);for(const l of e){if(!s.includes(l))return!1;const r=n[l],u=t[l];if(Ey(r)&&Ey(u)){if(!gc(r,u))return!1}else if(r!==u)return!1}for(const l of s)if(!e.includes(l))return!1;return!0}function Ey(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PE(n){const t=[];for(const[e,s]of Object.entries(n))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const s=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)s[_]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let _=0;_<16;_++)s[_]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let _=16;_<80;_++){const b=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],r=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],g,m;for(let _=0;_<80;_++){_<40?_<20?(g=h^r&(u^h),m=1518500249):(g=r^u^h,m=1859775393):_<60?(g=r&u|h&(r|u),m=2400959708):(g=r^u^h,m=3395469782);const b=(l<<5|l>>>27)+g+d+m+s[_]&4294967295;d=h,h=u,u=(r<<30|r>>>2)&4294967295,r=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const s=e-this.blockSize;let l=0;const r=this.buf_;let u=this.inbuf_;for(;l<e;){if(u===0)for(;l<=s;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(r[u]=t.charCodeAt(l),++u,++l,u===this.blockSize){this.compress_(r),u=0;break}}else for(;l<e;)if(r[u]=t[l],++u,++l,u===this.blockSize){this.compress_(r),u=0;break}}this.inbuf_=u,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=e&255,e/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let r=24;r>=0;r-=8)t[s]=this.chain_[l]>>r&255,++s;return t}}function Hc(n,t){return`${n} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YE=function(n){const t=[];let e=0;for(let s=0;s<n.length;s++){let l=n.charCodeAt(s);if(l>=55296&&l<=56319){const r=l-55296;s++,F(s<n.length,"Surrogate pair missing trail surrogate.");const u=n.charCodeAt(s)-56320;l=65536+(r<<10)+u}l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):l<65536?(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},Uc=function(n){let t=0;for(let e=0;e<n.length;e++){const s=n.charCodeAt(e);s<128?t++:s<2048?t+=2:s>=55296&&s<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(n){return n&&n._delegate?n._delegate:n}class lo{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new To;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(l)return null;throw r}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(GE(t))try{this.getOrInitializeService({instanceIdentifier:os})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const r=this.getOrInitializeService({instanceIdentifier:l});s.resolve(r)}catch{}}}}clearInstance(t=os){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=os){return this.instances.has(t)}getOptions(t=os){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[r,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(r);s===h&&u.resolve(l)}return l}onInit(t,e){var s;const l=this.normalizeInstanceIdentifier(e),r=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;r.add(t),this.onInitCallbacks.set(l,r);const u=this.instances.get(l);return u&&t(u,l),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const l of s)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:qE(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=os){return this.component?this.component.multipleInstances?t:os:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function qE(n){return n===os?void 0:n}function GE(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new FE(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Vt||(Vt={}));const XE={debug:Vt.DEBUG,verbose:Vt.VERBOSE,info:Vt.INFO,warn:Vt.WARN,error:Vt.ERROR,silent:Vt.SILENT},QE=Vt.INFO,KE={[Vt.DEBUG]:"log",[Vt.VERBOSE]:"log",[Vt.INFO]:"info",[Vt.WARN]:"warn",[Vt.ERROR]:"error"},ZE=(n,t,...e)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),l=KE[t];if(l)console[l](`[${s}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Iv{constructor(t){this.name=t,this._logLevel=QE,this._logHandler=ZE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Vt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?XE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Vt.DEBUG,...t),this._logHandler(this,Vt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Vt.VERBOSE,...t),this._logHandler(this,Vt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Vt.INFO,...t),this._logHandler(this,Vt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Vt.WARN,...t),this._logHandler(this,Vt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Vt.ERROR,...t),this._logHandler(this,Vt.ERROR,...t)}}const $E=(n,t)=>t.some(e=>n instanceof e);let Ty,Cy;function JE(){return Ty||(Ty=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tT(){return Cy||(Cy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Bv=new WeakMap,jf=new WeakMap,Hv=new WeakMap,bf=new WeakMap,bd=new WeakMap;function eT(n){const t=new Promise((e,s)=>{const l=()=>{n.removeEventListener("success",r),n.removeEventListener("error",u)},r=()=>{e(Ni(n.result)),l()},u=()=>{s(n.error),l()};n.addEventListener("success",r),n.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&Bv.set(e,n)}).catch(()=>{}),bd.set(t,n),t}function nT(n){if(jf.has(n))return;const t=new Promise((e,s)=>{const l=()=>{n.removeEventListener("complete",r),n.removeEventListener("error",u),n.removeEventListener("abort",u)},r=()=>{e(),l()},u=()=>{s(n.error||new DOMException("AbortError","AbortError")),l()};n.addEventListener("complete",r),n.addEventListener("error",u),n.addEventListener("abort",u)});jf.set(n,t)}let Pf={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return jf.get(n);if(t==="objectStoreNames")return n.objectStoreNames||Hv.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ni(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function iT(n){Pf=n(Pf)}function sT(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=n.call(vf(this),t,...e);return Hv.set(s,t.sort?t.sort():[t]),Ni(s)}:tT().includes(n)?function(...t){return n.apply(vf(this),t),Ni(Bv.get(this))}:function(...t){return Ni(n.apply(vf(this),t))}}function aT(n){return typeof n=="function"?sT(n):(n instanceof IDBTransaction&&nT(n),$E(n,JE())?new Proxy(n,Pf):n)}function Ni(n){if(n instanceof IDBRequest)return eT(n);if(bf.has(n))return bf.get(n);const t=aT(n);return t!==n&&(bf.set(n,t),bd.set(t,n)),t}const vf=n=>bd.get(n);function lT(n,t,{blocked:e,upgrade:s,blocking:l,terminated:r}={}){const u=indexedDB.open(n,t),h=Ni(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Ni(u.result),d.oldVersion,d.newVersion,Ni(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{r&&d.addEventListener("close",()=>r()),l&&d.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const oT=["get","getKey","getAll","getAllKeys","count"],rT=["put","add","delete","clear"],Sf=new Map;function Ay(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Sf.get(t))return Sf.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,l=rT.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(l||oT.includes(e)))return;const r=async function(u,...h){const d=this.transaction(u,l?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),l&&d.done]))[0]};return Sf.set(t,r),r}iT(n=>({...n,get:(t,e,s)=>Ay(t,e)||n.get(t,e,s),has:(t,e)=>!!Ay(t,e)||n.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(uT(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function uT(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const Vf="@firebase/app",My="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ei=new Iv("@firebase/app"),hT="@firebase/app-compat",fT="@firebase/analytics-compat",dT="@firebase/analytics",gT="@firebase/app-check-compat",pT="@firebase/app-check",mT="@firebase/auth",_T="@firebase/auth-compat",yT="@firebase/database",bT="@firebase/data-connect",vT="@firebase/database-compat",ST="@firebase/functions",xT="@firebase/functions-compat",ET="@firebase/installations",TT="@firebase/installations-compat",CT="@firebase/messaging",AT="@firebase/messaging-compat",MT="@firebase/performance",wT="@firebase/performance-compat",DT="@firebase/remote-config",OT="@firebase/remote-config-compat",RT="@firebase/storage",NT="@firebase/storage-compat",kT="@firebase/firestore",zT="@firebase/vertexai",LT="@firebase/firestore-compat",IT="firebase",BT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yf="[DEFAULT]",HT={[Vf]:"fire-core",[hT]:"fire-core-compat",[dT]:"fire-analytics",[fT]:"fire-analytics-compat",[pT]:"fire-app-check",[gT]:"fire-app-check-compat",[mT]:"fire-auth",[_T]:"fire-auth-compat",[yT]:"fire-rtdb",[bT]:"fire-data-connect",[vT]:"fire-rtdb-compat",[ST]:"fire-fn",[xT]:"fire-fn-compat",[ET]:"fire-iid",[TT]:"fire-iid-compat",[CT]:"fire-fcm",[AT]:"fire-fcm-compat",[MT]:"fire-perf",[wT]:"fire-perf-compat",[DT]:"fire-rc",[OT]:"fire-rc-compat",[RT]:"fire-gcs",[NT]:"fire-gcs-compat",[kT]:"fire-fst",[LT]:"fire-fst-compat",[zT]:"fire-vertex","fire-js":"fire-js",[IT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pc=new Map,UT=new Map,Ff=new Map;function wy(n,t){try{n.container.addComponent(t)}catch(e){ei.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function mc(n){const t=n.name;if(Ff.has(t))return ei.debug(`There were multiple attempts to register component ${t}.`),!1;Ff.set(t,n);for(const e of pc.values())wy(e,n);for(const e of UT.values())wy(e,n);return!0}function jT(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function PT(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ki=new zv("app","Firebase",VT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FT=BT;function Uv(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Yf,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw ki.create("bad-app-name",{appName:String(l)});if(e||(e=Nv()),!e)throw ki.create("no-options");const r=pc.get(l);if(r){if(gc(e,r.options)&&gc(s,r.config))return r;throw ki.create("duplicate-app",{appName:l})}const u=new WE(l);for(const d of Ff.values())u.addComponent(d);const h=new YT(e,s,u);return pc.set(l,h),h}function qT(n=Yf){const t=pc.get(n);if(!t&&n===Yf&&Nv())return Uv();if(!t)throw ki.create("no-app",{appName:n});return t}function fa(n,t,e){var s;let l=(s=HT[n])!==null&&s!==void 0?s:n;e&&(l+=`-${e}`);const r=l.match(/\s|\//),u=t.match(/\s|\//);if(r||u){const h=[`Unable to register library "${l}" with version "${t}":`];r&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),r&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),ei.warn(h.join(" "));return}mc(new lo(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GT="firebase-heartbeat-database",WT=1,oo="firebase-heartbeat-store";let xf=null;function jv(){return xf||(xf=lT(GT,WT,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(oo)}catch(e){console.warn(e)}}}}).catch(n=>{throw ki.create("idb-open",{originalErrorMessage:n.message})})),xf}async function XT(n){try{const e=(await jv()).transaction(oo),s=await e.objectStore(oo).get(Pv(n));return await e.done,s}catch(t){if(t instanceof Co)ei.warn(t.message);else{const e=ki.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});ei.warn(e.message)}}}async function Dy(n,t){try{const s=(await jv()).transaction(oo,"readwrite");await s.objectStore(oo).put(t,Pv(n)),await s.done}catch(e){if(e instanceof Co)ei.warn(e.message);else{const s=ki.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});ei.warn(s.message)}}}function Pv(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT=1024,KT=30;class ZT{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new JT(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Oy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>KT){const u=tC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){ei.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Oy(),{heartbeatsToSend:s,unsentEntries:l}=$T(this._heartbeatsCache.heartbeats),r=fc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return ei.warn(e),""}}}function Oy(){return new Date().toISOString().substring(0,10)}function $T(n,t=QT){const e=[];let s=n.slice();for(const l of n){const r=e.find(u=>u.agent===l.agent);if(r){if(r.dates.push(l.date),Ry(e)>t){r.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),Ry(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class JT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return zE()?LE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await XT(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return Dy(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Ry(n){return fc(JSON.stringify({version:2,heartbeats:n})).length}function tC(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let s=1;s<n.length;s++)n[s].date<e&&(e=n[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(n){mc(new lo("platform-logger",t=>new cT(t),"PRIVATE")),mc(new lo("heartbeat",t=>new ZT(t),"PRIVATE")),fa(Vf,My,n),fa(Vf,My,"esm2017"),fa("fire-js","")}eC("");var nC="firebase",iC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fa(nC,iC,"app");var Ny={};const ky="@firebase/database",zy="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vv="";function sC(n){Vv=n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ye(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:ao(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Nn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const t=window[n];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new aC(t)}}catch{}return new lC},hs=Yv("localStorage"),oC=Yv("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const da=new Iv("@firebase/database"),rC=function(){let n=1;return function(){return n++}}(),Fv=function(n){const t=YE(n),e=new VE;e.update(t);const s=e.digest();return yd.encodeByteArray(s)},Ao=function(...n){let t="";for(let e=0;e<n.length;e++){const s=n[e];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?t+=Ao.apply(null,s):typeof s=="object"?t+=ye(s):t+=s,t+=" "}return t};let Ql=null,Ly=!0;const cC=function(n,t){F(!0,"Can't turn on custom loggers persistently."),da.logLevel=Vt.VERBOSE,Ql=da.log.bind(da)},Ee=function(...n){if(Ly===!0&&(Ly=!1,Ql===null&&oC.get("logging_enabled")===!0&&cC()),Ql){const t=Ao.apply(null,n);Ql(t)}},Mo=function(n){return function(...t){Ee(n,...t)}},qf=function(...n){const t="FIREBASE INTERNAL ERROR: "+Ao(...n);da.error(t)},ni=function(...n){const t=`FIREBASE FATAL ERROR: ${Ao(...n)}`;throw da.error(t),new Error(t)},Ne=function(...n){const t="FIREBASE WARNING: "+Ao(...n);da.warn(t)},uC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ne("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},vd=function(n){return typeof n=="number"&&(n!==n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},hC=function(n){if(document.readyState==="complete")n();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,n())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},ba="[MIN_NAME]",gs="[MAX_NAME]",bs=function(n,t){if(n===t)return 0;if(n===ba||t===gs)return-1;if(t===ba||n===gs)return 1;{const e=Iy(n),s=Iy(t);return e!==null?s!==null?e-s===0?n.length-t.length:e-s:-1:s!==null?1:n<t?-1:1}},fC=function(n,t){return n===t?0:n<t?-1:1},Nl=function(n,t){if(t&&n in t)return t[n];throw new Error("Missing required key ("+n+") in object: "+ye(t))},Sd=function(n){if(typeof n!="object"||n===null)return ye(n);const t=[];for(const s in n)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)s!==0&&(e+=","),e+=ye(t[s]),e+=":",e+=Sd(n[t[s]]);return e+="}",e},qv=function(n,t){const e=n.length;if(e<=t)return[n];const s=[];for(let l=0;l<e;l+=t)l+t>e?s.push(n.substring(l,e)):s.push(n.substring(l,l+t));return s};function Te(n,t){for(const e in n)n.hasOwnProperty(e)&&t(e,n[e])}const Gv=function(n){F(!vd(n),"Invalid JSON number");const t=11,e=52,s=(1<<t-1)-1;let l,r,u,h,d;n===0?(r=0,u=0,l=1/n===-1/0?1:0):(l=n<0,n=Math.abs(n),n>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),s),r=h+s,u=Math.round(n*Math.pow(2,e-h)-Math.pow(2,e))):(r=0,u=Math.round(n/Math.pow(2,1-s-e))));const g=[];for(d=e;d;d-=1)g.push(u%2?1:0),u=Math.floor(u/2);for(d=t;d;d-=1)g.push(r%2?1:0),r=Math.floor(r/2);g.push(l?1:0),g.reverse();const m=g.join("");let _="";for(d=0;d<64;d+=8){let b=parseInt(m.substr(d,8),2).toString(16);b.length===1&&(b="0"+b),_=_+b}return _.toLowerCase()},dC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},gC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function pC(n,t){let e="Unknown Error";n==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":n==="permission_denied"?e="Client doesn't have permission to access the desired data.":n==="unavailable"&&(e="The service is unavailable");const s=new Error(n+" at "+t._path.toString()+": "+e);return s.code=n.toUpperCase(),s}const mC=new RegExp("^-?(0*)\\d{1,10}$"),_C=-2147483648,yC=2147483647,Iy=function(n){if(mC.test(n)){const t=Number(n);if(t>=_C&&t<=yC)return t}return null},Da=function(n){try{n()}catch(t){setTimeout(()=>{const e=t.stack||"";throw Ne("Exception was thrown by user callback.",e),t},Math.floor(0))}},bC=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Kl=function(n,t){const e=setTimeout(n,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vC{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,PT(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e==null?void 0:e.getImmediate({optional:!0}),this.appCheck||e==null||e.get().then(s=>this.appCheck=s)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Ne(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(Ee("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ne(t)}}class oc{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}oc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xd="5",Wv="v",Xv="s",Qv="r",Kv="f",Zv=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$v="ls",Jv="p",Gf="ac",t0="websocket",e0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n0{constructor(t,e,s,l,r=!1,u="",h=!1,d=!1,g=null){this.secure=e,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=r,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=hs.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&hs.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function xC(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams}function i0(n,t,e){F(typeof t=="string","typeof type must == string"),F(typeof e=="object","typeof params must == object");let s;if(t===t0)s=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else if(t===e0)s=(n.secure?"https://":"http://")+n.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);xC(n)&&(e.ns=n.namespace);const l=[];return Te(e,(r,u)=>{l.push(r+"="+u)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(){this.counters_={}}incrementCounter(t,e=1){Nn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return xE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ef={},Tf={};function Ed(n){const t=n.toString();return Ef[t]||(Ef[t]=new EC),Ef[t]}function TC(n,t){const e=n.toString();return Tf[e]||(Tf[e]=t()),Tf[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&Da(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const By="start",AC="close",MC="pLPCommand",wC="pRTLPCB",s0="id",a0="pw",l0="ser",DC="cb",OC="seg",RC="ts",NC="d",kC="dframe",o0=1870,r0=30,zC=o0-r0,LC=25e3,IC=3e4;class ua{constructor(t,e,s,l,r,u,h){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=l,this.authToken=r,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Mo(t),this.stats_=Ed(e),this.urlFn=d=>(this.appCheckToken&&(d[Gf]=this.appCheckToken),i0(e,e0,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new CC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(IC)),hC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Td((...r)=>{const[u,h,d,g,m]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===By)this.id=h,this.password=d;else if(u===AC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...r)=>{const[u,h]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[By]="t",s[l0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[DC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[Wv]=xd,this.transportSessionId&&(s[Xv]=this.transportSessionId),this.lastSessionId&&(s[$v]=this.lastSessionId),this.applicationId&&(s[Jv]=this.applicationId),this.appCheckToken&&(s[Gf]=this.appCheckToken),typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(s[Qv]=Kv);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ua.forceAllow_=!0}static forceDisallow(){ua.forceDisallow_=!0}static isAvailable(){return ua.forceAllow_?!0:!ua.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!dC()&&!gC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=ye(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=Dv(e),l=qv(s,zC);for(let r=0;r<l.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[r]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const s={};s[kC]="t",s[s0]=t,s[a0]=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=ye(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class Td{constructor(t,e,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=rC(),window[MC+this.uniqueCallbackIdentifier]=t,window[wC+this.uniqueCallbackIdentifier]=e,this.myIFrame=Td.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Ee("frame writing exception"),h.stack&&Ee(h.stack),Ee(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Ee("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[s0]=this.myID,t[a0]=this.myPW,t[l0]=this.currentSerial;let e=this.urlFn(t),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+r0+s.length<=o0;){const u=this.pendingSegs.shift();s=s+"&"+OC+l+"="+u.seg+"&"+RC+l+"="+u.ts+"&"+NC+l+"="+u.d,l++}return e=e+s,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(s,Math.floor(LC)),r=()=>{clearTimeout(l),s()};this.addTag(t,r)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Ee("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=16384,HC=45e3;let _c=null;typeof MozWebSocket<"u"?_c=MozWebSocket:typeof WebSocket<"u"&&(_c=WebSocket);class yn{constructor(t,e,s,l,r,u,h){this.connId=t,this.applicationId=s,this.appCheckToken=l,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Mo(this.connId),this.stats_=Ed(e),this.connURL=yn.connectionURL_(e,u,h,l,s),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,s,l,r){const u={};return u[Wv]=xd,typeof location<"u"&&location.hostname&&Zv.test(location.hostname)&&(u[Qv]=Kv),e&&(u[Xv]=e),s&&(u[$v]=s),l&&(u[Gf]=l),r&&(u[Jv]=r),i0(t,t0,u)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,hs.set("previous_websocket_failure",!0);try{let s;kE(),this.mySock=new _c(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){yn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(e);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&_c!==null&&!yn.forceDisallow_}static previouslyFailed(){return hs.isInMemoryStorage||hs.get("previous_websocket_failure")===!0}markConnectionHealthy(){hs.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const s=ao(e);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(F(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const s=this.extractFrameCount_(e);s!==null&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const e=ye(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=qv(e,BC);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(HC))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}yn.responsesRequiredToBeHealthy=2;yn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{static get ALL_TRANSPORTS(){return[ua,yn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=yn&&yn.isAvailable();let s=e&&!yn.previouslyFailed();if(t.webSocketOnly&&(e||Ne("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[yn];else{const l=this.transports_=[];for(const r of ro.ALL_TRANSPORTS)r&&r.isAvailable()&&l.push(r);ro.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ro.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC=6e4,jC=5e3,PC=10*1024,VC=100*1024,Cf="t",Hy="d",YC="s",Uy="r",FC="e",jy="o",Py="a",Vy="n",Yy="p",qC="h";class GC{constructor(t,e,s,l,r,u,h,d,g,m){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=r,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=g,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Mo("c:"+this.id+":"),this.transportManager_=new ro(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=Kl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>VC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>PC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(Cf in t){const e=t[Cf];e===Py?this.upgradeIfSecondaryHealthy_():e===Uy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===jy&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Nl("t",t),s=Nl("d",t);if(e==="c")this.onSecondaryControl_(s);else if(e==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Yy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Py,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Vy,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Nl("t",t),s=Nl("d",t);e==="c"?this.onControl_(s):e==="d"&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Nl(Cf,t);if(Hy in t){const s=t[Hy];if(e===qC){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(e===Vy){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===YC?this.onConnectionShutdown_(s):e===Uy?this.onReset_(s):e===FC?qf("Server Error: "+s):e===jy?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):qf("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),xd!==s&&Ne("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),Kl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(UC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Kl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(jC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Yy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(hs.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{put(t,e,s,l){}merge(t,e,s,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u0{constructor(t){this.allowedEvents_=t,this.listeners_={},F(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const l=this.getInitialEvent(t);l&&e.apply(s,l)}off(t,e,s){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let r=0;r<l.length;r++)if(l[r].callback===e&&(!s||s===l[r].context)){l.splice(r,1);return}}validateEventType_(t){F(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc extends u0{static getInstance(){return new yc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!kv()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return F(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fy=32,qy=768;class It{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function Dt(){return new It("")}function bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Ii(n){return n.pieces_.length-n.pieceNum_}function Yt(n){let t=n.pieceNum_;return t<n.pieces_.length&&t++,new It(n.pieces_,t)}function Cd(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function WC(n){let t="";for(let e=n.pieceNum_;e<n.pieces_.length;e++)n.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(n.pieces_[e])));return t||"/"}function co(n,t=0){return n.pieces_.slice(n.pieceNum_+t)}function h0(n){if(n.pieceNum_>=n.pieces_.length)return null;const t=[];for(let e=n.pieceNum_;e<n.pieces_.length-1;e++)t.push(n.pieces_[e]);return new It(t,0)}function Zt(n,t){const e=[];for(let s=n.pieceNum_;s<n.pieces_.length;s++)e.push(n.pieces_[s]);if(t instanceof It)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&e.push(s[l])}return new It(e,0)}function Et(n){return n.pieceNum_>=n.pieces_.length}function Ve(n,t){const e=bt(n),s=bt(t);if(e===null)return t;if(e===s)return Ve(Yt(n),Yt(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+n+")")}function XC(n,t){const e=co(n,0),s=co(t,0);for(let l=0;l<e.length&&l<s.length;l++){const r=bs(e[l],s[l]);if(r!==0)return r}return e.length===s.length?0:e.length<s.length?-1:1}function Ad(n,t){if(Ii(n)!==Ii(t))return!1;for(let e=n.pieceNum_,s=t.pieceNum_;e<=n.pieces_.length;e++,s++)if(n.pieces_[e]!==t.pieces_[s])return!1;return!0}function hn(n,t){let e=n.pieceNum_,s=t.pieceNum_;if(Ii(n)>Ii(t))return!1;for(;e<n.pieces_.length;){if(n.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class QC{constructor(t,e){this.errorPrefix_=e,this.parts_=co(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Uc(this.parts_[s]);f0(this)}}function KC(n,t){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(t),n.byteLength_+=Uc(t),f0(n)}function ZC(n){const t=n.parts_.pop();n.byteLength_-=Uc(t),n.parts_.length>0&&(n.byteLength_-=1)}function f0(n){if(n.byteLength_>qy)throw new Error(n.errorPrefix_+"has a key path longer than "+qy+" bytes ("+n.byteLength_+").");if(n.parts_.length>Fy)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Fy+") or object contains a cycle "+rs(n))}function rs(n){return n.parts_.length===0?"":"in property '"+n.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends u0{static getInstance(){return new Md}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(t){return F(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kl=1e3,$C=60*5*1e3,Gy=30*1e3,JC=1.3,tA=3e4,eA="server_kill",Wy=3;class ti extends c0{constructor(t,e,s,l,r,u,h,d){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=r,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=ti.nextPersistentConnectionId_++,this.log_=Mo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=kl,this.maxReconnectDelay_=$C,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");Md.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&yc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,s){const l=++this.requestNumber_,r={r:l,a:t,b:e};this.log_(ye(r)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[l]=s)}get(t){this.initConnection_();const e=new To,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),e.promise}listen(t,e,s,l){this.initConnection_();const r=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+r),this.listens.has(u)||this.listens.set(u,new Map),F(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(u).has(r),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:e,query:t,tag:s};this.listens.get(u).set(r,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(s)})}sendListen_(t){const e=t.query,s=e._path.toString(),l=e._queryIdentifier;this.log_("Listen on "+s+" for "+l);const r={p:s},u="q";t.tag&&(r.q=e._queryObject,r.t=t.tag),r.h=t.hashFn(),this.sendRequest(u,r,h=>{const d=h.d,g=h.s;ti.warnOnListenWarnings_(d,e),(this.listens.get(s)&&this.listens.get(s).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),t.onComplete&&t.onComplete(g,d))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Nn(t,"w")){const s=ya(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+e._queryParams.getIndex().toString()+'"',r=e._path.toString();Ne(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||jE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=Gy)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=UE(t)?"auth":"gauth",s={cred:t};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(e,s,l=>{const r=l.s,u=l.d||"error";this.authToken_===t&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,s=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,s)})}unlisten(t,e){const s=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),F(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,t._queryObject,e)}sendUnlisten_(t,e,s,l){this.log_("Unlisten on "+t+" for "+e);const r={p:t},u="n";l&&(r.q=s,r.t=l),this.sendRequest(u,r)}onDisconnectPut(t,e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:s})}onDisconnectMerge(t,e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:s})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,s,l){const r={p:e,d:s};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,u=>{l&&setTimeout(()=>{l(u.s,u.d)},Math.floor(0))})}put(t,e,s,l){this.putInternal("p",t,e,s,l)}merge(t,e,s,l){this.putInternal("m",t,e,s,l)}putInternal(t,e,s,l,r){this.initConnection_();const u={p:e,d:s};r!==void 0&&(u.h=r),this.outstandingPuts_.push({action:t,request:u,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,s,r=>{this.log_(e+" response",r),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(r.s,r.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ye(t));const e=t.r,s=this.requestCBHash_[e];s&&(delete this.requestCBHash_[e],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):qf("Unrecognized action received from server: "+ye(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>tA&&(this.reconnectDelay_=kl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*JC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+ti.nextConnectionId_++,r=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,s())},g=function(_){F(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:d,sendRequest:g};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,b]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);u?Ee("getToken() completed but was canceled"):(Ee("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=b&&b.token,h=new GC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,s,S=>{Ne(S+" ("+this.repoInfo_.toString()+")"),this.interrupt(eA)},r))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Ne(_),d())}}}interrupt(t){Ee("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Ee("Resuming connection for reason: "+t),delete this.interruptReasons_[t],xy(this.interruptReasons_)&&(this.reconnectDelay_=kl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let s;e?s=e.map(r=>Sd(r)).join("$"):s="default";const l=this.removeListen_(t,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,e){const s=new It(t).toString();let l;if(this.listens.has(s)){const r=this.listens.get(s);l=r.get(e),r.delete(e),r.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(t,e){Ee("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Wy&&(this.reconnectDelay_=Gy,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){Ee("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Wy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+Vv.replace(/\./g,"-")]=1,kv()?t["framework.cordova"]=1:NE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=yc.getInstance().currentlyOnline();return xy(this.interruptReasons_)&&t}}ti.nextPersistentConnectionId_=0;ti.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vt{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new vt(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new vt(ba,t),l=new vt(ba,e);return this.compare(s,l)!==0}minPost(){return vt.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qr;class d0 extends jc{static get __EMPTY_NODE(){return qr}static set __EMPTY_NODE(t){qr=t}compare(t,e){return bs(t.name,e.name)}isDefinedOn(t){throw Ma("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return vt.MIN}maxPost(){return new vt(gs,qr)}makePost(t,e){return F(typeof t=="string","KeyIndex indexValue must always be a string."),new vt(t,qr)}toString(){return".key"}}const ga=new d0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gr{constructor(t,e,s,l,r=null){this.isReverse_=l,this.resultGenerator_=r,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=e?s(t.key,e):1,l&&(u*=-1),u<0)this.isReverse_?t=t.left:t=t.right;else if(u===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class me{constructor(t,e,s,l,r){this.key=t,this.value=e,this.color=s??me.RED,this.left=l??Ye.EMPTY_NODE,this.right=r??Ye.EMPTY_NODE}copy(t,e,s,l,r){return new me(t??this.key,e??this.value,s??this.color,l??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let l=this;const r=s(t,l.key);return r<0?l=l.copy(null,null,null,l.left.insert(t,e,s),null):r===0?l=l.copy(null,e,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,e,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ye.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let s,l;if(s=this,e(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),e(t,s.key)===0){if(s.right.isEmpty())return Ye.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,me.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,me.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}me.RED=!0;me.BLACK=!1;class nA{copy(t,e,s,l,r){return this}insert(t,e,s){return new me(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ye{constructor(t,e=Ye.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ye(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,me.BLACK,null,null))}remove(t){return new Ye(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,me.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),e===0)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,l=null;for(;!s.isEmpty();)if(e=this.comparator_(t,s.key),e===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else e<0?s=s.left:e>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Gr(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Gr(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Gr(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Gr(this.root_,null,this.comparator_,!0,t)}}Ye.EMPTY_NODE=new nA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iA(n,t){return bs(n.name,t.name)}function wd(n,t){return bs(n,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf;function sA(n){Wf=n}const g0=function(n){return typeof n=="number"?"number:"+Gv(n):"string:"+n},p0=function(n){if(n.isLeafNode()){const t=n.val();F(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Nn(t,".sv"),"Priority must be a string or number.")}else F(n===Wf||n.isEmpty(),"priority of unexpected type.");F(n===Wf||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xy;class pe{static set __childrenNodeConstructor(t){Xy=t}static get __childrenNodeConstructor(){return Xy}constructor(t,e=pe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),p0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new pe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Et(t)?this:bt(t)===".priority"?this.priorityNode_:pe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:pe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const s=bt(t);return s===null?e:e.isEmpty()&&s!==".priority"?this:(F(s!==".priority"||Ii(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,pe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Yt(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+g0(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=Gv(this.value_):t+=this.value_,this.lazyHash_=Fv(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===pe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof pe.__childrenNodeConstructor?-1:(F(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,s=typeof this.value_,l=pe.VALUE_TYPE_ORDER.indexOf(e),r=pe.VALUE_TYPE_ORDER.indexOf(s);return F(l>=0,"Unknown leaf type: "+e),F(r>=0,"Unknown leaf type: "+s),l===r?s==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}pe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m0,_0;function aA(n){m0=n}function lA(n){_0=n}class oA extends jc{compare(t,e){const s=t.node.getPriority(),l=e.node.getPriority(),r=s.compareTo(l);return r===0?bs(t.name,e.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return vt.MIN}maxPost(){return new vt(gs,new pe("[PRIORITY-POST]",_0))}makePost(t,e){const s=m0(t);return new vt(e,new pe("[PRIORITY-POST]",s))}toString(){return".priority"}}const $t=new oA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=Math.log(2);class cA{constructor(t){const e=r=>parseInt(Math.log(r)/rA,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const l=s(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const bc=function(n,t,e,s){n.sort(t);const l=function(d,g){const m=g-d;let _,b;if(m===0)return null;if(m===1)return _=n[d],b=e?e(_):_,new me(b,_.node,me.BLACK,null,null);{const S=parseInt(m/2,10)+d,x=l(d,S),T=l(S+1,g);return _=n[S],b=e?e(_):_,new me(b,_.node,me.BLACK,x,T)}},r=function(d){let g=null,m=null,_=n.length;const b=function(x,T){const A=_-x,z=_;_-=x;const U=l(A+1,z),P=n[A],Y=e?e(P):P;S(new me(Y,P.node,T,null,U))},S=function(x){g?(g.left=x,g=x):(m=x,g=x)};for(let x=0;x<d.count;++x){const T=d.nextBitIsOne(),A=Math.pow(2,d.count-(x+1));T?b(A,me.BLACK):(b(A,me.BLACK),b(A,me.RED))}return m},u=new cA(n.length),h=r(u);return new Ye(s||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Af;const oa={};class $n{static get Default(){return F(oa&&$t,"ChildrenNode.ts has not been loaded"),Af=Af||new $n({".priority":oa},{".priority":$t}),Af}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=ya(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ye?e:null}hasIndex(t){return Nn(this.indexSet_,t.toString())}addIndex(t,e){F(t!==ga,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const r=e.getIterator(vt.Wrap);let u=r.getNext();for(;u;)l=l||t.isDefinedOn(u.node),s.push(u),u=r.getNext();let h;l?h=bc(s,t.getCompare()):h=oa;const d=t.toString(),g=Object.assign({},this.indexSet_);g[d]=t;const m=Object.assign({},this.indexes_);return m[d]=h,new $n(m,g)}addToIndexes(t,e){const s=dc(this.indexes_,(l,r)=>{const u=ya(this.indexSet_,r);if(F(u,"Missing index implementation for "+r),l===oa)if(u.isDefinedOn(t.node)){const h=[],d=e.getIterator(vt.Wrap);let g=d.getNext();for(;g;)g.name!==t.name&&h.push(g),g=d.getNext();return h.push(t),bc(h,u.getCompare())}else return oa;else{const h=e.get(t.name);let d=l;return h&&(d=d.remove(new vt(t.name,h))),d.insert(t,t.node)}});return new $n(s,this.indexSet_)}removeFromIndexes(t,e){const s=dc(this.indexes_,l=>{if(l===oa)return l;{const r=e.get(t.name);return r?l.remove(new vt(t.name,r)):l}});return new $n(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zl;class ut{static get EMPTY_NODE(){return zl||(zl=new ut(new Ye(wd),null,$n.Default))}constructor(t,e,s){this.children_=t,this.priorityNode_=e,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&p0(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||zl}updatePriority(t){return this.children_.isEmpty()?this:new ut(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?zl:e}}getChild(t){const e=bt(t);return e===null?this:this.getImmediateChild(e).getChild(Yt(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(F(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const s=new vt(t,e);let l,r;e.isEmpty()?(l=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(t,e),r=this.indexMap_.addToIndexes(s,this.children_));const u=l.isEmpty()?zl:this.priorityNode_;return new ut(l,u,r)}}updateChild(t,e){const s=bt(t);if(s===null)return e;{F(bt(t)!==".priority"||Ii(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Yt(t),e);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let s=0,l=0,r=!0;if(this.forEachChild($t,(u,h)=>{e[u]=h.val(t),s++,r&&ut.INTEGER_REGEXP_.test(u)?l=Math.max(l,Number(u)):r=!1}),!t&&r&&l<2*s){const u=[];for(const h in e)u[h]=e[h];return u}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+g0(this.getPriority().val())+":"),this.forEachChild($t,(e,s)=>{const l=s.hash();l!==""&&(t+=":"+e+":"+l)}),this.lazyHash_=t===""?"":Fv(t)}return this.lazyHash_}getPredecessorChildName(t,e,s){const l=this.resolveIndex_(s);if(l){const r=l.getPredecessorKey(new vt(t,e));return r?r.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const s=e.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new vt(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const s=e.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new vt(e,this.children_.get(e)):null}forEachChild(t,e){const s=this.resolveIndex_(t);return s?s.inorderTraversal(l=>e(l.name,l.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const s=this.resolveIndex_(e);if(s)return s.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,vt.Wrap);let r=l.peek();for(;r!=null&&e.compare(r,t)<0;)l.getNext(),r=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const s=this.resolveIndex_(e);if(s)return s.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,vt.Wrap);let r=l.peek();for(;r!=null&&e.compare(r,t)>0;)l.getNext(),r=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===wo?-1:0}withIndex(t){if(t===ga||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new ut(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===ga||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const s=this.getIterator($t),l=e.getIterator($t);let r=s.getNext(),u=l.getNext();for(;r&&u;){if(r.name!==u.name||!r.node.equals(u.node))return!1;r=s.getNext(),u=l.getNext()}return r===null&&u===null}else return!1;else return!1}}resolveIndex_(t){return t===ga?null:this.indexMap_.get(t.toString())}}ut.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class uA extends ut{constructor(){super(new Ye(wd),ut.EMPTY_NODE,$n.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ut.EMPTY_NODE}isEmpty(){return!1}}const wo=new uA;Object.defineProperties(vt,{MIN:{value:new vt(ba,ut.EMPTY_NODE)},MAX:{value:new vt(gs,wo)}});d0.__EMPTY_NODE=ut.EMPTY_NODE;pe.__childrenNodeConstructor=ut;sA(wo);lA(wo);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hA=!0;function _e(n,t=null){if(n===null)return ut.EMPTY_NODE;if(typeof n=="object"&&".priority"in n&&(t=n[".priority"]),F(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof n=="object"&&".value"in n&&n[".value"]!==null&&(n=n[".value"]),typeof n!="object"||".sv"in n){const e=n;return new pe(e,_e(t))}if(!(n instanceof Array)&&hA){const e=[];let s=!1;if(Te(n,(u,h)=>{if(u.substring(0,1)!=="."){const d=_e(h);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),e.push(new vt(u,d)))}}),e.length===0)return ut.EMPTY_NODE;const r=bc(e,iA,u=>u.name,wd);if(s){const u=bc(e,$t.getCompare());return new ut(r,_e(t),new $n({".priority":u},{".priority":$t}))}else return new ut(r,_e(t),$n.Default)}else{let e=ut.EMPTY_NODE;return Te(n,(s,l)=>{if(Nn(n,s)&&s.substring(0,1)!=="."){const r=_e(l);(r.isLeafNode()||!r.isEmpty())&&(e=e.updateImmediateChild(s,r))}}),e.updatePriority(_e(t))}}aA(_e);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fA extends jc{constructor(t){super(),this.indexPath_=t,F(!Et(t)&&bt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),l=this.extractChild(e.node),r=s.compareTo(l);return r===0?bs(t.name,e.name):r}makePost(t,e){const s=_e(t),l=ut.EMPTY_NODE.updateChild(this.indexPath_,s);return new vt(e,l)}maxPost(){const t=ut.EMPTY_NODE.updateChild(this.indexPath_,wo);return new vt(gs,t)}toString(){return co(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA extends jc{compare(t,e){const s=t.node.compareTo(e.node);return s===0?bs(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return vt.MIN}maxPost(){return vt.MAX}makePost(t,e){const s=_e(t);return new vt(e,s)}toString(){return".value"}}const gA=new dA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y0(n){return{type:"value",snapshotNode:n}}function va(n,t){return{type:"child_added",snapshotNode:t,childName:n}}function uo(n,t){return{type:"child_removed",snapshotNode:t,childName:n}}function ho(n,t,e){return{type:"child_changed",snapshotNode:t,childName:n,oldSnap:e}}function pA(n,t){return{type:"child_moved",snapshotNode:t,childName:n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dd{constructor(t){this.index_=t}updateChild(t,e,s,l,r,u){F(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?t.hasChild(e)?u.trackChildChange(uo(e,h)):F(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(va(e,s)):u.trackChildChange(ho(e,s,h))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return s!=null&&(t.isLeafNode()||t.forEachChild($t,(l,r)=>{e.hasChild(l)||s.trackChildChange(uo(l,r))}),e.isLeafNode()||e.forEachChild($t,(l,r)=>{if(t.hasChild(l)){const u=t.getImmediateChild(l);u.equals(r)||s.trackChildChange(ho(l,r,u))}else s.trackChildChange(va(l,r))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ut.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(t){this.indexedFilter_=new Dd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=fo.getStartPost_(t),this.endPost_=fo.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&s}updateChild(t,e,s,l,r,u){return this.matches(new vt(e,s))||(s=ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,l,r,u)}updateFullNode(t,e,s){e.isLeafNode()&&(e=ut.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(ut.EMPTY_NODE);const r=this;return e.forEachChild($t,(u,h)=>{r.matches(new vt(u,h))||(l=l.updateImmediateChild(u,ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new fo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,s,l,r,u){return this.rangedFilter_.matches(new vt(e,s))||(s=ut.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,l,r,u):this.fullLimitUpdateChild_(t,e,s,r,u)}updateFullNode(t,e,s){let l;if(e.isLeafNode()||e.isEmpty())l=ut.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){l=ut.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;r.hasNext()&&u<this.limit_;){const h=r.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{l=e.withIndex(this.index_),l=l.updatePriority(ut.EMPTY_NODE);let r;this.reverse_?r=l.getReverseIterator(this.index_):r=l.getIterator(this.index_);let u=0;for(;r.hasNext();){const h=r.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:l=l.updateImmediateChild(h.name,ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,l,r){let u;if(this.reverse_){const _=this.index_.getCompare();u=(b,S)=>_(S,b)}else u=this.index_.getCompare();const h=t;F(h.numChildren()===this.limit_,"");const d=new vt(e,s),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(h.hasChild(e)){const _=h.getImmediateChild(e);let b=l.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===e||h.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const S=b==null?1:u(b,d);if(m&&!s.isEmpty()&&S>=0)return r!=null&&r.trackChildChange(ho(e,s,_)),h.updateImmediateChild(e,s);{r!=null&&r.trackChildChange(uo(e,_));const T=h.updateImmediateChild(e,ut.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(r!=null&&r.trackChildChange(va(b.name,b.node)),T.updateImmediateChild(b.name,b.node)):T}}else return s.isEmpty()?t:m&&u(g,d)>=0?(r!=null&&(r.trackChildChange(uo(g.name,g.node)),r.trackChildChange(va(e,s))),h.updateImmediateChild(e,s).updateImmediateChild(g.name,ut.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Od{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$t}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ba}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:gs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$t}copy(){const t=new Od;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function _A(n){return n.loadsAllData()?new Dd(n.getIndex()):n.hasLimit()?new mA(n):new fo(n)}function Qy(n){const t={};if(n.isDefault())return t;let e;if(n.index_===$t?e="$priority":n.index_===gA?e="$value":n.index_===ga?e="$key":(F(n.index_ instanceof fA,"Unrecognized index type!"),e=n.index_.toString()),t.orderBy=ye(e),n.startSet_){const s=n.startAfterSet_?"startAfter":"startAt";t[s]=ye(n.indexStartValue_),n.startNameSet_&&(t[s]+=","+ye(n.indexStartName_))}if(n.endSet_){const s=n.endBeforeSet_?"endBefore":"endAt";t[s]=ye(n.indexEndValue_),n.endNameSet_&&(t[s]+=","+ye(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?t.limitToFirst=n.limit_:t.limitToLast=n.limit_),t}function Ky(n){const t={};if(n.startSet_&&(t.sp=n.indexStartValue_,n.startNameSet_&&(t.sn=n.indexStartName_),t.sin=!n.startAfterSet_),n.endSet_&&(t.ep=n.indexEndValue_,n.endNameSet_&&(t.en=n.indexEndName_),t.ein=!n.endBeforeSet_),n.limitSet_){t.l=n.limit_;let e=n.viewFrom_;e===""&&(n.isViewFromLeft()?e="l":e="r"),t.vf=e}return n.index_!==$t&&(t.i=n.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends c0{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(F(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,s,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=Mo("p:rest:"),this.listens_={}}listen(t,e,s,l){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const u=vc.getListenId_(t,s),h={};this.listens_[u]=h;const d=Qy(t._queryParams);this.restRequest_(r+".json",d,(g,m)=>{let _=m;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(r,_,!1,s),ya(this.listens_,u)===h){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",l(b,null)}})}unlisten(t,e){const s=vc.getListenId_(t,e);delete this.listens_[s]}get(t){const e=Qy(t._queryParams),s=t._path.toString(),l=new To;return this.restRequest_(s+".json",e,(r,u)=>{let h=u;r===404&&(h=null,r=null),r===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,r])=>{l&&l.accessToken&&(e.auth=l.accessToken),r&&r.token&&(e.ac=r.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+PE(e);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=ao(h.responseText)}catch{Ne("Failed to parse JSON response for "+u+": "+h.responseText)}s(null,d)}else h.status!==401&&h.status!==404&&Ne("Got unsuccessful REST response for "+u+" Status: "+h.status),s(h.status);s=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yA{constructor(){this.rootNode_=ut.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sc(){return{value:null,children:new Map}}function b0(n,t,e){if(Et(t))n.value=e,n.children.clear();else if(n.value!==null)n.value=n.value.updateChild(t,e);else{const s=bt(t);n.children.has(s)||n.children.set(s,Sc());const l=n.children.get(s);t=Yt(t),b0(l,t,e)}}function Xf(n,t,e){n.value!==null?e(t,n.value):bA(n,(s,l)=>{const r=new It(t.toString()+"/"+s);Xf(l,r,e)})}function bA(n,t){n.children.forEach((e,s)=>{t(s,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vA{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&Te(this.last_,(s,l)=>{e[s]=e[s]-l}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zy=10*1e3,SA=30*1e3,xA=5*60*1e3;class EA{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new vA(t);const s=Zy+(SA-Zy)*Math.random();Kl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;Te(t,(l,r)=>{r>0&&Nn(this.statsToReport_,l)&&(e[l]=r,s=!0)}),s&&this.server_.reportStats(e),Kl(this.reportStats_.bind(this),Math.floor(Math.random()*2*xA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bn;(function(n){n[n.OVERWRITE=0]="OVERWRITE",n[n.MERGE=1]="MERGE",n[n.ACK_USER_WRITE=2]="ACK_USER_WRITE",n[n.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(bn||(bn={}));function Rd(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Nd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function kd(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=bn.ACK_USER_WRITE,this.source=Rd()}operationForChild(t){if(Et(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new It(t));return new xc(Dt(),e,this.revert)}}else return F(bt(this.path)===t,"operationForChild called for unrelated child."),new xc(Yt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{constructor(t,e){this.source=t,this.path=e,this.type=bn.LISTEN_COMPLETE}operationForChild(t){return Et(this.path)?new go(this.source,Dt()):new go(this.source,Yt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=bn.OVERWRITE}operationForChild(t){return Et(this.path)?new ps(this.source,Dt(),this.snap.getImmediateChild(t)):new ps(this.source,Yt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=bn.MERGE}operationForChild(t){if(Et(this.path)){const e=this.children.subtree(new It(t));return e.isEmpty()?null:e.value?new ps(this.source,Dt(),e.value):new Sa(this.source,Dt(),e)}else return F(bt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new Sa(this.source,Yt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Et(t))return this.isFullyInitialized()&&!this.filtered_;const e=bt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function CA(n,t,e,s){const l=[],r=[];return t.forEach(u=>{u.type==="child_changed"&&n.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&r.push(pA(u.childName,u.snapshotNode))}),Ll(n,l,"child_removed",t,s,e),Ll(n,l,"child_added",t,s,e),Ll(n,l,"child_moved",r,s,e),Ll(n,l,"child_changed",t,s,e),Ll(n,l,"value",t,s,e),l}function Ll(n,t,e,s,l,r){const u=s.filter(h=>h.type===e);u.sort((h,d)=>MA(n,h,d)),u.forEach(h=>{const d=AA(n,h,r);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(d,n.query_))})})}function AA(n,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,n.index_)),t}function MA(n,t,e){if(t.childName==null||e.childName==null)throw Ma("Should only compare child_ events.");const s=new vt(t.childName,t.snapshotNode),l=new vt(e.childName,e.snapshotNode);return n.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pc(n,t){return{eventCache:n,serverCache:t}}function Zl(n,t,e,s){return Pc(new ms(t,e,s),n.serverCache)}function v0(n,t,e,s){return Pc(n.eventCache,new ms(t,e,s))}function Qf(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function _s(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mf;const wA=()=>(Mf||(Mf=new Ye(fC)),Mf);class Pt{static fromObject(t){let e=new Pt(null);return Te(t,(s,l)=>{e=e.set(new It(s),l)}),e}constructor(t,e=wA()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:Dt(),value:this.value};if(Et(t))return null;{const s=bt(t),l=this.children.get(s);if(l!==null){const r=l.findRootMostMatchingPathAndValue(Yt(t),e);return r!=null?{path:Zt(new It(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Et(t))return this;{const e=bt(t),s=this.children.get(e);return s!==null?s.subtree(Yt(t)):new Pt(null)}}set(t,e){if(Et(t))return new Pt(e,this.children);{const s=bt(t),r=(this.children.get(s)||new Pt(null)).set(Yt(t),e),u=this.children.insert(s,r);return new Pt(this.value,u)}}remove(t){if(Et(t))return this.children.isEmpty()?new Pt(null):new Pt(null,this.children);{const e=bt(t),s=this.children.get(e);if(s){const l=s.remove(Yt(t));let r;return l.isEmpty()?r=this.children.remove(e):r=this.children.insert(e,l),this.value===null&&r.isEmpty()?new Pt(null):new Pt(this.value,r)}else return this}}get(t){if(Et(t))return this.value;{const e=bt(t),s=this.children.get(e);return s?s.get(Yt(t)):null}}setTree(t,e){if(Et(t))return e;{const s=bt(t),r=(this.children.get(s)||new Pt(null)).setTree(Yt(t),e);let u;return r.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,r),new Pt(this.value,u)}}fold(t){return this.fold_(Dt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((l,r)=>{s[l]=r.fold_(Zt(t,l),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,Dt(),e)}findOnPath_(t,e,s){const l=this.value?s(e,this.value):!1;if(l)return l;if(Et(t))return null;{const r=bt(t),u=this.children.get(r);return u?u.findOnPath_(Yt(t),Zt(e,r),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,Dt(),e)}foreachOnPath_(t,e,s){if(Et(t))return this;{this.value&&s(e,this.value);const l=bt(t),r=this.children.get(l);return r?r.foreachOnPath_(Yt(t),Zt(e,l),s):new Pt(null)}}foreach(t){this.foreach_(Dt(),t)}foreach_(t,e){this.children.inorderTraversal((s,l)=>{l.foreach_(Zt(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vn{constructor(t){this.writeTree_=t}static empty(){return new vn(new Pt(null))}}function $l(n,t,e){if(Et(t))return new vn(new Pt(e));{const s=n.writeTree_.findRootMostValueAndPath(t);if(s!=null){const l=s.path;let r=s.value;const u=Ve(l,t);return r=r.updateChild(u,e),new vn(n.writeTree_.set(l,r))}else{const l=new Pt(e),r=n.writeTree_.setTree(t,l);return new vn(r)}}}function Kf(n,t,e){let s=n;return Te(e,(l,r)=>{s=$l(s,Zt(t,l),r)}),s}function $y(n,t){if(Et(t))return vn.empty();{const e=n.writeTree_.setTree(t,new Pt(null));return new vn(e)}}function Zf(n,t){return vs(n,t)!=null}function vs(n,t){const e=n.writeTree_.findRootMostValueAndPath(t);return e!=null?n.writeTree_.get(e.path).getChild(Ve(e.path,t)):null}function Jy(n){const t=[],e=n.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild($t,(s,l)=>{t.push(new vt(s,l))}):n.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&t.push(new vt(s,l.value))}),t}function zi(n,t){if(Et(t))return n;{const e=vs(n,t);return e!=null?new vn(new Pt(e)):new vn(n.writeTree_.subtree(t))}}function $f(n){return n.writeTree_.isEmpty()}function xa(n,t){return S0(Dt(),n.writeTree_,t)}function S0(n,t,e){if(t.value!=null)return e.updateChild(n,t.value);{let s=null;return t.children.inorderTraversal((l,r)=>{l===".priority"?(F(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):e=S0(Zt(n,l),r,e)}),!e.getChild(n).isEmpty()&&s!==null&&(e=e.updateChild(Zt(n,".priority"),s)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(n,t){return C0(t,n)}function DA(n,t,e,s,l){F(s>n.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),n.allWrites.push({path:t,snap:e,writeId:s,visible:l}),l&&(n.visibleWrites=$l(n.visibleWrites,t,e)),n.lastWriteId=s}function OA(n,t,e,s){F(s>n.lastWriteId,"Stacking an older merge on top of newer ones"),n.allWrites.push({path:t,children:e,writeId:s,visible:!0}),n.visibleWrites=Kf(n.visibleWrites,t,e),n.lastWriteId=s}function RA(n,t){for(let e=0;e<n.allWrites.length;e++){const s=n.allWrites[e];if(s.writeId===t)return s}return null}function NA(n,t){const e=n.allWrites.findIndex(h=>h.writeId===t);F(e>=0,"removeWrite called with nonexistent writeId.");const s=n.allWrites[e];n.allWrites.splice(e,1);let l=s.visible,r=!1,u=n.allWrites.length-1;for(;l&&u>=0;){const h=n.allWrites[u];h.visible&&(u>=e&&kA(h,s.path)?l=!1:hn(s.path,h.path)&&(r=!0)),u--}if(l){if(r)return zA(n),!0;if(s.snap)n.visibleWrites=$y(n.visibleWrites,s.path);else{const h=s.children;Te(h,d=>{n.visibleWrites=$y(n.visibleWrites,Zt(s.path,d))})}return!0}else return!1}function kA(n,t){if(n.snap)return hn(n.path,t);for(const e in n.children)if(n.children.hasOwnProperty(e)&&hn(Zt(n.path,e),t))return!0;return!1}function zA(n){n.visibleWrites=x0(n.allWrites,LA,Dt()),n.allWrites.length>0?n.lastWriteId=n.allWrites[n.allWrites.length-1].writeId:n.lastWriteId=-1}function LA(n){return n.visible}function x0(n,t,e){let s=vn.empty();for(let l=0;l<n.length;++l){const r=n[l];if(t(r)){const u=r.path;let h;if(r.snap)hn(e,u)?(h=Ve(e,u),s=$l(s,h,r.snap)):hn(u,e)&&(h=Ve(u,e),s=$l(s,Dt(),r.snap.getChild(h)));else if(r.children){if(hn(e,u))h=Ve(e,u),s=Kf(s,h,r.children);else if(hn(u,e))if(h=Ve(u,e),Et(h))s=Kf(s,Dt(),r.children);else{const d=ya(r.children,bt(h));if(d){const g=d.getChild(Yt(h));s=$l(s,Dt(),g)}}}else throw Ma("WriteRecord should have .snap or .children")}}return s}function E0(n,t,e,s,l){if(!s&&!l){const r=vs(n.visibleWrites,t);if(r!=null)return r;{const u=zi(n.visibleWrites,t);if($f(u))return e;if(e==null&&!Zf(u,Dt()))return null;{const h=e||ut.EMPTY_NODE;return xa(u,h)}}}else{const r=zi(n.visibleWrites,t);if(!l&&$f(r))return e;if(!l&&e==null&&!Zf(r,Dt()))return null;{const u=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(hn(g.path,t)||hn(t,g.path))},h=x0(n.allWrites,u,t),d=e||ut.EMPTY_NODE;return xa(h,d)}}}function IA(n,t,e){let s=ut.EMPTY_NODE;const l=vs(n.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild($t,(r,u)=>{s=s.updateImmediateChild(r,u)}),s;if(e){const r=zi(n.visibleWrites,t);return e.forEachChild($t,(u,h)=>{const d=xa(zi(r,new It(u)),h);s=s.updateImmediateChild(u,d)}),Jy(r).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const r=zi(n.visibleWrites,t);return Jy(r).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function BA(n,t,e,s,l){F(s||l,"Either existingEventSnap or existingServerSnap must exist");const r=Zt(t,e);if(Zf(n.visibleWrites,r))return null;{const u=zi(n.visibleWrites,r);return $f(u)?l.getChild(e):xa(u,l.getChild(e))}}function HA(n,t,e,s){const l=Zt(t,e),r=vs(n.visibleWrites,l);if(r!=null)return r;if(s.isCompleteForChild(e)){const u=zi(n.visibleWrites,l);return xa(u,s.getNode().getImmediateChild(e))}else return null}function UA(n,t){return vs(n.visibleWrites,t)}function jA(n,t,e,s,l,r,u){let h;const d=zi(n.visibleWrites,t),g=vs(d,Dt());if(g!=null)h=g;else if(e!=null)h=xa(d,e);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const m=[],_=u.getCompare(),b=r?h.getReverseIteratorFrom(s,u):h.getIteratorFrom(s,u);let S=b.getNext();for(;S&&m.length<l;)_(S,s)!==0&&m.push(S),S=b.getNext();return m}else return[]}function PA(){return{visibleWrites:vn.empty(),allWrites:[],lastWriteId:-1}}function Ec(n,t,e,s){return E0(n.writeTree,n.treePath,t,e,s)}function Ld(n,t){return IA(n.writeTree,n.treePath,t)}function tb(n,t,e,s){return BA(n.writeTree,n.treePath,t,e,s)}function Tc(n,t){return UA(n.writeTree,Zt(n.treePath,t))}function VA(n,t,e,s,l,r){return jA(n.writeTree,n.treePath,t,e,s,l,r)}function Id(n,t,e){return HA(n.writeTree,n.treePath,t,e)}function T0(n,t){return C0(Zt(n.treePath,t),n.writeTree)}function C0(n,t){return{treePath:n,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YA{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;F(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),F(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const r=l.type;if(e==="child_added"&&r==="child_removed")this.changeMap.set(s,ho(s,t.snapshotNode,l.snapshotNode));else if(e==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(e==="child_removed"&&r==="child_changed")this.changeMap.set(s,uo(s,l.oldSnap));else if(e==="child_changed"&&r==="child_added")this.changeMap.set(s,va(s,t.snapshotNode));else if(e==="child_changed"&&r==="child_changed")this.changeMap.set(s,ho(s,t.snapshotNode,l.oldSnap));else throw Ma("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}}const A0=new FA;class Bd{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=this.optCompleteServerCache_!=null?new ms(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Id(this.writes_,t,s)}}getChildAfterChild(t,e,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:_s(this.viewCache_),r=VA(this.writes_,l,e,1,s,t);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(n){return{filter:n}}function GA(n,t){F(t.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),F(t.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}function WA(n,t,e,s,l){const r=new YA;let u,h;if(e.type===bn.OVERWRITE){const g=e;g.source.fromUser?u=Jf(n,t,g.path,g.snap,s,l,r):(F(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!Et(g.path),u=Cc(n,t,g.path,g.snap,s,l,h,r))}else if(e.type===bn.MERGE){const g=e;g.source.fromUser?u=QA(n,t,g.path,g.children,s,l,r):(F(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),u=td(n,t,g.path,g.children,s,l,h,r))}else if(e.type===bn.ACK_USER_WRITE){const g=e;g.revert?u=$A(n,t,g.path,s,l,r):u=KA(n,t,g.path,g.affectedTree,s,l,r)}else if(e.type===bn.LISTEN_COMPLETE)u=ZA(n,t,e.path,s,r);else throw Ma("Unknown operation type: "+e.type);const d=r.getChanges();return XA(t,u,d),{viewCache:u,changes:d}}function XA(n,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Qf(n);(e.length>0||!n.eventCache.isFullyInitialized()||l&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&e.push(y0(Qf(t)))}}function M0(n,t,e,s,l,r){const u=t.eventCache;if(Tc(s,e)!=null)return t;{let h,d;if(Et(e))if(F(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=_s(t),m=g instanceof ut?g:ut.EMPTY_NODE,_=Ld(s,m);h=n.filter.updateFullNode(t.eventCache.getNode(),_,r)}else{const g=Ec(s,_s(t));h=n.filter.updateFullNode(t.eventCache.getNode(),g,r)}else{const g=bt(e);if(g===".priority"){F(Ii(e)===1,"Can't have a priority with additional path components");const m=u.getNode();d=t.serverCache.getNode();const _=tb(s,e,m,d);_!=null?h=n.filter.updatePriority(m,_):h=u.getNode()}else{const m=Yt(e);let _;if(u.isCompleteForChild(g)){d=t.serverCache.getNode();const b=tb(s,e,u.getNode(),d);b!=null?_=u.getNode().getImmediateChild(g).updateChild(m,b):_=u.getNode().getImmediateChild(g)}else _=Id(s,g,t.serverCache);_!=null?h=n.filter.updateChild(u.getNode(),g,_,m,l,r):h=u.getNode()}}return Zl(t,h,u.isFullyInitialized()||Et(e),n.filter.filtersNodes())}}function Cc(n,t,e,s,l,r,u,h){const d=t.serverCache;let g;const m=u?n.filter:n.filter.getIndexedFilter();if(Et(e))g=m.updateFullNode(d.getNode(),s,null);else if(m.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(e,s);g=m.updateFullNode(d.getNode(),S,null)}else{const S=bt(e);if(!d.isCompleteForPath(e)&&Ii(e)>1)return t;const x=Yt(e),A=d.getNode().getImmediateChild(S).updateChild(x,s);S===".priority"?g=m.updatePriority(d.getNode(),A):g=m.updateChild(d.getNode(),S,A,x,A0,null)}const _=v0(t,g,d.isFullyInitialized()||Et(e),m.filtersNodes()),b=new Bd(l,_,r);return M0(n,_,e,l,b,h)}function Jf(n,t,e,s,l,r,u){const h=t.eventCache;let d,g;const m=new Bd(l,t,r);if(Et(e))g=n.filter.updateFullNode(t.eventCache.getNode(),s,u),d=Zl(t,g,!0,n.filter.filtersNodes());else{const _=bt(e);if(_===".priority")g=n.filter.updatePriority(t.eventCache.getNode(),s),d=Zl(t,g,h.isFullyInitialized(),h.isFiltered());else{const b=Yt(e),S=h.getNode().getImmediateChild(_);let x;if(Et(b))x=s;else{const T=m.getCompleteChild(_);T!=null?Cd(b)===".priority"&&T.getChild(h0(b)).isEmpty()?x=T:x=T.updateChild(b,s):x=ut.EMPTY_NODE}if(S.equals(x))d=t;else{const T=n.filter.updateChild(h.getNode(),_,x,b,m,u);d=Zl(t,T,h.isFullyInitialized(),n.filter.filtersNodes())}}}return d}function eb(n,t){return n.eventCache.isCompleteForChild(t)}function QA(n,t,e,s,l,r,u){let h=t;return s.foreach((d,g)=>{const m=Zt(e,d);eb(t,bt(m))&&(h=Jf(n,h,m,g,l,r,u))}),s.foreach((d,g)=>{const m=Zt(e,d);eb(t,bt(m))||(h=Jf(n,h,m,g,l,r,u))}),h}function nb(n,t,e){return e.foreach((s,l)=>{t=t.updateChild(s,l)}),t}function td(n,t,e,s,l,r,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,g;Et(e)?g=s:g=new Pt(null).setTree(e,s);const m=t.serverCache.getNode();return g.children.inorderTraversal((_,b)=>{if(m.hasChild(_)){const S=t.serverCache.getNode().getImmediateChild(_),x=nb(n,S,b);d=Cc(n,d,new It(_),x,l,r,u,h)}}),g.children.inorderTraversal((_,b)=>{const S=!t.serverCache.isCompleteForChild(_)&&b.value===null;if(!m.hasChild(_)&&!S){const x=t.serverCache.getNode().getImmediateChild(_),T=nb(n,x,b);d=Cc(n,d,new It(_),T,l,r,u,h)}}),d}function KA(n,t,e,s,l,r,u){if(Tc(l,e)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(s.value!=null){if(Et(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return Cc(n,t,e,d.getNode().getChild(e),l,r,h,u);if(Et(e)){let g=new Pt(null);return d.getNode().forEachChild(ga,(m,_)=>{g=g.set(new It(m),_)}),td(n,t,e,g,l,r,h,u)}else return t}else{let g=new Pt(null);return s.foreach((m,_)=>{const b=Zt(e,m);d.isCompleteForPath(b)&&(g=g.set(m,d.getNode().getChild(b)))}),td(n,t,e,g,l,r,h,u)}}function ZA(n,t,e,s,l){const r=t.serverCache,u=v0(t,r.getNode(),r.isFullyInitialized()||Et(e),r.isFiltered());return M0(n,u,e,s,A0,l)}function $A(n,t,e,s,l,r){let u;if(Tc(s,e)!=null)return t;{const h=new Bd(s,t,l),d=t.eventCache.getNode();let g;if(Et(e)||bt(e)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=Ec(s,_s(t));else{const _=t.serverCache.getNode();F(_ instanceof ut,"serverChildren would be complete if leaf node"),m=Ld(s,_)}m=m,g=n.filter.updateFullNode(d,m,r)}else{const m=bt(e);let _=Id(s,m,t.serverCache);_==null&&t.serverCache.isCompleteForChild(m)&&(_=d.getImmediateChild(m)),_!=null?g=n.filter.updateChild(d,m,_,Yt(e),h,r):t.eventCache.getNode().hasChild(m)?g=n.filter.updateChild(d,m,ut.EMPTY_NODE,Yt(e),h,r):g=d,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=Ec(s,_s(t)),u.isLeafNode()&&(g=n.filter.updateFullNode(g,u,r)))}return u=t.serverCache.isFullyInitialized()||Tc(s,Dt())!=null,Zl(t,g,u,n.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new Dd(s.getIndex()),r=_A(s);this.processor_=qA(r);const u=e.serverCache,h=e.eventCache,d=l.updateFullNode(ut.EMPTY_NODE,u.getNode(),null),g=r.updateFullNode(ut.EMPTY_NODE,h.getNode(),null),m=new ms(d,u.isFullyInitialized(),l.filtersNodes()),_=new ms(g,h.isFullyInitialized(),r.filtersNodes());this.viewCache_=Pc(_,m),this.eventGenerator_=new TA(this.query_)}get query(){return this.query_}}function tM(n){return n.viewCache_.serverCache.getNode()}function eM(n,t){const e=_s(n.viewCache_);return e&&(n.query._queryParams.loadsAllData()||!Et(t)&&!e.getImmediateChild(bt(t)).isEmpty())?e.getChild(t):null}function ib(n){return n.eventRegistrations_.length===0}function nM(n,t){n.eventRegistrations_.push(t)}function sb(n,t,e){const s=[];if(e){F(t==null,"A cancel should cancel all event registrations.");const l=n.query._path;n.eventRegistrations_.forEach(r=>{const u=r.createCancelEvent(e,l);u&&s.push(u)})}if(t){let l=[];for(let r=0;r<n.eventRegistrations_.length;++r){const u=n.eventRegistrations_[r];if(!u.matches(t))l.push(u);else if(t.hasAnyCallback()){l=l.concat(n.eventRegistrations_.slice(r+1));break}}n.eventRegistrations_=l}else n.eventRegistrations_=[];return s}function ab(n,t,e,s){t.type===bn.MERGE&&t.source.queryId!==null&&(F(_s(n.viewCache_),"We should always have a full cache before handling merges"),F(Qf(n.viewCache_),"Missing event cache, even though we have a server cache"));const l=n.viewCache_,r=WA(n.processor_,l,t,e,s);return GA(n.processor_,r.viewCache),F(r.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=r.viewCache,w0(n,r.changes,r.viewCache.eventCache.getNode(),null)}function iM(n,t){const e=n.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild($t,(r,u)=>{s.push(va(r,u))}),e.isFullyInitialized()&&s.push(y0(e.getNode())),w0(n,s,e.getNode(),t)}function w0(n,t,e,s){const l=s?[s]:n.eventRegistrations_;return CA(n.eventGenerator_,t,e,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ac;class sM{constructor(){this.views=new Map}}function aM(n){F(!Ac,"__referenceConstructor has already been defined"),Ac=n}function lM(){return F(Ac,"Reference.ts has not been loaded"),Ac}function oM(n){return n.views.size===0}function Hd(n,t,e,s){const l=t.source.queryId;if(l!==null){const r=n.views.get(l);return F(r!=null,"SyncTree gave us an op for an invalid query."),ab(r,t,e,s)}else{let r=[];for(const u of n.views.values())r=r.concat(ab(u,t,e,s));return r}}function rM(n,t,e,s,l){const r=t._queryIdentifier,u=n.views.get(r);if(!u){let h=Ec(e,l?s:null),d=!1;h?d=!0:s instanceof ut?(h=Ld(e,s),d=!1):(h=ut.EMPTY_NODE,d=!1);const g=Pc(new ms(h,d,!1),new ms(s,l,!1));return new JA(t,g)}return u}function cM(n,t,e,s,l,r){const u=rM(n,t,s,l,r);return n.views.has(t._queryIdentifier)||n.views.set(t._queryIdentifier,u),nM(u,e),iM(u,e)}function uM(n,t,e,s){const l=t._queryIdentifier,r=[];let u=[];const h=Bi(n);if(l==="default")for(const[d,g]of n.views.entries())u=u.concat(sb(g,e,s)),ib(g)&&(n.views.delete(d),g.query._queryParams.loadsAllData()||r.push(g.query));else{const d=n.views.get(l);d&&(u=u.concat(sb(d,e,s)),ib(d)&&(n.views.delete(l),d.query._queryParams.loadsAllData()||r.push(d.query)))}return h&&!Bi(n)&&r.push(new(lM())(t._repo,t._path)),{removed:r,events:u}}function D0(n){const t=[];for(const e of n.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function pa(n,t){let e=null;for(const s of n.views.values())e=e||eM(s,t);return e}function O0(n,t){if(t._queryParams.loadsAllData())return Vc(n);{const s=t._queryIdentifier;return n.views.get(s)}}function R0(n,t){return O0(n,t)!=null}function Bi(n){return Vc(n)!=null}function Vc(n){for(const t of n.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mc;function hM(n){F(!Mc,"__referenceConstructor has already been defined"),Mc=n}function fM(){return F(Mc,"Reference.ts has not been loaded"),Mc}let dM=1;class lb{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Pt(null),this.pendingWriteTree_=PA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function N0(n,t,e,s,l){return DA(n.pendingWriteTree_,t,e,s,l),l?Oa(n,new ps(Rd(),t,e)):[]}function gM(n,t,e,s){OA(n.pendingWriteTree_,t,e,s);const l=Pt.fromObject(e);return Oa(n,new Sa(Rd(),t,l))}function Oi(n,t,e=!1){const s=RA(n.pendingWriteTree_,t);if(NA(n.pendingWriteTree_,t)){let r=new Pt(null);return s.snap!=null?r=r.set(Dt(),!0):Te(s.children,u=>{r=r.set(new It(u),!0)}),Oa(n,new xc(s.path,r,e))}else return[]}function Yc(n,t,e){return Oa(n,new ps(Nd(),t,e))}function pM(n,t,e){const s=Pt.fromObject(e);return Oa(n,new Sa(Nd(),t,s))}function mM(n,t){return Oa(n,new go(Nd(),t))}function _M(n,t,e){const s=jd(n,e);if(s){const l=Pd(s),r=l.path,u=l.queryId,h=Ve(r,t),d=new go(kd(u),h);return Vd(n,r,d)}else return[]}function ed(n,t,e,s,l=!1){const r=t._path,u=n.syncPointTree_.get(r);let h=[];if(u&&(t._queryIdentifier==="default"||R0(u,t))){const d=uM(u,t,e,s);oM(u)&&(n.syncPointTree_=n.syncPointTree_.remove(r));const g=d.removed;if(h=d.events,!l){const m=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,_=n.syncPointTree_.findOnPath(r,(b,S)=>Bi(S));if(m&&!_){const b=n.syncPointTree_.subtree(r);if(!b.isEmpty()){const S=vM(b);for(let x=0;x<S.length;++x){const T=S[x],A=T.query,z=L0(n,T);n.listenProvider_.startListening(Jl(A),wc(n,A),z.hashFn,z.onComplete)}}}!_&&g.length>0&&!s&&(m?n.listenProvider_.stopListening(Jl(t),null):g.forEach(b=>{const S=n.queryToTagMap.get(Fc(b));n.listenProvider_.stopListening(Jl(b),S)}))}SM(n,g)}return h}function yM(n,t,e,s){const l=jd(n,s);if(l!=null){const r=Pd(l),u=r.path,h=r.queryId,d=Ve(u,t),g=new ps(kd(h),d,e);return Vd(n,u,g)}else return[]}function bM(n,t,e,s){const l=jd(n,s);if(l){const r=Pd(l),u=r.path,h=r.queryId,d=Ve(u,t),g=Pt.fromObject(e),m=new Sa(kd(h),d,g);return Vd(n,u,m)}else return[]}function ob(n,t,e,s=!1){const l=t._path;let r=null,u=!1;n.syncPointTree_.foreachOnPath(l,(b,S)=>{const x=Ve(b,l);r=r||pa(S,x),u=u||Bi(S)});let h=n.syncPointTree_.get(l);h?(u=u||Bi(h),r=r||pa(h,Dt())):(h=new sM,n.syncPointTree_=n.syncPointTree_.set(l,h));let d;r!=null?d=!0:(d=!1,r=ut.EMPTY_NODE,n.syncPointTree_.subtree(l).foreachChild((S,x)=>{const T=pa(x,Dt());T&&(r=r.updateImmediateChild(S,T))}));const g=R0(h,t);if(!g&&!t._queryParams.loadsAllData()){const b=Fc(t);F(!n.queryToTagMap.has(b),"View does not exist, but we have a tag");const S=xM();n.queryToTagMap.set(b,S),n.tagToQueryMap.set(S,b)}const m=zd(n.pendingWriteTree_,l);let _=cM(h,t,e,m,r,d);if(!g&&!u&&!s){const b=O0(h,t);_=_.concat(EM(n,t,b))}return _}function Ud(n,t,e){const l=n.pendingWriteTree_,r=n.syncPointTree_.findOnPath(t,(u,h)=>{const d=Ve(u,t),g=pa(h,d);if(g)return g});return E0(l,t,r,e,!0)}function Oa(n,t){return k0(t,n.syncPointTree_,null,zd(n.pendingWriteTree_,Dt()))}function k0(n,t,e,s){if(Et(n.path))return z0(n,t,e,s);{const l=t.get(Dt());e==null&&l!=null&&(e=pa(l,Dt()));let r=[];const u=bt(n.path),h=n.operationForChild(u),d=t.children.get(u);if(d&&h){const g=e?e.getImmediateChild(u):null,m=T0(s,u);r=r.concat(k0(h,d,g,m))}return l&&(r=r.concat(Hd(l,n,s,e))),r}}function z0(n,t,e,s){const l=t.get(Dt());e==null&&l!=null&&(e=pa(l,Dt()));let r=[];return t.children.inorderTraversal((u,h)=>{const d=e?e.getImmediateChild(u):null,g=T0(s,u),m=n.operationForChild(u);m&&(r=r.concat(z0(m,h,d,g)))}),l&&(r=r.concat(Hd(l,n,s,e))),r}function L0(n,t){const e=t.query,s=wc(n,e);return{hashFn:()=>(tM(t)||ut.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?_M(n,e._path,s):mM(n,e._path);{const r=pC(l,e);return ed(n,e,null,r)}}}}function wc(n,t){const e=Fc(t);return n.queryToTagMap.get(e)}function Fc(n){return n._path.toString()+"$"+n._queryIdentifier}function jd(n,t){return n.tagToQueryMap.get(t)}function Pd(n){const t=n.indexOf("$");return F(t!==-1&&t<n.length-1,"Bad queryKey."),{queryId:n.substr(t+1),path:new It(n.substr(0,t))}}function Vd(n,t,e){const s=n.syncPointTree_.get(t);F(s,"Missing sync point for query tag that we're tracking");const l=zd(n.pendingWriteTree_,t);return Hd(s,e,l,null)}function vM(n){return n.fold((t,e,s)=>{if(e&&Bi(e))return[Vc(e)];{let l=[];return e&&(l=D0(e)),Te(s,(r,u)=>{l=l.concat(u)}),l}})}function Jl(n){return n._queryParams.loadsAllData()&&!n._queryParams.isDefault()?new(fM())(n._repo,n._path):n}function SM(n,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const l=Fc(s),r=n.queryToTagMap.get(l);n.queryToTagMap.delete(l),n.tagToQueryMap.delete(r)}}}function xM(){return dM++}function EM(n,t,e){const s=t._path,l=wc(n,t),r=L0(n,e),u=n.listenProvider_.startListening(Jl(t),l,r.hashFn,r.onComplete),h=n.syncPointTree_.subtree(s);if(l)F(!Bi(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((g,m,_)=>{if(!Et(g)&&m&&Bi(m))return[Vc(m).query];{let b=[];return m&&(b=b.concat(D0(m).map(S=>S.query))),Te(_,(S,x)=>{b=b.concat(x)}),b}});for(let g=0;g<d.length;++g){const m=d[g];n.listenProvider_.stopListening(Jl(m),wc(n,m))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yd{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new Yd(e)}node(){return this.node_}}class Fd{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=Zt(this.path_,t);return new Fd(this.syncTree_,e)}node(){return Ud(this.syncTree_,this.path_)}}const TM=function(n){return n=n||{},n.timestamp=n.timestamp||new Date().getTime(),n},rb=function(n,t,e){if(!n||typeof n!="object")return n;if(F(".sv"in n,"Unexpected leaf node or priority contents"),typeof n[".sv"]=="string")return CM(n[".sv"],t,e);if(typeof n[".sv"]=="object")return AM(n[".sv"],t);F(!1,"Unexpected server value: "+JSON.stringify(n,null,2))},CM=function(n,t,e){switch(n){case"timestamp":return e.timestamp;default:F(!1,"Unexpected server value: "+n)}},AM=function(n,t,e){n.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const s=n.increment;typeof s!="number"&&F(!1,"Unexpected increment value: "+s);const l=t.node();if(F(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const u=l.getValue();return typeof u!="number"?s:u+s},I0=function(n,t,e,s){return qd(t,new Fd(e,n),s)},B0=function(n,t,e){return qd(n,new Yd(t),e)};function qd(n,t,e){const s=n.getPriority().val(),l=rb(s,t.getImmediateChild(".priority"),e);let r;if(n.isLeafNode()){const u=n,h=rb(u.getValue(),t,e);return h!==u.getValue()||l!==u.getPriority().val()?new pe(h,_e(l)):n}else{const u=n;return r=u,l!==u.getPriority().val()&&(r=r.updatePriority(new pe(l))),u.forEachChild($t,(h,d)=>{const g=qd(d,t.getImmediateChild(h),e);g!==d&&(r=r.updateImmediateChild(h,g))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function Wd(n,t){let e=t instanceof It?t:new It(t),s=n,l=bt(e);for(;l!==null;){const r=ya(s.node.children,l)||{children:{},childCount:0};s=new Gd(l,s,r),e=Yt(e),l=bt(e)}return s}function Ra(n){return n.node.value}function H0(n,t){n.node.value=t,nd(n)}function U0(n){return n.node.childCount>0}function MM(n){return Ra(n)===void 0&&!U0(n)}function qc(n,t){Te(n.node.children,(e,s)=>{t(new Gd(e,n,s))})}function j0(n,t,e,s){e&&t(n),qc(n,l=>{j0(l,t,!0)})}function wM(n,t,e){let s=n.parent;for(;s!==null;){if(t(s))return!0;s=s.parent}return!1}function Do(n){return new It(n.parent===null?n.name:Do(n.parent)+"/"+n.name)}function nd(n){n.parent!==null&&DM(n.parent,n.name,n)}function DM(n,t,e){const s=MM(e),l=Nn(n.node.children,t);s&&l?(delete n.node.children[t],n.node.childCount--,nd(n)):!s&&!l&&(n.node.children[t]=e.node,n.node.childCount++,nd(n))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OM=/[\[\].#$\/\u0000-\u001F\u007F]/,RM=/[\[\].#$\u0000-\u001F\u007F]/,wf=10*1024*1024,Xd=function(n){return typeof n=="string"&&n.length!==0&&!OM.test(n)},P0=function(n){return typeof n=="string"&&n.length!==0&&!RM.test(n)},NM=function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),P0(n)},kM=function(n){return n===null||typeof n=="string"||typeof n=="number"&&!vd(n)||n&&typeof n=="object"&&Nn(n,".sv")},V0=function(n,t,e,s){s&&t===void 0||Gc(Hc(n,"value"),t,e)},Gc=function(n,t,e){const s=e instanceof It?new QC(e,n):e;if(t===void 0)throw new Error(n+"contains undefined "+rs(s));if(typeof t=="function")throw new Error(n+"contains a function "+rs(s)+" with contents = "+t.toString());if(vd(t))throw new Error(n+"contains "+t.toString()+" "+rs(s));if(typeof t=="string"&&t.length>wf/3&&Uc(t)>wf)throw new Error(n+"contains a string greater than "+wf+" utf8 bytes "+rs(s)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,r=!1;if(Te(t,(u,h)=>{if(u===".value")l=!0;else if(u!==".priority"&&u!==".sv"&&(r=!0,!Xd(u)))throw new Error(n+" contains an invalid key ("+u+") "+rs(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);KC(s,u),Gc(n,h,s),ZC(s)}),l&&r)throw new Error(n+' contains ".value" child '+rs(s)+" in addition to actual children.")}},zM=function(n,t){let e,s;for(e=0;e<t.length;e++){s=t[e];const r=co(s);for(let u=0;u<r.length;u++)if(!(r[u]===".priority"&&u===r.length-1)){if(!Xd(r[u]))throw new Error(n+"contains an invalid key ("+r[u]+") in path "+s.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}t.sort(XC);let l=null;for(e=0;e<t.length;e++){if(s=t[e],l!==null&&hn(l,s))throw new Error(n+"contains a path "+l.toString()+" that is ancestor of another path "+s.toString());l=s}},LM=function(n,t,e,s){const l=Hc(n,"values");if(!(t&&typeof t=="object")||Array.isArray(t))throw new Error(l+" must be an object containing the children to replace.");const r=[];Te(t,(u,h)=>{const d=new It(u);if(Gc(l,h,Zt(e,d)),Cd(d)===".priority"&&!kM(h))throw new Error(l+"contains an invalid value for '"+d.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");r.push(d)}),zM(l,r)},Y0=function(n,t,e,s){if(!P0(e))throw new Error(Hc(n,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},IM=function(n,t,e,s){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Y0(n,t,e)},Qd=function(n,t){if(bt(t)===".info")throw new Error(n+" failed = Can't modify data under /.info/")},BM=function(n,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Xd(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!NM(e))throw new Error(Hc(n,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wc(n,t){let e=null;for(let s=0;s<t.length;s++){const l=t[s],r=l.getPath();e!==null&&!Ad(r,e.path)&&(n.eventLists_.push(e),e=null),e===null&&(e={events:[],path:r}),e.events.push(l)}e&&n.eventLists_.push(e)}function F0(n,t,e){Wc(n,e),q0(n,s=>Ad(s,t))}function Sn(n,t,e){Wc(n,e),q0(n,s=>hn(s,t)||hn(t,s))}function q0(n,t){n.recursionDepth_++;let e=!0;for(let s=0;s<n.eventLists_.length;s++){const l=n.eventLists_[s];if(l){const r=l.path;t(r)?(UM(n.eventLists_[s]),n.eventLists_[s]=null):e=!1}}e&&(n.eventLists_=[]),n.recursionDepth_--}function UM(n){for(let t=0;t<n.events.length;t++){const e=n.events[t];if(e!==null){n.events[t]=null;const s=e.getEventRunner();Ql&&Ee("event: "+e.toString()),Da(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jM="repo_interrupt",PM=25;class VM{constructor(t,e,s,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new HM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Sc(),this.transactionQueueTree_=new Gd,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function YM(n,t,e){if(n.stats_=Ed(n.repoInfo_),n.forceRestClient_||bC())n.server_=new vc(n.repoInfo_,(s,l,r,u)=>{cb(n,s,l,r,u)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>ub(n,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ye(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}n.persistentConnection_=new ti(n.repoInfo_,t,(s,l,r,u)=>{cb(n,s,l,r,u)},s=>{ub(n,s)},s=>{FM(n,s)},n.authTokenProvider_,n.appCheckProvider_,e),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(s=>{n.server_.refreshAuthToken(s)}),n.appCheckProvider_.addTokenChangeListener(s=>{n.server_.refreshAppCheckToken(s.token)}),n.statsReporter_=TC(n.repoInfo_,()=>new EA(n.stats_,n.server_)),n.infoData_=new yA,n.infoSyncTree_=new lb({startListening:(s,l,r,u)=>{let h=[];const d=n.infoData_.getNode(s._path);return d.isEmpty()||(h=Yc(n.infoSyncTree_,s._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),Kd(n,"connected",!1),n.serverSyncTree_=new lb({startListening:(s,l,r,u)=>(n.server_.listen(s,r,l,(h,d)=>{const g=u(h,d);Sn(n.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{n.server_.unlisten(s,l)}})}function G0(n){const e=n.infoData_.getNode(new It(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function Xc(n){return TM({timestamp:G0(n)})}function cb(n,t,e,s,l){n.dataUpdateCount++;const r=new It(t);e=n.interceptServerDataCallback_?n.interceptServerDataCallback_(t,e):e;let u=[];if(l)if(s){const d=dc(e,g=>_e(g));u=bM(n.serverSyncTree_,r,d,l)}else{const d=_e(e);u=yM(n.serverSyncTree_,r,d,l)}else if(s){const d=dc(e,g=>_e(g));u=pM(n.serverSyncTree_,r,d)}else{const d=_e(e);u=Yc(n.serverSyncTree_,r,d)}let h=r;u.length>0&&(h=Ea(n,r)),Sn(n.eventQueue_,h,u)}function ub(n,t){Kd(n,"connected",t),t===!1&&WM(n)}function FM(n,t){Te(t,(e,s)=>{Kd(n,e,s)})}function Kd(n,t,e){const s=new It("/.info/"+t),l=_e(e);n.infoData_.updateSnapshot(s,l);const r=Yc(n.infoSyncTree_,s,l);Sn(n.eventQueue_,s,r)}function Zd(n){return n.nextWriteId_++}function qM(n,t,e,s,l){Qc(n,"set",{path:t.toString(),value:e,priority:s});const r=Xc(n),u=_e(e,s),h=Ud(n.serverSyncTree_,t),d=B0(u,h,r),g=Zd(n),m=N0(n.serverSyncTree_,t,d,g,!0);Wc(n.eventQueue_,m),n.server_.put(t.toString(),u.val(!0),(b,S)=>{const x=b==="ok";x||Ne("set at "+t+" failed: "+b);const T=Oi(n.serverSyncTree_,g,!x);Sn(n.eventQueue_,t,T),id(n,l,b,S)});const _=Jd(n,t);Ea(n,_),Sn(n.eventQueue_,_,[])}function GM(n,t,e,s){Qc(n,"update",{path:t.toString(),value:e});let l=!0;const r=Xc(n),u={};if(Te(e,(h,d)=>{l=!1,u[h]=I0(Zt(t,h),_e(d),n.serverSyncTree_,r)}),l)Ee("update() called with empty data.  Don't do anything."),id(n,s,"ok",void 0);else{const h=Zd(n),d=gM(n.serverSyncTree_,t,u,h);Wc(n.eventQueue_,d),n.server_.merge(t.toString(),e,(g,m)=>{const _=g==="ok";_||Ne("update at "+t+" failed: "+g);const b=Oi(n.serverSyncTree_,h,!_),S=b.length>0?Ea(n,t):t;Sn(n.eventQueue_,S,b),id(n,s,g,m)}),Te(e,g=>{const m=Jd(n,Zt(t,g));Ea(n,m)}),Sn(n.eventQueue_,t,[])}}function WM(n){Qc(n,"onDisconnectEvents");const t=Xc(n),e=Sc();Xf(n.onDisconnect_,Dt(),(l,r)=>{const u=I0(l,r,n.serverSyncTree_,t);b0(e,l,u)});let s=[];Xf(e,Dt(),(l,r)=>{s=s.concat(Yc(n.serverSyncTree_,l,r));const u=Jd(n,l);Ea(n,u)}),n.onDisconnect_=Sc(),Sn(n.eventQueue_,Dt(),s)}function XM(n,t,e){let s;bt(t._path)===".info"?s=ob(n.infoSyncTree_,t,e):s=ob(n.serverSyncTree_,t,e),F0(n.eventQueue_,t._path,s)}function QM(n,t,e){let s;bt(t._path)===".info"?s=ed(n.infoSyncTree_,t,e):s=ed(n.serverSyncTree_,t,e),F0(n.eventQueue_,t._path,s)}function KM(n){n.persistentConnection_&&n.persistentConnection_.interrupt(jM)}function Qc(n,...t){let e="";n.persistentConnection_&&(e=n.persistentConnection_.id+":"),Ee(e,...t)}function id(n,t,e,s){t&&Da(()=>{if(e==="ok")t(null);else{const l=(e||"error").toUpperCase();let r=l;s&&(r+=": "+s);const u=new Error(r);u.code=l,t(u)}})}function W0(n,t,e){return Ud(n.serverSyncTree_,t,e)||ut.EMPTY_NODE}function $d(n,t=n.transactionQueueTree_){if(t||Kc(n,t),Ra(t)){const e=Q0(n,t);F(e.length>0,"Sending zero length transaction queue"),e.every(l=>l.status===0)&&ZM(n,Do(t),e)}else U0(t)&&qc(t,e=>{$d(n,e)})}function ZM(n,t,e){const s=e.map(g=>g.currentWriteId),l=W0(n,t,s);let r=l;const u=l.hash();for(let g=0;g<e.length;g++){const m=e[g];F(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Ve(t,m.path);r=r.updateChild(_,m.currentOutputSnapshotRaw)}const h=r.val(!0),d=t;n.server_.put(d.toString(),h,g=>{Qc(n,"transaction put response",{path:d.toString(),status:g});let m=[];if(g==="ok"){const _=[];for(let b=0;b<e.length;b++)e[b].status=2,m=m.concat(Oi(n.serverSyncTree_,e[b].currentWriteId)),e[b].onComplete&&_.push(()=>e[b].onComplete(null,!0,e[b].currentOutputSnapshotResolved)),e[b].unwatcher();Kc(n,Wd(n.transactionQueueTree_,t)),$d(n,n.transactionQueueTree_),Sn(n.eventQueue_,t,m);for(let b=0;b<_.length;b++)Da(_[b])}else{if(g==="datastale")for(let _=0;_<e.length;_++)e[_].status===3?e[_].status=4:e[_].status=0;else{Ne("transaction at "+d.toString()+" failed: "+g);for(let _=0;_<e.length;_++)e[_].status=4,e[_].abortReason=g}Ea(n,t)}},u)}function Ea(n,t){const e=X0(n,t),s=Do(e),l=Q0(n,e);return $M(n,l,s),s}function $M(n,t,e){if(t.length===0)return;const s=[];let l=[];const u=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],g=Ve(e,d.path);let m=!1,_;if(F(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,_=d.abortReason,l=l.concat(Oi(n.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=PM)m=!0,_="maxretry",l=l.concat(Oi(n.serverSyncTree_,d.currentWriteId,!0));else{const b=W0(n,d.path,u);d.currentInputSnapshot=b;const S=t[h].update(b.val());if(S!==void 0){Gc("transaction failed: Data returned ",S,d.path);let x=_e(S);typeof S=="object"&&S!=null&&Nn(S,".priority")||(x=x.updatePriority(b.getPriority()));const A=d.currentWriteId,z=Xc(n),U=B0(x,b,z);d.currentOutputSnapshotRaw=x,d.currentOutputSnapshotResolved=U,d.currentWriteId=Zd(n),u.splice(u.indexOf(A),1),l=l.concat(N0(n.serverSyncTree_,d.path,U,d.currentWriteId,d.applyLocally)),l=l.concat(Oi(n.serverSyncTree_,A,!0))}else m=!0,_="nodata",l=l.concat(Oi(n.serverSyncTree_,d.currentWriteId,!0))}Sn(n.eventQueue_,e,l),l=[],m&&(t[h].status=2,function(b){setTimeout(b,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(_==="nodata"?s.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):s.push(()=>t[h].onComplete(new Error(_),!1,null))))}Kc(n,n.transactionQueueTree_);for(let h=0;h<s.length;h++)Da(s[h]);$d(n,n.transactionQueueTree_)}function X0(n,t){let e,s=n.transactionQueueTree_;for(e=bt(t);e!==null&&Ra(s)===void 0;)s=Wd(s,e),t=Yt(t),e=bt(t);return s}function Q0(n,t){const e=[];return K0(n,t,e),e.sort((s,l)=>s.order-l.order),e}function K0(n,t,e){const s=Ra(t);if(s)for(let l=0;l<s.length;l++)e.push(s[l]);qc(t,l=>{K0(n,l,e)})}function Kc(n,t){const e=Ra(t);if(e){let s=0;for(let l=0;l<e.length;l++)e[l].status!==2&&(e[s]=e[l],s++);e.length=s,H0(t,e.length>0?e:void 0)}qc(t,s=>{Kc(n,s)})}function Jd(n,t){const e=Do(X0(n,t)),s=Wd(n.transactionQueueTree_,t);return wM(s,l=>{Df(n,l)}),Df(n,s),j0(s,l=>{Df(n,l)}),e}function Df(n,t){const e=Ra(t);if(e){const s=[];let l=[],r=-1;for(let u=0;u<e.length;u++)e[u].status===3||(e[u].status===1?(F(r===u-1,"All SENT items should be at beginning of queue."),r=u,e[u].status=3,e[u].abortReason="set"):(F(e[u].status===0,"Unexpected transaction status in abort"),e[u].unwatcher(),l=l.concat(Oi(n.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&s.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));r===-1?H0(t,void 0):e.length=r+1,Sn(n.eventQueue_,Do(t),l);for(let u=0;u<s.length;u++)Da(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JM(n){let t="";const e=n.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let l=e[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function tw(n){const t={};n.charAt(0)==="?"&&(n=n.substring(1));for(const e of n.split("&")){if(e.length===0)continue;const s=e.split("=");s.length===2?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Ne(`Invalid query segment '${e}' in query '${n}'`)}return t}const hb=function(n,t){const e=ew(n),s=e.namespace;e.domain==="firebase.com"&&ni(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&e.domain!=="localhost"&&ni("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||uC();const l=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new n0(e.host,e.secure,s,l,t,"",s!==e.subdomain),path:new It(e.pathString)}},ew=function(n){let t="",e="",s="",l="",r="",u=!0,h="https",d=443;if(typeof n=="string"){let g=n.indexOf("//");g>=0&&(h=n.substring(0,g-1),n=n.substring(g+2));let m=n.indexOf("/");m===-1&&(m=n.length);let _=n.indexOf("?");_===-1&&(_=n.length),t=n.substring(0,Math.min(m,_)),m<_&&(l=JM(n.substring(m,_)));const b=tw(n.substring(Math.min(n.length,_)));g=t.indexOf(":"),g>=0?(u=h==="https"||h==="wss",d=parseInt(t.substring(g+1),10)):g=t.length;const S=t.slice(0,g);if(S.toLowerCase()==="localhost")e="localhost";else if(S.split(".").length<=2)e=S;else{const x=t.indexOf(".");s=t.substring(0,x).toLowerCase(),e=t.substring(x+1),r=s}"ns"in b&&(r=b.ns)}return{host:t,port:d,domain:e,subdomain:s,secure:u,scheme:h,pathString:l,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",nw=function(){let n=0;const t=[];return function(e){const s=e===n;n=e;let l;const r=new Array(8);for(l=7;l>=0;l--)r[l]=fb.charAt(e%64),e=Math.floor(e/64);F(e===0,"Cannot push at time == 0");let u=r.join("");if(s){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)u+=fb.charAt(t[l]);return F(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{constructor(t,e,s,l){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ye(this.snapshot.exportVal())}}class sw{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t,e,s,l){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=l}get key(){return Et(this._path)?null:Cd(this._path)}get ref(){return new Ui(this._repo,this._path)}get _queryIdentifier(){const t=Ky(this._queryParams),e=Sd(t);return e==="{}"?"default":e}get _queryObject(){return Ky(this._queryParams)}isEqual(t){if(t=wa(t),!(t instanceof tg))return!1;const e=this._repo===t._repo,s=Ad(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return e&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+WC(this._path)}}class Ui extends tg{constructor(t,e){super(t,e,new Od,!1)}get parent(){const t=h0(this._path);return t===null?null:new Ui(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class Dc{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new It(t),s=po(this.ref,t);return new Dc(this._node.getChild(e),s,$t)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>t(new Dc(l,po(this.ref,s),$t)))}hasChild(t){const e=new It(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Il(n,t){return n=wa(n),n._checkNotDeleted("ref"),t!==void 0?po(n._root,t):n._root}function po(n,t){return n=wa(n),bt(n._path)===null?IM("child","path",t):Y0("child","path",t),new Ui(n._repo,Zt(n._path,t))}function lw(n,t){n=wa(n),Qd("push",n._path),V0("push",t,n._path,!0);const e=G0(n._repo),s=nw(e),l=po(n,s),r=po(n,s);let u;return t!=null?u=Z0(r,t).then(()=>r):u=Promise.resolve(r),l.then=u.then.bind(u),l.catch=u.then.bind(u,void 0),l}function db(n){return Qd("remove",n._path),Z0(n,null)}function Z0(n,t){n=wa(n),Qd("set",n._path),V0("set",t,n._path,!1);const e=new To;return qM(n._repo,n._path,t,null,e.wrapCallback(()=>{})),e.promise}function ow(n,t){LM("update",t,n._path);const e=new To;return GM(n._repo,n._path,t,e.wrapCallback(()=>{})),e.promise}class eg{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const s=e._queryParams.getIndex();return new iw("value",this,new Dc(t.snapshotNode,new Ui(e._repo,e._path),s))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new sw(this,t,e):null}matches(t){return t instanceof eg?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rw(n,t,e,s,l){const r=new aw(e,void 0),u=new eg(r);return XM(n._repo,n,u),()=>QM(n._repo,n,u)}function cw(n,t,e,s){return rw(n,"value",t)}aM(Ui);hM(Ui);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uw="FIREBASE_DATABASE_EMULATOR_HOST",sd={};let hw=!1;function fw(n,t,e,s){n.repoInfo_=new n0(t,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0,e),s&&(n.authTokenProvider_=s)}function dw(n,t,e,s,l){let r=s||n.options.databaseURL;r===void 0&&(n.options.projectId||ni("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ee("Using default host for project ",n.options.projectId),r=`${n.options.projectId}-default-rtdb.firebaseio.com`);let u=hb(r,l),h=u.repoInfo,d;typeof process<"u"&&Ny&&(d=Ny[uw]),d?(r=`http://${d}?ns=${h.namespace}`,u=hb(r,l),h=u.repoInfo):u.repoInfo.secure;const g=new SC(n.name,n.options,t);BM("Invalid Firebase Database URL",u),Et(u.path)||ni("Database URL must point to the root of a Firebase Database (not including a child path).");const m=pw(h,n,g,new vC(n,e));return new mw(m,n)}function gw(n,t){const e=sd[t];(!e||e[n.key]!==n)&&ni(`Database ${t}(${n.repoInfo_}) has already been deleted.`),KM(n),delete e[n.key]}function pw(n,t,e,s){let l=sd[t.name];l||(l={},sd[t.name]=l);let r=l[n.toURLString()];return r&&ni("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new VM(n,hw,e,s),l[n.toURLString()]=r,r}class mw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(YM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ui(this._repo,Dt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(gw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&ni("Cannot call "+t+" on a deleted database.")}}function _w(n=qT(),t){const e=jT(n,"database").getImmediate({identifier:t});if(!e._instanceStarted){const s=DE("database");s&&yw(e,...s)}return e}function yw(n,t,e,s={}){n=wa(n),n._checkNotDeleted("useEmulator");const l=`${t}:${e}`,r=n._repoInternal;if(n._instanceStarted){if(l===n._repoInternal.repoInfo_.host&&gc(s,r.repoInfo_.emulatorOptions))return;ni("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&ni('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new oc(oc.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:OE(s.mockUserToken,n.app.options.projectId);u=new oc(h)}fw(r,l,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bw(n){sC(FT),mc(new lo("database",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return dw(s,l,r,e)},"PUBLIC").setMultipleInstances(!0)),fa(ky,zy,n),fa(ky,zy,"esm2017")}ti.prototype.simpleListen=function(n,t){this.sendRequest("q",{p:n},t)};ti.prototype.echo=function(n,t){this.sendRequest("echo",{d:n},t)};bw();const vw={apiKey:"...",authDomain:"...",databaseURL:"https://moneytechbank-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"...",storageBucket:"...",messagingSenderId:"...",appId:"..."},Sw=Uv(vw),Bl=_w(Sw);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function Oo(n){return n+.5|0}const Ri=(n,t,e)=>Math.max(Math.min(n,e),t);function Yl(n){return Ri(Oo(n*2.55),0,255)}function Li(n){return Ri(Oo(n*255),0,255)}function Zn(n){return Ri(Oo(n/2.55)/100,0,1)}function gb(n){return Ri(Oo(n*100),0,100)}const un={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},ad=[..."0123456789ABCDEF"],xw=n=>ad[n&15],Ew=n=>ad[(n&240)>>4]+ad[n&15],Wr=n=>(n&240)>>4===(n&15),Tw=n=>Wr(n.r)&&Wr(n.g)&&Wr(n.b)&&Wr(n.a);function Cw(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&un[n[1]]*17,g:255&un[n[2]]*17,b:255&un[n[3]]*17,a:t===5?un[n[4]]*17:255}:(t===7||t===9)&&(e={r:un[n[1]]<<4|un[n[2]],g:un[n[3]]<<4|un[n[4]],b:un[n[5]]<<4|un[n[6]],a:t===9?un[n[7]]<<4|un[n[8]]:255})),e}const Aw=(n,t)=>n<255?t(n):"";function Mw(n){var t=Tw(n)?xw:Ew;return n?"#"+t(n.r)+t(n.g)+t(n.b)+Aw(n.a,t):void 0}const ww=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function $0(n,t,e){const s=t*Math.min(e,1-e),l=(r,u=(r+n/30)%12)=>e-s*Math.max(Math.min(u-3,9-u,1),-1);return[l(0),l(8),l(4)]}function Dw(n,t,e){const s=(l,r=(l+n/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function Ow(n,t,e){const s=$0(n,1,.5);let l;for(t+e>1&&(l=1/(t+e),t*=l,e*=l),l=0;l<3;l++)s[l]*=1-t-e,s[l]+=t;return s}function Rw(n,t,e,s,l){return n===l?(t-e)/s+(t<e?6:0):t===l?(e-n)/s+2:(n-t)/s+4}function ng(n){const e=n.r/255,s=n.g/255,l=n.b/255,r=Math.max(e,s,l),u=Math.min(e,s,l),h=(r+u)/2;let d,g,m;return r!==u&&(m=r-u,g=h>.5?m/(2-r-u):m/(r+u),d=Rw(e,s,l,m,r),d=d*60+.5),[d|0,g||0,h]}function ig(n,t,e,s){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,s)).map(Li)}function sg(n,t,e){return ig($0,n,t,e)}function Nw(n,t,e){return ig(Ow,n,t,e)}function kw(n,t,e){return ig(Dw,n,t,e)}function J0(n){return(n%360+360)%360}function zw(n){const t=ww.exec(n);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?Yl(+t[5]):Li(+t[5]));const l=J0(+t[2]),r=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?s=Nw(l,r,u):t[1]==="hsv"?s=kw(l,r,u):s=sg(l,r,u),{r:s[0],g:s[1],b:s[2],a:e}}function Lw(n,t){var e=ng(n);e[0]=J0(e[0]+t),e=sg(e),n.r=e[0],n.g=e[1],n.b=e[2]}function Iw(n){if(!n)return;const t=ng(n),e=t[0],s=gb(t[1]),l=gb(t[2]);return n.a<255?`hsla(${e}, ${s}%, ${l}%, ${Zn(n.a)})`:`hsl(${e}, ${s}%, ${l}%)`}const pb={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},mb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Bw(){const n={},t=Object.keys(mb),e=Object.keys(pb);let s,l,r,u,h;for(s=0;s<t.length;s++){for(u=h=t[s],l=0;l<e.length;l++)r=e[l],h=h.replace(r,pb[r]);r=parseInt(mb[u],16),n[h]=[r>>16&255,r>>8&255,r&255]}return n}let Xr;function Hw(n){Xr||(Xr=Bw(),Xr.transparent=[0,0,0,0]);const t=Xr[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Uw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function jw(n){const t=Uw.exec(n);let e=255,s,l,r;if(t){if(t[7]!==s){const u=+t[7];e=t[8]?Yl(u):Ri(u*255,0,255)}return s=+t[1],l=+t[3],r=+t[5],s=255&(t[2]?Yl(s):Ri(s,0,255)),l=255&(t[4]?Yl(l):Ri(l,0,255)),r=255&(t[6]?Yl(r):Ri(r,0,255)),{r:s,g:l,b:r,a:e}}}function Pw(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Zn(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Of=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ra=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function Vw(n,t,e){const s=ra(Zn(n.r)),l=ra(Zn(n.g)),r=ra(Zn(n.b));return{r:Li(Of(s+e*(ra(Zn(t.r))-s))),g:Li(Of(l+e*(ra(Zn(t.g))-l))),b:Li(Of(r+e*(ra(Zn(t.b))-r))),a:n.a+e*(t.a-n.a)}}function Qr(n,t,e){if(n){let s=ng(n);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=sg(s),n.r=s[0],n.g=s[1],n.b=s[2]}}function tS(n,t){return n&&Object.assign(t||{},n)}function _b(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Li(n[3]))):(t=tS(n,{r:0,g:0,b:0,a:1}),t.a=Li(t.a)),t}function Yw(n){return n.charAt(0)==="r"?jw(n):zw(n)}class mo{constructor(t){if(t instanceof mo)return t;const e=typeof t;let s;e==="object"?s=_b(t):e==="string"&&(s=Cw(t)||Hw(t)||Yw(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=tS(this._rgb);return t&&(t.a=Zn(t.a)),t}set rgb(t){this._rgb=_b(t)}rgbString(){return this._valid?Pw(this._rgb):void 0}hexString(){return this._valid?Mw(this._rgb):void 0}hslString(){return this._valid?Iw(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,l=t.rgb;let r;const u=e===r?.5:e,h=2*u-1,d=s.a-l.a,g=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;r=1-g,s.r=255&g*s.r+r*l.r+.5,s.g=255&g*s.g+r*l.g+.5,s.b=255&g*s.b+r*l.b+.5,s.a=u*s.a+(1-u)*l.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=Vw(this._rgb,t._rgb,e)),this}clone(){return new mo(this.rgb)}alpha(t){return this._rgb.a=Li(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Oo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Qr(this._rgb,2,t),this}darken(t){return Qr(this._rgb,2,-t),this}saturate(t){return Qr(this._rgb,1,t),this}desaturate(t){return Qr(this._rgb,1,-t),this}rotate(t){return Lw(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Xn(){}const Fw=(()=>{let n=0;return()=>n++})();function Ft(n){return n==null}function be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Mt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function dn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function wn(n,t){return dn(n)?n:t}function Tt(n,t){return typeof n>"u"?t:n}const qw=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100:+n/t,eS=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function qt(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Nt(n,t,e,s){let l,r,u;if(be(n))for(r=n.length,l=0;l<r;l++)t.call(e,n[l],l);else if(Mt(n))for(u=Object.keys(n),r=u.length,l=0;l<r;l++)t.call(e,n[u[l]],u[l])}function Oc(n,t){let e,s,l,r;if(!n||!t||n.length!==t.length)return!1;for(e=0,s=n.length;e<s;++e)if(l=n[e],r=t[e],l.datasetIndex!==r.datasetIndex||l.index!==r.index)return!1;return!0}function Rc(n){if(be(n))return n.map(Rc);if(Mt(n)){const t=Object.create(null),e=Object.keys(n),s=e.length;let l=0;for(;l<s;++l)t[e[l]]=Rc(n[e[l]]);return t}return n}function nS(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function Gw(n,t,e,s){if(!nS(n))return;const l=t[n],r=e[n];Mt(l)&&Mt(r)?_o(l,r,s):t[n]=Rc(r)}function _o(n,t,e){const s=be(t)?t:[t],l=s.length;if(!Mt(n))return n;e=e||{};const r=e.merger||Gw;let u;for(let h=0;h<l;++h){if(u=s[h],!Mt(u))continue;const d=Object.keys(u);for(let g=0,m=d.length;g<m;++g)r(d[g],n,u,e)}return n}function to(n,t){return _o(n,t,{merger:Ww})}function Ww(n,t,e){if(!nS(n))return;const s=t[n],l=e[n];Mt(s)&&Mt(l)?to(s,l):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Rc(l))}const yb={"":n=>n,x:n=>n.x,y:n=>n.y};function Xw(n){const t=n.split("."),e=[];let s="";for(const l of t)s+=l,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function Qw(n){const t=Xw(n);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function yo(n,t){return(yb[t]||(yb[t]=Qw(t)))(n)}function ag(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Nc=n=>typeof n<"u",Hi=n=>typeof n=="function",bb=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function Kw(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const te=Math.PI,Jt=2*te,Zw=Jt+te,kc=Number.POSITIVE_INFINITY,$w=te/180,ue=te/2,ss=te/4,vb=te*2/3,iS=Math.log10,Ta=Math.sign;function eo(n,t,e){return Math.abs(n-t)<e}function Sb(n){const t=Math.round(n);n=eo(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(iS(n))),s=n/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function Jw(n){const t=[],e=Math.sqrt(n);let s;for(s=1;s<e;s++)n%s===0&&(t.push(s),t.push(n/s));return e===(e|0)&&t.push(e),t.sort((l,r)=>l-r).pop(),t}function tD(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function bo(n){return!tD(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function eD(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function nD(n,t,e){let s,l,r;for(s=0,l=n.length;s<l;s++)r=n[s][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Jn(n){return n*(te/180)}function iD(n){return n*(180/te)}function xb(n){if(!dn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function sS(n,t){const e=t.x-n.x,s=t.y-n.y,l=Math.sqrt(e*e+s*s);let r=Math.atan2(s,e);return r<-.5*te&&(r+=Jt),{angle:r,distance:l}}function ld(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function sD(n,t){return(n-t+Zw)%Jt-te}function Di(n){return(n%Jt+Jt)%Jt}function vo(n,t,e,s){const l=Di(n),r=Di(t),u=Di(e),h=Di(r-l),d=Di(u-l),g=Di(l-r),m=Di(l-u);return l===r||l===u||s&&r===u||h>d&&g<m}function Re(n,t,e){return Math.max(t,Math.min(e,n))}function aD(n){return Re(n,-32768,32767)}function ha(n,t,e,s=1e-6){return n>=Math.min(t,e)-s&&n<=Math.max(t,e)+s}function lg(n,t,e){e=e||(u=>n[u]<t);let s=n.length-1,l=0,r;for(;s-l>1;)r=l+s>>1,e(r)?l=r:s=r;return{lo:l,hi:s}}const fs=(n,t,e,s)=>lg(n,e,s?l=>{const r=n[l][t];return r<e||r===e&&n[l+1][t]===e}:l=>n[l][t]<e),lD=(n,t,e)=>lg(n,e,s=>n[s][t]>=e);function oD(n,t,e){let s=0,l=n.length;for(;s<l&&n[s]<t;)s++;for(;l>s&&n[l-1]>e;)l--;return s>0||l<n.length?n.slice(s,l):n}const aS=["push","pop","shift","splice","unshift"];function rD(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),aS.forEach(e=>{const s="_onData"+ag(e),l=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...r){const u=l.apply(this,r);return n._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...r)}),u}})})}function Eb(n,t){const e=n._chartjs;if(!e)return;const s=e.listeners,l=s.indexOf(t);l!==-1&&s.splice(l,1),!(s.length>0)&&(aS.forEach(r=>{delete n[r]}),delete n._chartjs)}function cD(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const lS=function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame}();function oS(n,t){let e=[],s=!1;return function(...l){e=l,s||(s=!0,lS.call(window,()=>{s=!1,n.apply(t,e)}))}}function uD(n,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(n,t,s)):n.apply(this,s),t}}const og=n=>n==="start"?"left":n==="end"?"right":"center",we=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,hD=(n,t,e,s)=>n===(s?"left":"right")?e:n==="center"?(t+e)/2:t;function fD(n,t,e){const s=t.length;let l=0,r=s;if(n._sorted){const{iScale:u,vScale:h,_parsed:d}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,m=u.axis,{min:_,max:b,minDefined:S,maxDefined:x}=u.getUserBounds();if(S){if(l=Math.min(fs(d,m,_).lo,e?s:fs(t,m,u.getPixelForValue(_)).lo),g){const T=d.slice(0,l+1).reverse().findIndex(A=>!Ft(A[h.axis]));l-=Math.max(0,T)}l=Re(l,0,s-1)}if(x){let T=Math.max(fs(d,u.axis,b,!0).hi+1,e?0:fs(t,m,u.getPixelForValue(b),!0).hi+1);if(g){const A=d.slice(T-1).findIndex(z=>!Ft(z[h.axis]));T+=Math.max(0,A)}r=Re(T,l,s)-l}else r=s-l}return{start:l,count:r}}function dD(n){const{xScale:t,yScale:e,_scaleRanges:s}=n,l={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return n._scaleRanges=l,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,l),r}const Kr=n=>n===0||n===1,Tb=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Jt/e)),Cb=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Jt/e)+1,no={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*ue)+1,easeOutSine:n=>Math.sin(n*ue),easeInOutSine:n=>-.5*(Math.cos(te*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Kr(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Kr(n)?n:Tb(n,.075,.3),easeOutElastic:n=>Kr(n)?n:Cb(n,.075,.3),easeInOutElastic(n){return Kr(n)?n:n<.5?.5*Tb(n*2,.1125,.45):.5+.5*Cb(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-no.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?no.easeInBounce(n*2)*.5:no.easeOutBounce(n*2-1)*.5+.5};function rg(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ab(n){return rg(n)?n:new mo(n)}function Rf(n){return rg(n)?n:new mo(n).saturate(.5).darken(.1).hexString()}const gD=["x","y","borderWidth","radius","tension"],pD=["color","borderColor","backgroundColor"];function mD(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:pD},numbers:{type:"number",properties:gD}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function _D(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Mb=new Map;function yD(n,t){t=t||{};const e=n+JSON.stringify(t);let s=Mb.get(e);return s||(s=new Intl.NumberFormat(n,t),Mb.set(e,s)),s}function cg(n,t,e){return yD(t,e).format(n)}const bD={values(n){return be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const s=this.chart.options.locale;let l,r=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(l="scientific"),r=vD(n,e)}const u=iS(Math.abs(r)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),d={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),cg(n,s,d)}};function vD(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var rS={formatters:bD};function SD(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:rS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ys=Object.create(null),od=Object.create(null);function io(n,t){if(!t)return n;const e=t.split(".");for(let s=0,l=e.length;s<l;++s){const r=e[s];n=n[r]||(n[r]=Object.create(null))}return n}function Nf(n,t,e){return typeof t=="string"?_o(io(n,t),e):_o(io(n,""),t)}class xD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,l)=>Rf(l.backgroundColor),this.hoverBorderColor=(s,l)=>Rf(l.borderColor),this.hoverColor=(s,l)=>Rf(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Nf(this,t,e)}get(t){return io(this,t)}describe(t,e){return Nf(od,t,e)}override(t,e){return Nf(ys,t,e)}route(t,e,s,l){const r=io(this,t),u=io(this,s),h="_"+e;Object.defineProperties(r,{[h]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],g=u[l];return Mt(d)?Object.assign({},g,d):Tt(d,g)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var se=new xD({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[mD,_D,SD]);function ED(n){return!n||Ft(n.size)||Ft(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function wb(n,t,e,s,l){let r=t[l];return r||(r=t[l]=n.measureText(l).width,e.push(l)),r>s&&(s=r),s}function as(n,t,e){const s=n.currentDevicePixelRatio,l=e!==0?Math.max(e/2,.5):0;return Math.round((t-l)*s)/s+l}function Db(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function rd(n,t,e,s){cS(n,t,e,s,null)}function cS(n,t,e,s,l){let r,u,h,d,g,m,_,b;const S=t.pointStyle,x=t.rotation,T=t.radius;let A=(x||0)*$w;if(S&&typeof S=="object"&&(r=S.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){n.save(),n.translate(e,s),n.rotate(A),n.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),n.restore();return}if(!(isNaN(T)||T<=0)){switch(n.beginPath(),S){default:l?n.ellipse(e,s,l/2,T,0,0,Jt):n.arc(e,s,T,0,Jt),n.closePath();break;case"triangle":m=l?l/2:T,n.moveTo(e+Math.sin(A)*m,s-Math.cos(A)*T),A+=vb,n.lineTo(e+Math.sin(A)*m,s-Math.cos(A)*T),A+=vb,n.lineTo(e+Math.sin(A)*m,s-Math.cos(A)*T),n.closePath();break;case"rectRounded":g=T*.516,d=T-g,u=Math.cos(A+ss)*d,_=Math.cos(A+ss)*(l?l/2-g:d),h=Math.sin(A+ss)*d,b=Math.sin(A+ss)*(l?l/2-g:d),n.arc(e-_,s-h,g,A-te,A-ue),n.arc(e+b,s-u,g,A-ue,A),n.arc(e+_,s+h,g,A,A+ue),n.arc(e-b,s+u,g,A+ue,A+te),n.closePath();break;case"rect":if(!x){d=Math.SQRT1_2*T,m=l?l/2:d,n.rect(e-m,s-d,2*m,2*d);break}A+=ss;case"rectRot":_=Math.cos(A)*(l?l/2:T),u=Math.cos(A)*T,h=Math.sin(A)*T,b=Math.sin(A)*(l?l/2:T),n.moveTo(e-_,s-h),n.lineTo(e+b,s-u),n.lineTo(e+_,s+h),n.lineTo(e-b,s+u),n.closePath();break;case"crossRot":A+=ss;case"cross":_=Math.cos(A)*(l?l/2:T),u=Math.cos(A)*T,h=Math.sin(A)*T,b=Math.sin(A)*(l?l/2:T),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u);break;case"star":_=Math.cos(A)*(l?l/2:T),u=Math.cos(A)*T,h=Math.sin(A)*T,b=Math.sin(A)*(l?l/2:T),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u),A+=ss,_=Math.cos(A)*(l?l/2:T),u=Math.cos(A)*T,h=Math.sin(A)*T,b=Math.sin(A)*(l?l/2:T),n.moveTo(e-_,s-h),n.lineTo(e+_,s+h),n.moveTo(e+b,s-u),n.lineTo(e-b,s+u);break;case"line":u=l?l/2:Math.cos(A)*T,h=Math.sin(A)*T,n.moveTo(e-u,s-h),n.lineTo(e+u,s+h);break;case"dash":n.moveTo(e,s),n.lineTo(e+Math.cos(A)*(l?l/2:T),s+Math.sin(A)*T);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function So(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function ug(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function hg(n){n.restore()}function TD(n,t,e,s,l){if(!t)return n.lineTo(e.x,e.y);if(l==="middle"){const r=(t.x+e.x)/2;n.lineTo(r,t.y),n.lineTo(r,e.y)}else l==="after"!=!!s?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function CD(n,t,e,s){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function AD(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ft(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function MD(n,t,e,s,l){if(l.strikethrough||l.underline){const r=n.measureText(s),u=t-r.actualBoundingBoxLeft,h=t+r.actualBoundingBoxRight,d=e-r.actualBoundingBoxAscent,g=e+r.actualBoundingBoxDescent,m=l.strikethrough?(d+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=l.decorationWidth||2,n.moveTo(u,m),n.lineTo(h,m),n.stroke()}}function wD(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function xo(n,t,e,s,l,r={}){const u=be(t)?t:[t],h=r.strokeWidth>0&&r.strokeColor!=="";let d,g;for(n.save(),n.font=l.string,AD(n,r),d=0;d<u.length;++d)g=u[d],r.backdrop&&wD(n,r.backdrop),h&&(r.strokeColor&&(n.strokeStyle=r.strokeColor),Ft(r.strokeWidth)||(n.lineWidth=r.strokeWidth),n.strokeText(g,e,s,r.maxWidth)),n.fillText(g,e,s,r.maxWidth),MD(n,e,s,g,r),s+=Number(l.lineHeight);n.restore()}function cd(n,t){const{x:e,y:s,w:l,h:r,radius:u}=t;n.arc(e+u.topLeft,s+u.topLeft,u.topLeft,1.5*te,te,!0),n.lineTo(e,s+r-u.bottomLeft),n.arc(e+u.bottomLeft,s+r-u.bottomLeft,u.bottomLeft,te,ue,!0),n.lineTo(e+l-u.bottomRight,s+r),n.arc(e+l-u.bottomRight,s+r-u.bottomRight,u.bottomRight,ue,0,!0),n.lineTo(e+l,s+u.topRight),n.arc(e+l-u.topRight,s+u.topRight,u.topRight,0,-ue,!0),n.lineTo(e+u.topLeft,s)}const DD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,OD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function RD(n,t){const e=(""+n).match(DD);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const ND=n=>+n||0;function fg(n,t){const e={},s=Mt(t),l=s?Object.keys(t):t,r=Mt(n)?s?u=>Tt(n[u],n[t[u]]):u=>n[u]:()=>n;for(const u of l)e[u]=ND(r(u));return e}function kD(n){return fg(n,{top:"y",right:"x",bottom:"y",left:"x"})}function so(n){return fg(n,["topLeft","topRight","bottomLeft","bottomRight"])}function gn(n){const t=kD(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function De(n,t){n=n||{},t=t||se.font;let e=Tt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=Tt(n.style,t.style);s&&!(""+s).match(OD)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const l={family:Tt(n.family,t.family),lineHeight:RD(Tt(n.lineHeight,t.lineHeight),e),size:e,style:s,weight:Tt(n.weight,t.weight),string:""};return l.string=ED(l),l}function Zr(n,t,e,s){let l,r,u;for(l=0,r=n.length;l<r;++l)if(u=n[l],u!==void 0&&u!==void 0)return u}function zD(n,t,e){const{min:s,max:l}=n,r=eS(t,(l-s)/2),u=(h,d)=>e&&h===0?0:h+d;return{min:u(s,-Math.abs(r)),max:u(l,r)}}function Ss(n,t){return Object.assign(Object.create(n),t)}function dg(n,t=[""],e,s,l=()=>n[0]){const r=e||n;typeof s>"u"&&(s=dS("_fallback",n));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:r,_fallback:s,_getTarget:l,override:h=>dg([h,...n],t,r,s)};return new Proxy(u,{deleteProperty(h,d){return delete h[d],delete h._keys,delete n[0][d],!0},get(h,d){return hS(h,d,()=>VD(d,t,n,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,d){return Rb(h).includes(d)},ownKeys(h){return Rb(h)},set(h,d,g){const m=h._storage||(h._storage=l());return h[d]=m[d]=g,delete h._keys,!0}})}function Ca(n,t,e,s){const l={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:uS(n,s),setContext:r=>Ca(n,r,e,s),override:r=>Ca(n.override(r),t,e,s)};return new Proxy(l,{deleteProperty(r,u){return delete r[u],delete n[u],!0},get(r,u,h){return hS(r,u,()=>ID(r,u,h))},getOwnPropertyDescriptor(r,u){return r._descriptors.allKeys?Reflect.has(n,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,u)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(r,u){return Reflect.has(n,u)},ownKeys(){return Reflect.ownKeys(n)},set(r,u,h){return n[u]=h,delete r[u],!0}})}function uS(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:l=t.allKeys}=n;return{allKeys:l,scriptable:e,indexable:s,isScriptable:Hi(e)?e:()=>e,isIndexable:Hi(s)?s:()=>s}}const LD=(n,t)=>n?n+ag(t):t,gg=(n,t)=>Mt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function hS(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const s=e();return n[t]=s,s}function ID(n,t,e){const{_proxy:s,_context:l,_subProxy:r,_descriptors:u}=n;let h=s[t];return Hi(h)&&u.isScriptable(t)&&(h=BD(t,h,n,e)),be(h)&&h.length&&(h=HD(t,h,n,u.isIndexable)),gg(t,h)&&(h=Ca(h,l,r&&r[t],u)),h}function BD(n,t,e,s){const{_proxy:l,_context:r,_subProxy:u,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let d=t(r,u||s);return h.delete(n),gg(n,d)&&(d=pg(l._scopes,l,n,d)),d}function HD(n,t,e,s){const{_proxy:l,_context:r,_subProxy:u,_descriptors:h}=e;if(typeof r.index<"u"&&s(n))return t[r.index%t.length];if(Mt(t[0])){const d=t,g=l._scopes.filter(m=>m!==d);t=[];for(const m of d){const _=pg(g,l,n,m);t.push(Ca(_,r,u&&u[n],h))}}return t}function fS(n,t,e){return Hi(n)?n(t,e):n}const UD=(n,t)=>n===!0?t:typeof n=="string"?yo(t,n):void 0;function jD(n,t,e,s,l){for(const r of t){const u=UD(e,r);if(u){n.add(u);const h=fS(u._fallback,e,l);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(u===!1&&typeof s<"u"&&e!==s)return null}return!1}function pg(n,t,e,s){const l=t._rootScopes,r=fS(t._fallback,e,s),u=[...n,...l],h=new Set;h.add(s);let d=Ob(h,u,e,r||e,s);return d===null||typeof r<"u"&&r!==e&&(d=Ob(h,u,r,d,s),d===null)?!1:dg(Array.from(h),[""],l,r,()=>PD(t,e,s))}function Ob(n,t,e,s,l){for(;e;)e=jD(n,t,e,s,l);return e}function PD(n,t,e){const s=n._getTarget();t in s||(s[t]={});const l=s[t];return be(l)&&Mt(e)?e:l||{}}function VD(n,t,e,s){let l;for(const r of t)if(l=dS(LD(r,n),e),typeof l<"u")return gg(n,l)?pg(e,s,n,l):l}function dS(n,t){for(const e of t){if(!e)continue;const s=e[n];if(typeof s<"u")return s}}function Rb(n){let t=n._keys;return t||(t=n._keys=YD(n._scopes)),t}function YD(n){const t=new Set;for(const e of n)for(const s of Object.keys(e).filter(l=>!l.startsWith("_")))t.add(s);return Array.from(t)}const FD=Number.EPSILON||1e-14,Aa=(n,t)=>t<n.length&&!n[t].skip&&n[t],gS=n=>n==="x"?"y":"x";function qD(n,t,e,s){const l=n.skip?t:n,r=t,u=e.skip?t:e,h=ld(r,l),d=ld(u,r);let g=h/(h+d),m=d/(h+d);g=isNaN(g)?0:g,m=isNaN(m)?0:m;const _=s*g,b=s*m;return{previous:{x:r.x-_*(u.x-l.x),y:r.y-_*(u.y-l.y)},next:{x:r.x+b*(u.x-l.x),y:r.y+b*(u.y-l.y)}}}function GD(n,t,e){const s=n.length;let l,r,u,h,d,g=Aa(n,0);for(let m=0;m<s-1;++m)if(d=g,g=Aa(n,m+1),!(!d||!g)){if(eo(t[m],0,FD)){e[m]=e[m+1]=0;continue}l=e[m]/t[m],r=e[m+1]/t[m],h=Math.pow(l,2)+Math.pow(r,2),!(h<=9)&&(u=3/Math.sqrt(h),e[m]=l*u*t[m],e[m+1]=r*u*t[m])}}function WD(n,t,e="x"){const s=gS(e),l=n.length;let r,u,h,d=Aa(n,0);for(let g=0;g<l;++g){if(u=h,h=d,d=Aa(n,g+1),!h)continue;const m=h[e],_=h[s];u&&(r=(m-u[e])/3,h[`cp1${e}`]=m-r,h[`cp1${s}`]=_-r*t[g]),d&&(r=(d[e]-m)/3,h[`cp2${e}`]=m+r,h[`cp2${s}`]=_+r*t[g])}}function XD(n,t="x"){const e=gS(t),s=n.length,l=Array(s).fill(0),r=Array(s);let u,h,d,g=Aa(n,0);for(u=0;u<s;++u)if(h=d,d=g,g=Aa(n,u+1),!!d){if(g){const m=g[t]-d[t];l[u]=m!==0?(g[e]-d[e])/m:0}r[u]=h?g?Ta(l[u-1])!==Ta(l[u])?0:(l[u-1]+l[u])/2:l[u-1]:l[u]}GD(n,l,r),WD(n,r,t)}function $r(n,t,e){return Math.max(Math.min(n,e),t)}function QD(n,t){let e,s,l,r,u,h=So(n[0],t);for(e=0,s=n.length;e<s;++e)u=r,r=h,h=e<s-1&&So(n[e+1],t),r&&(l=n[e],u&&(l.cp1x=$r(l.cp1x,t.left,t.right),l.cp1y=$r(l.cp1y,t.top,t.bottom)),h&&(l.cp2x=$r(l.cp2x,t.left,t.right),l.cp2y=$r(l.cp2y,t.top,t.bottom)))}function KD(n,t,e,s,l){let r,u,h,d;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")XD(n,l);else{let g=s?n[n.length-1]:n[0];for(r=0,u=n.length;r<u;++r)h=n[r],d=qD(g,h,n[Math.min(r+1,u-(s?0:1))%u],t.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,g=h}t.capBezierPoints&&QD(n,e)}function mg(){return typeof window<"u"&&typeof document<"u"}function _g(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function zc(n,t,e){let s;return typeof n=="string"?(s=parseInt(n,10),n.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=n,s}const Zc=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function ZD(n,t){return Zc(n).getPropertyValue(t)}const $D=["top","right","bottom","left"];function ds(n,t,e){const s={};e=e?"-"+e:"";for(let l=0;l<4;l++){const r=$D[l];s[r]=parseFloat(n[t+"-"+r+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const JD=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function tO(n,t){const e=n.touches,s=e&&e.length?e[0]:n,{offsetX:l,offsetY:r}=s;let u=!1,h,d;if(JD(l,r,n.target))h=l,d=r;else{const g=t.getBoundingClientRect();h=s.clientX-g.left,d=s.clientY-g.top,u=!0}return{x:h,y:d,box:u}}function cs(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:s}=t,l=Zc(e),r=l.boxSizing==="border-box",u=ds(l,"padding"),h=ds(l,"border","width"),{x:d,y:g,box:m}=tO(n,e),_=u.left+(m&&h.left),b=u.top+(m&&h.top);let{width:S,height:x}=t;return r&&(S-=u.width+h.width,x-=u.height+h.height),{x:Math.round((d-_)/S*e.width/s),y:Math.round((g-b)/x*e.height/s)}}function eO(n,t,e){let s,l;if(t===void 0||e===void 0){const r=n&&_g(n);if(!r)t=n.clientWidth,e=n.clientHeight;else{const u=r.getBoundingClientRect(),h=Zc(r),d=ds(h,"border","width"),g=ds(h,"padding");t=u.width-g.width-d.width,e=u.height-g.height-d.height,s=zc(h.maxWidth,r,"clientWidth"),l=zc(h.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:s||kc,maxHeight:l||kc}}const Jr=n=>Math.round(n*10)/10;function nO(n,t,e,s){const l=Zc(n),r=ds(l,"margin"),u=zc(l.maxWidth,n,"clientWidth")||kc,h=zc(l.maxHeight,n,"clientHeight")||kc,d=eO(n,t,e);let{width:g,height:m}=d;if(l.boxSizing==="content-box"){const b=ds(l,"border","width"),S=ds(l,"padding");g-=S.width+b.width,m-=S.height+b.height}return g=Math.max(0,g-r.width),m=Math.max(0,s?g/s:m-r.height),g=Jr(Math.min(g,u,d.maxWidth)),m=Jr(Math.min(m,h,d.maxHeight)),g&&!m&&(m=Jr(g/2)),(t!==void 0||e!==void 0)&&s&&d.height&&m>d.height&&(m=d.height,g=Jr(Math.floor(m*s))),{width:g,height:m}}function Nb(n,t,e){const s=t||1,l=Math.floor(n.height*s),r=Math.floor(n.width*s);n.height=Math.floor(n.height),n.width=Math.floor(n.width);const u=n.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${n.height}px`,u.style.width=`${n.width}px`),n.currentDevicePixelRatio!==s||u.height!==l||u.width!==r?(n.currentDevicePixelRatio=s,u.height=l,u.width=r,n.ctx.setTransform(s,0,0,s,0,0),!0):!1}const iO=function(){let n=!1;try{const t={get passive(){return n=!0,!1}};mg()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n}();function kb(n,t){const e=ZD(n,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function us(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function sO(n,t,e,s){return{x:n.x+e*(t.x-n.x),y:s==="middle"?e<.5?n.y:t.y:s==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function aO(n,t,e,s){const l={x:n.cp2x,y:n.cp2y},r={x:t.cp1x,y:t.cp1y},u=us(n,l,e),h=us(l,r,e),d=us(r,t,e),g=us(u,h,e),m=us(h,d,e);return us(g,m,e)}const lO=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},oO=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function ma(n,t,e){return n?lO(t,e):oO()}function pS(n,t){let e,s;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=s)}function mS(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function _S(n){return n==="angle"?{between:vo,compare:sD,normalize:Di}:{between:ha,compare:(t,e)=>t-e,normalize:t=>t}}function zb({start:n,end:t,count:e,loop:s,style:l}){return{start:n%e,end:t%e,loop:s&&(t-n+1)%e===0,style:l}}function rO(n,t,e){const{property:s,start:l,end:r}=e,{between:u,normalize:h}=_S(s),d=t.length;let{start:g,end:m,loop:_}=n,b,S;if(_){for(g+=d,m+=d,b=0,S=d;b<S&&u(h(t[g%d][s]),l,r);++b)g--,m--;g%=d,m%=d}return m<g&&(m+=d),{start:g,end:m,loop:_,style:n.style}}function cO(n,t,e){if(!e)return[n];const{property:s,start:l,end:r}=e,u=t.length,{compare:h,between:d,normalize:g}=_S(s),{start:m,end:_,loop:b,style:S}=rO(n,t,e),x=[];let T=!1,A=null,z,U,P;const Y=()=>d(l,P,z)&&h(l,P)!==0,L=()=>h(r,z)===0||d(r,P,z),q=()=>T||Y(),X=()=>!T||L();for(let G=m,J=m;G<=_;++G)U=t[G%u],!U.skip&&(z=g(U[s]),z!==P&&(T=d(z,l,r),A===null&&q()&&(A=h(z,l)===0?G:J),A!==null&&X()&&(x.push(zb({start:A,end:G,loop:b,count:u,style:S})),A=null),J=G,P=z));return A!==null&&x.push(zb({start:A,end:_,loop:b,count:u,style:S})),x}function uO(n,t){const e=[],s=n.segments;for(let l=0;l<s.length;l++){const r=cO(s[l],n.points,t);r.length&&e.push(...r)}return e}function hO(n,t,e,s){let l=0,r=t-1;if(e&&!s)for(;l<t&&!n[l].skip;)l++;for(;l<t&&n[l].skip;)l++;for(l%=t,e&&(r+=l);r>l&&n[r%t].skip;)r--;return r%=t,{start:l,end:r}}function fO(n,t,e,s){const l=n.length,r=[];let u=t,h=n[t],d;for(d=t+1;d<=e;++d){const g=n[d%l];g.skip||g.stop?h.skip||(s=!1,r.push({start:t%l,end:(d-1)%l,loop:s}),t=u=g.stop?d:null):(u=d,h.skip&&(t=d)),h=g}return u!==null&&r.push({start:t%l,end:u%l,loop:s}),r}function dO(n,t){const e=n.points,s=n.options.spanGaps,l=e.length;if(!l)return[];const r=!!n._loop,{start:u,end:h}=hO(e,l,r,s);if(s===!0)return Lb(n,[{start:u,end:h,loop:r}],e,t);const d=h<u?h+l:h,g=!!n._fullLoop&&u===0&&h===l-1;return Lb(n,fO(e,u,d,g),e,t)}function Lb(n,t,e,s){return!s||!s.setContext||!e?t:gO(n,t,e,s)}function gO(n,t,e,s){const l=n._chart.getContext(),r=Ib(n.options),{_datasetIndex:u,options:{spanGaps:h}}=n,d=e.length,g=[];let m=r,_=t[0].start,b=_;function S(x,T,A,z){const U=h?-1:1;if(x!==T){for(x+=d;e[x%d].skip;)x-=U;for(;e[T%d].skip;)T+=U;x%d!==T%d&&(g.push({start:x%d,end:T%d,loop:A,style:z}),m=z,_=T%d)}}for(const x of t){_=h?_:x.start;let T=e[_%d],A;for(b=_+1;b<=x.end;b++){const z=e[b%d];A=Ib(s.setContext(Ss(l,{type:"segment",p0:T,p1:z,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:u}))),pO(A,m)&&S(_,b-1,x.loop,m),T=z,m=A}_<b-1&&S(_,b-1,x.loop,m)}return g}function Ib(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function pO(n,t){if(!t)return!1;const e=[],s=function(l,r){return rg(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(n,s)!==JSON.stringify(t,s)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class mO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,l){const r=e.listeners[l],u=e.duration;r.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(s-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=lS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,l)=>{if(!s.running||!s.items.length)return;const r=s.items;let u=r.length-1,h=!1,d;for(;u>=0;--u)d=r[u],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(t),h=!0):(r[u]=r[r.length-1],r.pop());h&&(l.draw(),this._notify(l,s,t,"progress")),r.length||(s.running=!1,this._notify(l,s,t,"complete"),s.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,l)=>Math.max(s,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let l=s.length-1;for(;l>=0;--l)s[l].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Qn=new mO;const Bb="transparent",_O={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const s=Ab(n||Bb),l=s.valid&&Ab(t||Bb);return l&&l.valid?l.mix(s,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class yO{constructor(t,e,s,l){const r=e[s];l=Zr([t.to,l,r,t.from]);const u=Zr([t.from,r,l]);this._active=!0,this._fn=t.fn||_O[t.type||typeof u],this._easing=no[t.easing]||no.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=u,this._to=l,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const l=this._target[this._prop],r=s-this._start,u=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=Zr([t.to,e,l,t.from]),this._from=Zr([t.from,l,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,l=this._prop,r=this._from,u=this._loop,h=this._to;let d;if(this._active=r!==h&&(u||e<s),!this._active){this._target[l]=h,this._notify(!0);return}if(e<0){this._target[l]=r;return}d=e/s%2,d=u&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(r,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let l=0;l<s.length;l++)s[l][e]()}}class yS{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Mt(t))return;const e=Object.keys(se.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const r=t[l];if(!Mt(r))return;const u={};for(const h of e)u[h]=r[h];(be(r.properties)&&r.properties||[l]).forEach(h=>{(h===l||!s.has(h))&&s.set(h,u)})})}_animateOptions(t,e){const s=e.options,l=vO(t,s);if(!l)return[];const r=this._createAnimations(l,s);return s.$shared&&bO(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,e){const s=this._properties,l=[],r=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let d;for(d=u.length-1;d>=0;--d){const g=u[d];if(g.charAt(0)==="$")continue;if(g==="options"){l.push(...this._animateOptions(t,e));continue}const m=e[g];let _=r[g];const b=s.get(g);if(_)if(b&&_.active()){_.update(b,m,h);continue}else _.cancel();if(!b||!b.duration){t[g]=m;continue}r[g]=_=new yO(b,t,g,m),l.push(_)}return l}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return Qn.add(this._chart,s),!0}}function bO(n,t){const e=[],s=Object.keys(t);for(let l=0;l<s.length;l++){const r=n[s[l]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function vO(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Hb(n,t){const e=n&&n.options||{},s=e.reverse,l=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:s?r:l,end:s?l:r}}function SO(n,t,e){if(e===!1)return!1;const s=Hb(n,e),l=Hb(t,e);return{top:l.end,right:s.end,bottom:l.start,left:s.start}}function xO(n){let t,e,s,l;return Mt(n)?(t=n.top,e=n.right,s=n.bottom,l=n.left):t=e=s=l=n,{top:t,right:e,bottom:s,left:l,disabled:n===!1}}function bS(n,t){const e=[],s=n._getSortedDatasetMetas(t);let l,r;for(l=0,r=s.length;l<r;++l)e.push(s[l].index);return e}function Ub(n,t,e,s={}){const l=n.keys,r=s.mode==="single";let u,h,d,g;if(t===null)return;let m=!1;for(u=0,h=l.length;u<h;++u){if(d=+l[u],d===e){if(m=!0,s.all)continue;break}g=n.values[d],dn(g)&&(r||t===0||Ta(t)===Ta(g))&&(t+=g)}return!m&&!s.all?0:t}function EO(n,t){const{iScale:e,vScale:s}=t,l=e.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",u=Object.keys(n),h=new Array(u.length);let d,g,m;for(d=0,g=u.length;d<g;++d)m=u[d],h[d]={[l]:m,[r]:n[m]};return h}function kf(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function TO(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function CO(n){const{min:t,max:e,minDefined:s,maxDefined:l}=n.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:l?e:Number.POSITIVE_INFINITY}}function AO(n,t,e){const s=n[t]||(n[t]={});return s[e]||(s[e]={})}function jb(n,t,e,s){for(const l of t.getMatchingVisibleMetas(s).reverse()){const r=n[l.index];if(e&&r>0||!e&&r<0)return l.index}return null}function Pb(n,t){const{chart:e,_cachedMeta:s}=n,l=e._stacks||(e._stacks={}),{iScale:r,vScale:u,index:h}=s,d=r.axis,g=u.axis,m=TO(r,u,s),_=t.length;let b;for(let S=0;S<_;++S){const x=t[S],{[d]:T,[g]:A}=x,z=x._stacks||(x._stacks={});b=z[g]=AO(l,m,T),b[h]=A,b._top=jb(b,u,!0,s.type),b._bottom=jb(b,u,!1,s.type);const U=b._visualValues||(b._visualValues={});U[h]=A}}function zf(n,t){const e=n.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function MO(n,t){return Ss(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function wO(n,t,e){return Ss(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Hl(n,t){const e=n.controller.index,s=n.vScale&&n.vScale.axis;if(s){t=t||n._parsed;for(const l of t){const r=l._stacks;if(!r||r[s]===void 0||r[s][e]===void 0)return;delete r[s][e],r[s]._visualValues!==void 0&&r[s]._visualValues[e]!==void 0&&delete r[s]._visualValues[e]}}}const Lf=n=>n==="reset"||n==="none",Vb=(n,t)=>t?n:Object.assign({},n),DO=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:bS(e,!0),values:null};class _a{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=kf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Hl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),l=(_,b,S,x)=>_==="x"?b:_==="r"?x:S,r=e.xAxisID=Tt(s.xAxisID,zf(t,"x")),u=e.yAxisID=Tt(s.yAxisID,zf(t,"y")),h=e.rAxisID=Tt(s.rAxisID,zf(t,"r")),d=e.indexAxis,g=e.iAxisID=l(d,r,u,h),m=e.vAxisID=l(d,u,r,h);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&Eb(this._data,this),t._stacked&&Hl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(Mt(e)){const l=this._cachedMeta;this._data=EO(e,l)}else if(s!==e){if(s){Eb(s,this);const l=this._cachedMeta;Hl(l),l._parsed=[]}e&&Object.isExtensible(e)&&rD(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let l=!1;this._dataCheck();const r=e._stacked;e._stacked=kf(e.vScale,e),e.stack!==s.stack&&(l=!0,Hl(e),e.stack=s.stack),this._resyncElements(t),(l||r!==e._stacked)&&(Pb(this,e._parsed),e._stacked=kf(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:l}=this,{iScale:r,_stacked:u}=s,h=r.axis;let d=t===0&&e===l.length?!0:s._sorted,g=t>0&&s._parsed[t-1],m,_,b;if(this._parsing===!1)s._parsed=l,s._sorted=!0,b=l;else{be(l[t])?b=this.parseArrayData(s,l,t,e):Mt(l[t])?b=this.parseObjectData(s,l,t,e):b=this.parsePrimitiveData(s,l,t,e);const S=()=>_[h]===null||g&&_[h]<g[h];for(m=0;m<e;++m)s._parsed[m+t]=_=b[m],d&&(S()&&(d=!1),g=_);s._sorted=d}u&&Pb(this,b)}parsePrimitiveData(t,e,s,l){const{iScale:r,vScale:u}=t,h=r.axis,d=u.axis,g=r.getLabels(),m=r===u,_=new Array(l);let b,S,x;for(b=0,S=l;b<S;++b)x=b+s,_[b]={[h]:m||r.parse(g[x],x),[d]:u.parse(e[x],x)};return _}parseArrayData(t,e,s,l){const{xScale:r,yScale:u}=t,h=new Array(l);let d,g,m,_;for(d=0,g=l;d<g;++d)m=d+s,_=e[m],h[d]={x:r.parse(_[0],m),y:u.parse(_[1],m)};return h}parseObjectData(t,e,s,l){const{xScale:r,yScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=new Array(l);let m,_,b,S;for(m=0,_=l;m<_;++m)b=m+s,S=e[b],g[m]={x:r.parse(yo(S,h),b),y:u.parse(yo(S,d),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const l=this.chart,r=this._cachedMeta,u=e[t.axis],h={keys:bS(l,!0),values:e._stacks[t.axis]._visualValues};return Ub(h,u,r.index,{mode:s})}updateRangeFromParsed(t,e,s,l){const r=s[e.axis];let u=r===null?NaN:r;const h=l&&s._stacks[e.axis];l&&h&&(l.values=h,u=Ub(l,r,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const s=this._cachedMeta,l=s._parsed,r=s._sorted&&t===s.iScale,u=l.length,h=this._getOtherScale(t),d=DO(e,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=CO(h);let b,S;function x(){S=l[b];const T=S[h.axis];return!dn(S[t.axis])||m>T||_<T}for(b=0;b<u&&!(!x()&&(this.updateRangeFromParsed(g,t,S,d),r));++b);if(r){for(b=u-1;b>=0;--b)if(!x()){this.updateRangeFromParsed(g,t,S,d);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let l,r,u;for(l=0,r=e.length;l<r;++l)u=e[l][t.axis],dn(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,l=e.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:l?""+l.getLabelForValue(r[l.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=xO(Tt(this.options.clip,SO(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,l=s.data||[],r=e.chartArea,u=[],h=this._drawStart||0,d=this._drawCount||l.length-h,g=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(t,r,h,d),m=h;m<h+d;++m){const _=l[m];_.hidden||(_.active&&g?u.push(_):_.draw(t,r))}for(m=0;m<u.length;++m)u[m].draw(t,r)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const l=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];r=u.$context||(u.$context=wO(this.getContext(),t,u)),r.parsed=this.getParsed(t),r.raw=l.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=MO(this.chart.getContext(),this.index)),r.dataset=l,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const l=e==="active",r=this._cachedDataOpts,u=t+"-"+e,h=r[u],d=this.enableOptionSharing&&Nc(s);if(h)return Vb(h,d);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),_=l?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),m),S=Object.keys(se.elements[t]),x=()=>this.getContext(s,l,e),T=g.resolveNamedOptions(b,S,x,_);return T.$shared&&(T.$shared=d,r[u]=Object.freeze(Vb(T,d))),T}_resolveAnimations(t,e,s){const l=this.chart,r=this._cachedDataOpts,u=`animation-${e}`,h=r[u];if(h)return h;let d;if(l.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),b=m.getOptionScopes(this.getDataset(),_);d=m.createResolver(b,this.getContext(t,s,e))}const g=new yS(l,d&&d.animations);return d&&d._cacheable&&(r[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Lf(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),l=this._sharedOptions,r=this.getSharedOptions(s),u=this.includeOptions(e,r)||r!==l;return this.updateSharedOptions(r,e,s),{sharedOptions:r,includeOptions:u}}updateElement(t,e,s,l){Lf(l)?Object.assign(t,s):this._resolveAnimations(e,l).update(t,s)}updateSharedOptions(t,e,s){t&&!Lf(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,l){t.active=l;const r=this.getStyle(e,l);this._resolveAnimations(e,s,l).update(t,{options:!l&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,d,g]of this._syncList)this[h](d,g);this._syncList=[];const l=s.length,r=e.length,u=Math.min(r,l);u&&this.parse(0,u),r>l?this._insertElements(l,r-l,t):r<l&&this._removeElements(r,l-r)}_insertElements(t,e,s=!0){const l=this._cachedMeta,r=l.data,u=t+e;let h;const d=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(d(r),h=t;h<u;++h)r[h]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(t,e),s&&this.updateElements(r,t,e,"reset")}updateElements(t,e,s,l){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const l=s._parsed.splice(t,e);s._stacked&&Hl(s,l)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,l]=t;this[e](s,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}it(_a,"defaults",{}),it(_a,"datasetElementType",null),it(_a,"dataElementType",null);function OO(n,t,e){let s=1,l=1,r=0,u=0;if(t<Jt){const h=n,d=h+t,g=Math.cos(h),m=Math.sin(h),_=Math.cos(d),b=Math.sin(d),S=(P,Y,L)=>vo(P,h,d,!0)?1:Math.max(Y,Y*e,L,L*e),x=(P,Y,L)=>vo(P,h,d,!0)?-1:Math.min(Y,Y*e,L,L*e),T=S(0,g,_),A=S(ue,m,b),z=x(te,g,_),U=x(te+ue,m,b);s=(T-z)/2,l=(A-U)/2,r=-(T+z)/2,u=-(A+U)/2}return{ratioX:s,ratioY:l,offsetX:r,offsetY:u}}class Fl extends _a{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=s;else{let r=d=>+s[d];if(Mt(s[t])){const{key:d="value"}=this._parsing;r=g=>+yo(s[g],d)}let u,h;for(u=t,h=t+e;u<h;++u)l._parsed[u]=r(u)}}_getRotation(){return Jn(this.options.rotation-90)}_getCircumference(){return Jn(this.options.circumference)}_getRotationExtents(){let t=Jt,e=-Jt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const l=this.chart.getDatasetMeta(s).controller,r=l._getRotation(),u=l._getCircumference();t=Math.min(t,r),e=Math.max(e,r+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,l=this._cachedMeta,r=l.data,u=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-u)/2,0),d=Math.min(qw(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:x,offsetY:T}=OO(_,m,d),A=(s.width-u)/b,z=(s.height-u)/S,U=Math.max(Math.min(A,z)/2,0),P=eS(this.options.radius,U),Y=Math.max(P*d,0),L=(P-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=x*P,this.offsetY=T*P,l.total=this.calculateTotal(),this.outerRadius=P-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*g,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const s=this.options,l=this._cachedMeta,r=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*r/Jt)}updateElements(t,e,s,l){const r=l==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,m=(h.left+h.right)/2,_=(h.top+h.bottom)/2,b=r&&g.animateScale,S=b?0:this.innerRadius,x=b?0:this.outerRadius,{sharedOptions:T,includeOptions:A}=this._getSharedOptions(e,l);let z=this._getRotation(),U;for(U=0;U<e;++U)z+=this._circumference(U,r);for(U=e;U<e+s;++U){const P=this._circumference(U,r),Y=t[U],L={x:m+this.offsetX,y:_+this.offsetY,startAngle:z,endAngle:z+P,circumference:P,outerRadius:x,innerRadius:S};A&&(L.options=T||this.resolveDataElementOptions(U,Y.active?"active":l)),z+=P,this.updateElement(Y,U,L,l)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,l;for(l=0;l<e.length;l++){const r=t._parsed[l];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(l)&&!e[l].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Jt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,l=s.data.labels||[],r=cg(e._parsed[t],s.options.locale);return{label:l[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const s=this.chart;let l,r,u,h,d;if(!t){for(l=0,r=s.data.datasets.length;l<r;++l)if(s.isDatasetVisible(l)){u=s.getDatasetMeta(l),t=u.data,h=u.controller;break}}if(!t)return 0;for(l=0,r=t.length;l<r;++l)d=h.resolveDataElementOptions(l),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,l=t.length;s<l;++s){const r=this.resolveDataElementOptions(s);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(Tt(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}it(Fl,"id","doughnut"),it(Fl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),it(Fl,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),it(Fl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:l}}=t.legend.options;return e.labels.map((r,u)=>{const d=t.getDatasetMeta(0).controller.getStyle(u);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:l,lineWidth:d.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class rc extends _a{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:l=[],_dataset:r}=e,u=this.chart._animationsDisabled;let{start:h,count:d}=fD(e,l,u);this._drawStart=h,this._drawCount=d,dD(e)&&(h=0,d=l.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=l;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(s,void 0,{animated:!u,options:g},t),this.updateElements(l,h,d,t)}updateElements(t,e,s,l){const r=l==="reset",{iScale:u,vScale:h,_stacked:d,_dataset:g}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,l),b=u.axis,S=h.axis,{spanGaps:x,segment:T}=this.options,A=bo(x)?x:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||r||l==="none",U=e+s,P=t.length;let Y=e>0&&this.getParsed(e-1);for(let L=0;L<P;++L){const q=t[L],X=z?q:{};if(L<e||L>=U){X.skip=!0;continue}const G=this.getParsed(L),J=Ft(G[S]),ht=X[b]=u.getPixelForValue(G[b],L),at=X[S]=r||J?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,G,d):G[S],L);X.skip=isNaN(ht)||isNaN(at)||J,X.stop=L>0&&Math.abs(G[b]-Y[b])>A,T&&(X.parsed=G,X.raw=g.data[L]),_&&(X.options=m||this.resolveDataElementOptions(L,q.active?"active":l)),z||this.updateElement(q,L,X,l),Y=G}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,l=t.data||[];if(!l.length)return s;const r=l[0].size(this.resolveDataElementOptions(0)),u=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(s,r,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}it(rc,"id","line"),it(rc,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),it(rc,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class ud extends Fl{}it(ud,"id","pie"),it(ud,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ls(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yg{constructor(t){it(this,"options");this.options=t||{}}static override(t){Object.assign(yg.prototype,t)}init(){}formats(){return ls()}parse(){return ls()}format(){return ls()}add(){return ls()}diff(){return ls()}startOf(){return ls()}endOf(){return ls()}}var RO={_date:yg};function NO(n,t,e,s){const{controller:l,data:r,_sorted:u}=n,h=l._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&r.length){const g=h._reversePixels?lD:fs;if(s){if(l._sharedOptions){const m=r[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const b=g(r,t,e-_),S=g(r,t,e+_);return{lo:b.lo,hi:S.hi}}}}else{const m=g(r,t,e);if(d){const{vScale:_}=l._cachedMeta,{_parsed:b}=n,S=b.slice(0,m.lo+1).reverse().findIndex(T=>!Ft(T[_.axis]));m.lo-=Math.max(0,S);const x=b.slice(m.hi).findIndex(T=>!Ft(T[_.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:r.length-1}}function $c(n,t,e,s,l){const r=n.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,d=r.length;h<d;++h){const{index:g,data:m}=r[h],{lo:_,hi:b}=NO(r[h],t,u,l);for(let S=_;S<=b;++S){const x=m[S];x.skip||s(x,g,S)}}}function kO(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(s,l){const r=t?Math.abs(s.x-l.x):0,u=e?Math.abs(s.y-l.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(u,2))}}function If(n,t,e,s,l){const r=[];return!l&&!n.isPointInArea(t)||$c(n,e,t,function(h,d,g){!l&&!So(h,n.chartArea,0)||h.inRange(t.x,t.y,s)&&r.push({element:h,datasetIndex:d,index:g})},!0),r}function zO(n,t,e,s){let l=[];function r(u,h,d){const{startAngle:g,endAngle:m}=u.getProps(["startAngle","endAngle"],s),{angle:_}=sS(u,{x:t.x,y:t.y});vo(_,g,m)&&l.push({element:u,datasetIndex:h,index:d})}return $c(n,e,t,r),l}function LO(n,t,e,s,l,r){let u=[];const h=kO(e);let d=Number.POSITIVE_INFINITY;function g(m,_,b){const S=m.inRange(t.x,t.y,l);if(s&&!S)return;const x=m.getCenterPoint(l);if(!(!!r||n.isPointInArea(x))&&!S)return;const A=h(t,x);A<d?(u=[{element:m,datasetIndex:_,index:b}],d=A):A===d&&u.push({element:m,datasetIndex:_,index:b})}return $c(n,e,t,g),u}function Bf(n,t,e,s,l,r){return!r&&!n.isPointInArea(t)?[]:e==="r"&&!s?zO(n,t,e,l):LO(n,t,e,s,l,r)}function Yb(n,t,e,s,l){const r=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return $c(n,e,t,(d,g,m)=>{d[u]&&d[u](t[e],l)&&(r.push({element:d,datasetIndex:g,index:m}),h=h||d.inRange(t.x,t.y,l))}),s&&!h?[]:r}var IO={modes:{index(n,t,e,s){const l=cs(t,n),r=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?If(n,l,r,s,u):Bf(n,l,r,!1,s,u),d=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const m=h[0].index,_=g.data[m];_&&!_.skip&&d.push({element:_,datasetIndex:g.index,index:m})}),d):[]},dataset(n,t,e,s){const l=cs(t,n),r=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?If(n,l,r,s,u):Bf(n,l,r,!1,s,u);if(h.length>0){const d=h[0].datasetIndex,g=n.getDatasetMeta(d).data;h=[];for(let m=0;m<g.length;++m)h.push({element:g[m],datasetIndex:d,index:m})}return h},point(n,t,e,s){const l=cs(t,n),r=e.axis||"xy",u=e.includeInvisible||!1;return If(n,l,r,s,u)},nearest(n,t,e,s){const l=cs(t,n),r=e.axis||"xy",u=e.includeInvisible||!1;return Bf(n,l,r,e.intersect,s,u)},x(n,t,e,s){const l=cs(t,n);return Yb(n,l,"x",e.intersect,s)},y(n,t,e,s){const l=cs(t,n);return Yb(n,l,"y",e.intersect,s)}}};const vS=["left","top","right","bottom"];function Ul(n,t){return n.filter(e=>e.pos===t)}function Fb(n,t){return n.filter(e=>vS.indexOf(e.pos)===-1&&e.box.axis===t)}function jl(n,t){return n.sort((e,s)=>{const l=t?s:e,r=t?e:s;return l.weight===r.weight?l.index-r.index:l.weight-r.weight})}function BO(n){const t=[];let e,s,l,r,u,h;for(e=0,s=(n||[]).length;e<s;++e)l=n[e],{position:r,options:{stack:u,stackWeight:h=1}}=l,t.push({index:e,box:l,pos:r,horizontal:l.isHorizontal(),weight:l.weight,stack:u&&r+u,stackWeight:h});return t}function HO(n){const t={};for(const e of n){const{stack:s,pos:l,stackWeight:r}=e;if(!s||!vS.includes(l))continue;const u=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=r}return t}function UO(n,t){const e=HO(n),{vBoxMaxWidth:s,hBoxMaxHeight:l}=t;let r,u,h;for(r=0,u=n.length;r<u;++r){h=n[r];const{fullSize:d}=h.box,g=e[h.stack],m=g&&h.stackWeight/g.weight;h.horizontal?(h.width=m?m*s:d&&t.availableWidth,h.height=l):(h.width=s,h.height=m?m*l:d&&t.availableHeight)}return e}function jO(n){const t=BO(n),e=jl(t.filter(g=>g.box.fullSize),!0),s=jl(Ul(t,"left"),!0),l=jl(Ul(t,"right")),r=jl(Ul(t,"top"),!0),u=jl(Ul(t,"bottom")),h=Fb(t,"x"),d=Fb(t,"y");return{fullSize:e,leftAndTop:s.concat(r),rightAndBottom:l.concat(d).concat(u).concat(h),chartArea:Ul(t,"chartArea"),vertical:s.concat(l).concat(d),horizontal:r.concat(u).concat(h)}}function qb(n,t,e,s){return Math.max(n[e],t[e])+Math.max(n[s],t[s])}function SS(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function PO(n,t,e,s){const{pos:l,box:r}=e,u=n.maxPadding;if(!Mt(l)){e.size&&(n[l]-=e.size);const _=s[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?r.height:r.width),e.size=_.size/_.count,n[l]+=e.size}r.getPadding&&SS(u,r.getPadding());const h=Math.max(0,t.outerWidth-qb(u,n,"left","right")),d=Math.max(0,t.outerHeight-qb(u,n,"top","bottom")),g=h!==n.w,m=d!==n.h;return n.w=h,n.h=d,e.horizontal?{same:g,other:m}:{same:m,other:g}}function VO(n){const t=n.maxPadding;function e(s){const l=Math.max(t[s]-n[s],0);return n[s]+=l,l}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function YO(n,t){const e=t.maxPadding;function s(l){const r={left:0,top:0,right:0,bottom:0};return l.forEach(u=>{r[u]=Math.max(t[u],e[u])}),r}return s(n?["left","right"]:["top","bottom"])}function ql(n,t,e,s){const l=[];let r,u,h,d,g,m;for(r=0,u=n.length,g=0;r<u;++r){h=n[r],d=h.box,d.update(h.width||t.w,h.height||t.h,YO(h.horizontal,t));const{same:_,other:b}=PO(t,e,h,s);g|=_&&l.length,m=m||b,d.fullSize||l.push(h)}return g&&ql(l,t,e,s)||m}function tc(n,t,e,s,l){n.top=e,n.left=t,n.right=t+s,n.bottom=e+l,n.width=s,n.height=l}function Gb(n,t,e,s){const l=e.padding;let{x:r,y:u}=t;for(const h of n){const d=h.box,g=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/g.weight||1;if(h.horizontal){const _=t.w*m,b=g.size||d.height;Nc(g.start)&&(u=g.start),d.fullSize?tc(d,l.left,u,e.outerWidth-l.right-l.left,b):tc(d,t.left+g.placed,u,_,b),g.start=u,g.placed+=_,u=d.bottom}else{const _=t.h*m,b=g.size||d.width;Nc(g.start)&&(r=g.start),d.fullSize?tc(d,r,l.top,b,e.outerHeight-l.bottom-l.top):tc(d,r,t.top+g.placed,b,_),g.start=r,g.placed+=_,r=d.right}}t.x=r,t.y=u}var fn={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,s){if(!n)return;const l=gn(n.options.layout.padding),r=Math.max(t-l.width,0),u=Math.max(e-l.height,0),h=jO(n.boxes),d=h.vertical,g=h.horizontal;Nt(n.boxes,T=>{typeof T.beforeLayout=="function"&&T.beforeLayout()});const m=d.reduce((T,A)=>A.box.options&&A.box.options.display===!1?T:T+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:l,availableWidth:r,availableHeight:u,vBoxMaxWidth:r/2/m,hBoxMaxHeight:u/2}),b=Object.assign({},l);SS(b,gn(s));const S=Object.assign({maxPadding:b,w:r,h:u,x:l.left,y:l.top},l),x=UO(d.concat(g),_);ql(h.fullSize,S,_,x),ql(d,S,_,x),ql(g,S,_,x)&&ql(d,S,_,x),VO(S),Gb(h.leftAndTop,S,_,x),S.x+=S.w,S.y+=S.h,Gb(h.rightAndBottom,S,_,x),n.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Nt(h.chartArea,T=>{const A=T.box;Object.assign(A,n.chartArea),A.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class xS{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,l){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,l?Math.floor(e/l):s)}}isAttached(t){return!0}updateConfig(t){}}class FO extends xS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const cc="$chartjs",qO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Wb=n=>n===null||n==="";function GO(n,t){const e=n.style,s=n.getAttribute("height"),l=n.getAttribute("width");if(n[cc]={initial:{height:s,width:l,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Wb(l)){const r=kb(n,"width");r!==void 0&&(n.width=r)}if(Wb(s))if(n.style.height==="")n.height=n.width/(t||2);else{const r=kb(n,"height");r!==void 0&&(n.height=r)}return n}const ES=iO?{passive:!0}:!1;function WO(n,t,e){n&&n.addEventListener(t,e,ES)}function XO(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,ES)}function QO(n,t){const e=qO[n.type]||n.type,{x:s,y:l}=cs(n,t);return{type:e,chart:t,native:n,x:s!==void 0?s:null,y:l!==void 0?l:null}}function Lc(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function KO(n,t,e){const s=n.canvas,l=new MutationObserver(r=>{let u=!1;for(const h of r)u=u||Lc(h.addedNodes,s),u=u&&!Lc(h.removedNodes,s);u&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}function ZO(n,t,e){const s=n.canvas,l=new MutationObserver(r=>{let u=!1;for(const h of r)u=u||Lc(h.removedNodes,s),u=u&&!Lc(h.addedNodes,s);u&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}const Eo=new Map;let Xb=0;function TS(){const n=window.devicePixelRatio;n!==Xb&&(Xb=n,Eo.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function $O(n,t){Eo.size||window.addEventListener("resize",TS),Eo.set(n,t)}function JO(n){Eo.delete(n),Eo.size||window.removeEventListener("resize",TS)}function tR(n,t,e){const s=n.canvas,l=s&&_g(s);if(!l)return;const r=oS((h,d)=>{const g=l.clientWidth;e(h,d),g<l.clientWidth&&e()},window),u=new ResizeObserver(h=>{const d=h[0],g=d.contentRect.width,m=d.contentRect.height;g===0&&m===0||r(g,m)});return u.observe(l),$O(n,r),u}function Hf(n,t,e){e&&e.disconnect(),t==="resize"&&JO(n)}function eR(n,t,e){const s=n.canvas,l=oS(r=>{n.ctx!==null&&e(QO(r,n))},n);return WO(s,t,l),l}class nR extends xS{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(GO(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[cc])return!1;const s=e[cc].initial;["height","width"].forEach(r=>{const u=s[r];Ft(u)?e.removeAttribute(r):e.setAttribute(r,u)});const l=s.style||{};return Object.keys(l).forEach(r=>{e.style[r]=l[r]}),e.width=e.width,delete e[cc],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const l=t.$proxies||(t.$proxies={}),u={attach:KO,detach:ZO,resize:tR}[e]||eR;l[e]=u(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),l=s[e];if(!l)return;({attach:Hf,detach:Hf,resize:Hf}[e]||XO)(t,e,l),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,l){return nO(t,e,s,l)}isAttached(t){const e=t&&_g(t);return!!(e&&e.isConnected)}}function iR(n){return!mg()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?FO:nR}class Rn{constructor(){it(this,"x");it(this,"y");it(this,"active",!1);it(this,"options");it(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return bo(this.x)&&bo(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const l={};return t.forEach(r=>{l[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),l}}it(Rn,"defaults",{}),it(Rn,"defaultRoutes");function sR(n,t){const e=n.options.ticks,s=aR(n),l=Math.min(e.maxTicksLimit||s,s),r=e.major.enabled?oR(t):[],u=r.length,h=r[0],d=r[u-1],g=[];if(u>l)return rR(t,g,r,u/l),g;const m=lR(r,t,l);if(u>0){let _,b;const S=u>1?Math.round((d-h)/(u-1)):null;for(ec(t,g,m,Ft(S)?0:h-S,h),_=0,b=u-1;_<b;_++)ec(t,g,m,r[_],r[_+1]);return ec(t,g,m,d,Ft(S)?t.length:d+S),g}return ec(t,g,m),g}function aR(n){const t=n.options.offset,e=n._tickSize(),s=n._length/e+(t?0:1),l=n._maxLength/e;return Math.floor(Math.min(s,l))}function lR(n,t,e){const s=cR(n),l=t.length/e;if(!s)return Math.max(l,1);const r=Jw(s);for(let u=0,h=r.length-1;u<h;u++){const d=r[u];if(d>l)return d}return Math.max(l,1)}function oR(n){const t=[];let e,s;for(e=0,s=n.length;e<s;e++)n[e].major&&t.push(e);return t}function rR(n,t,e,s){let l=0,r=e[0],u;for(s=Math.ceil(s),u=0;u<n.length;u++)u===r&&(t.push(n[u]),l++,r=e[l*s])}function ec(n,t,e,s,l){const r=Tt(s,0),u=Math.min(Tt(l,n.length),n.length);let h=0,d,g,m;for(e=Math.ceil(e),l&&(d=l-s,e=d/Math.floor(d/e)),m=r;m<0;)h++,m=Math.round(r+h*e);for(g=Math.max(r,0);g<u;g++)g===m&&(t.push(n[g]),h++,m=Math.round(r+h*e))}function cR(n){const t=n.length;let e,s;if(t<2)return!1;for(s=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==s)return!1;return s}const uR=n=>n==="left"?"right":n==="right"?"left":n,Qb=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Kb=(n,t)=>Math.min(t||n,n);function Zb(n,t){const e=[],s=n.length/t,l=n.length;let r=0;for(;r<l;r+=s)e.push(n[Math.floor(r)]);return e}function hR(n,t,e){const s=n.ticks.length,l=Math.min(t,s-1),r=n._startPixel,u=n._endPixel,h=1e-6;let d=n.getPixelForTick(l),g;if(!(e&&(s===1?g=Math.max(d-r,u-d):t===0?g=(n.getPixelForTick(1)-d)/2:g=(d-n.getPixelForTick(l-1))/2,d+=l<t?g:-g,d<r-h||d>u+h)))return d}function fR(n,t){Nt(n,e=>{const s=e.gc,l=s.length/2;let r;if(l>t){for(r=0;r<l;++r)delete e.data[s[r]];s.splice(0,l)}})}function Pl(n){return n.drawTicks?n.tickLength:0}function $b(n,t){if(!n.display)return 0;const e=De(n.font,t),s=gn(n.padding);return(be(n.text)?n.text.length:1)*e.lineHeight+s.height}function dR(n,t){return Ss(n,{scale:t,type:"scale"})}function gR(n,t,e){return Ss(n,{tick:e,index:t,type:"tick"})}function pR(n,t,e){let s=og(n);return(e&&t!=="right"||!e&&t==="right")&&(s=uR(s)),s}function mR(n,t,e,s){const{top:l,left:r,bottom:u,right:h,chart:d}=n,{chartArea:g,scales:m}=d;let _=0,b,S,x;const T=u-l,A=h-r;if(n.isHorizontal()){if(S=we(s,r,h),Mt(e)){const z=Object.keys(e)[0],U=e[z];x=m[z].getPixelForValue(U)+T-t}else e==="center"?x=(g.bottom+g.top)/2+T-t:x=Qb(n,e,t);b=h-r}else{if(Mt(e)){const z=Object.keys(e)[0],U=e[z];S=m[z].getPixelForValue(U)-A+t}else e==="center"?S=(g.left+g.right)/2-A+t:S=Qb(n,e,t);x=we(s,u,l),_=e==="left"?-ue:ue}return{titleX:S,titleY:x,maxWidth:b,rotation:_}}class Na extends Rn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:l}=this;return t=wn(t,Number.POSITIVE_INFINITY),e=wn(e,Number.NEGATIVE_INFINITY),s=wn(s,Number.POSITIVE_INFINITY),l=wn(l,Number.NEGATIVE_INFINITY),{min:wn(t,s),max:wn(e,l),minDefined:dn(t),maxDefined:dn(e)}}getMinMax(t){let{min:e,max:s,minDefined:l,maxDefined:r}=this.getUserBounds(),u;if(l&&r)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,g=h.length;d<g;++d)u=h[d].controller.getMinMax(this,t),l||(e=Math.min(e,u.min)),r||(s=Math.max(s,u.max));return e=r&&e>s?s:e,s=l&&e>s?e:s,{min:wn(e,wn(s,e)),max:wn(s,wn(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){qt(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:l,grace:r,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=zD(this,r,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Zb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=sR(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){qt(this.options.afterUpdate,[this])}beforeSetDimensions(){qt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){qt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),qt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){qt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,l,r;for(s=0,l=t.length;s<l;s++)r=t[s],r.label=qt(e.callback,[r.value,s,t],this)}afterTickToLabelConversion(){qt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){qt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Kb(this.ticks.length,t.ticks.maxTicksLimit),l=e.minRotation||0,r=e.maxRotation;let u=l,h,d,g;if(!this._isVisible()||!e.display||l>=r||s<=1||!this.isHorizontal()){this.labelRotation=l;return}const m=this._getLabelSizes(),_=m.widest.width,b=m.highest.height,S=Re(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/s:S/(s-1),_+6>h&&(h=S/(s-(t.offset?.5:1)),d=this.maxHeight-Pl(t.grid)-e.padding-$b(t.title,this.chart.options.font),g=Math.sqrt(_*_+b*b),u=iD(Math.min(Math.asin(Re((m.highest.height+6)/h,-1,1)),Math.asin(Re(d/g,-1,1))-Math.asin(Re(b/g,-1,1)))),u=Math.max(l,Math.min(r,u))),this.labelRotation=u}afterCalculateLabelRotation(){qt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){qt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:l,grid:r}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const d=$b(l,e.options.font);if(h?(t.width=this.maxWidth,t.height=Pl(r)+d):(t.height=this.maxHeight,t.width=Pl(r)+d),s.display&&this.ticks.length){const{first:g,last:m,widest:_,highest:b}=this._getLabelSizes(),S=s.padding*2,x=Jn(this.labelRotation),T=Math.cos(x),A=Math.sin(x);if(h){const z=s.mirror?0:A*_.width+T*b.height;t.height=Math.min(this.maxHeight,t.height+z+S)}else{const z=s.mirror?0:T*_.width+A*b.height;t.width=Math.min(this.maxWidth,t.width+z+S)}this._calculatePadding(g,m,A,T)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,l){const{ticks:{align:r,padding:u},position:h}=this.options,d=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;d?g?(b=l*t.width,S=s*e.height):(b=s*t.height,S=l*e.width):r==="start"?S=e.width:r==="end"?b=t.width:r!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-m+u)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-_+u)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;r==="start"?(m=0,_=t.height):r==="end"&&(m=e.height,_=0),this.paddingTop=m+u,this.paddingBottom=_+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){qt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)Ft(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Zb(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:l,_longestTextCache:r}=this,u=[],h=[],d=Math.floor(e/Kb(e,s));let g=0,m=0,_,b,S,x,T,A,z,U,P,Y,L;for(_=0;_<e;_+=d){if(x=t[_].label,T=this._resolveTickFontOptions(_),l.font=A=T.string,z=r[A]=r[A]||{data:{},gc:[]},U=T.lineHeight,P=Y=0,!Ft(x)&&!be(x))P=wb(l,z.data,z.gc,P,x),Y=U;else if(be(x))for(b=0,S=x.length;b<S;++b)L=x[b],!Ft(L)&&!be(L)&&(P=wb(l,z.data,z.gc,P,L),Y+=U);u.push(P),h.push(Y),g=Math.max(P,g),m=Math.max(Y,m)}fR(r,e);const q=u.indexOf(g),X=h.indexOf(m),G=J=>({width:u[J]||0,height:h[J]||0});return{first:G(0),last:G(e-1),widest:G(q),highest:G(X),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return aD(this._alignToPixels?as(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=gR(this.getContext(),t,s))}return this.$context||(this.$context=dR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Jn(this.labelRotation),s=Math.abs(Math.cos(e)),l=Math.abs(Math.sin(e)),r=this._getLabelSizes(),u=t.autoSkipPadding||0,h=r?r.widest.width+u:0,d=r?r.highest.height+u:0;return this.isHorizontal()?d*s>h*l?h/s:d/l:d*l<h*s?d/s:h/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,l=this.options,{grid:r,position:u,border:h}=l,d=r.offset,g=this.isHorizontal(),_=this.ticks.length+(d?1:0),b=Pl(r),S=[],x=h.setContext(this.getContext()),T=x.display?x.width:0,A=T/2,z=function(k){return as(s,k,T)};let U,P,Y,L,q,X,G,J,ht,at,st,Bt;if(u==="top")U=z(this.bottom),X=this.bottom-b,J=U-A,at=z(t.top)+A,Bt=t.bottom;else if(u==="bottom")U=z(this.top),at=t.top,Bt=z(t.bottom)-A,X=U+A,J=this.top+b;else if(u==="left")U=z(this.right),q=this.right-b,G=U-A,ht=z(t.left)+A,st=t.right;else if(u==="right")U=z(this.left),ht=t.left,st=z(t.right)-A,q=U+A,G=this.left+b;else if(e==="x"){if(u==="center")U=z((t.top+t.bottom)/2+.5);else if(Mt(u)){const k=Object.keys(u)[0],V=u[k];U=z(this.chart.scales[k].getPixelForValue(V))}at=t.top,Bt=t.bottom,X=U+A,J=X+b}else if(e==="y"){if(u==="center")U=z((t.left+t.right)/2);else if(Mt(u)){const k=Object.keys(u)[0],V=u[k];U=z(this.chart.scales[k].getPixelForValue(V))}q=U-A,G=q-b,ht=t.left,st=t.right}const Gt=Tt(l.ticks.maxTicksLimit,_),ft=Math.max(1,Math.ceil(_/Gt));for(P=0;P<_;P+=ft){const k=this.getContext(P),V=r.setContext(k),Z=h.setContext(k),dt=V.lineWidth,C=V.color,j=Z.dash||[],Q=Z.dashOffset,W=V.tickWidth,tt=V.tickColor,gt=V.tickBorderDash||[],et=V.tickBorderDashOffset;Y=hR(this,P,d),Y!==void 0&&(L=as(s,Y,dt),g?q=G=ht=st=L:X=J=at=Bt=L,S.push({tx1:q,ty1:X,tx2:G,ty2:J,x1:ht,y1:at,x2:st,y2:Bt,width:dt,color:C,borderDash:j,borderDashOffset:Q,tickWidth:W,tickColor:tt,tickBorderDash:gt,tickBorderDashOffset:et}))}return this._ticksLength=_,this._borderValue=U,S}_computeLabelItems(t){const e=this.axis,s=this.options,{position:l,ticks:r}=s,u=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:g,padding:m,mirror:_}=r,b=Pl(s.grid),S=b+m,x=_?-m:S,T=-Jn(this.labelRotation),A=[];let z,U,P,Y,L,q,X,G,J,ht,at,st,Bt="middle";if(l==="top")q=this.bottom-x,X=this._getXAxisLabelAlignment();else if(l==="bottom")q=this.top+x,X=this._getXAxisLabelAlignment();else if(l==="left"){const ft=this._getYAxisLabelAlignment(b);X=ft.textAlign,L=ft.x}else if(l==="right"){const ft=this._getYAxisLabelAlignment(b);X=ft.textAlign,L=ft.x}else if(e==="x"){if(l==="center")q=(t.top+t.bottom)/2+S;else if(Mt(l)){const ft=Object.keys(l)[0],k=l[ft];q=this.chart.scales[ft].getPixelForValue(k)+S}X=this._getXAxisLabelAlignment()}else if(e==="y"){if(l==="center")L=(t.left+t.right)/2-S;else if(Mt(l)){const ft=Object.keys(l)[0],k=l[ft];L=this.chart.scales[ft].getPixelForValue(k)}X=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(d==="start"?Bt="top":d==="end"&&(Bt="bottom"));const Gt=this._getLabelSizes();for(z=0,U=h.length;z<U;++z){P=h[z],Y=P.label;const ft=r.setContext(this.getContext(z));G=this.getPixelForTick(z)+r.labelOffset,J=this._resolveTickFontOptions(z),ht=J.lineHeight,at=be(Y)?Y.length:1;const k=at/2,V=ft.color,Z=ft.textStrokeColor,dt=ft.textStrokeWidth;let C=X;u?(L=G,X==="inner"&&(z===U-1?C=this.options.reverse?"left":"right":z===0?C=this.options.reverse?"right":"left":C="center"),l==="top"?g==="near"||T!==0?st=-at*ht+ht/2:g==="center"?st=-Gt.highest.height/2-k*ht+ht:st=-Gt.highest.height+ht/2:g==="near"||T!==0?st=ht/2:g==="center"?st=Gt.highest.height/2-k*ht:st=Gt.highest.height-at*ht,_&&(st*=-1),T!==0&&!ft.showLabelBackdrop&&(L+=ht/2*Math.sin(T))):(q=G,st=(1-at)*ht/2);let j;if(ft.showLabelBackdrop){const Q=gn(ft.backdropPadding),W=Gt.heights[z],tt=Gt.widths[z];let gt=st-Q.top,et=0-Q.left;switch(Bt){case"middle":gt-=W/2;break;case"bottom":gt-=W;break}switch(X){case"center":et-=tt/2;break;case"right":et-=tt;break;case"inner":z===U-1?et-=tt:z>0&&(et-=tt/2);break}j={left:et,top:gt,width:tt+Q.width,height:W+Q.height,color:ft.backdropColor}}A.push({label:Y,font:J,textOffset:st,options:{rotation:T,color:V,strokeColor:Z,strokeWidth:dt,textAlign:C,textBaseline:Bt,translation:[L,q],backdrop:j}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Jn(this.labelRotation))return t==="top"?"left":"right";let l="center";return e.align==="start"?l="left":e.align==="end"?l="right":e.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:l,padding:r}}=this.options,u=this._getLabelSizes(),h=t+r,d=u.widest.width;let g,m;return e==="left"?l?(m=this.right+r,s==="near"?g="left":s==="center"?(g="center",m+=d/2):(g="right",m+=d)):(m=this.right-h,s==="near"?g="right":s==="center"?(g="center",m-=d/2):(g="left",m=this.left)):e==="right"?l?(m=this.left+r,s==="near"?g="right":s==="center"?(g="center",m-=d/2):(g="left",m-=d)):(m=this.left+h,s==="near"?g="left":s==="center"?(g="center",m+=d/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:l,width:r,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,l,r,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const l=this.ticks.findIndex(r=>r.value===t);return l>=0?e.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,u;const h=(d,g,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(e.display)for(r=0,u=l.length;r<u;++r){const d=l[r];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:l}}=this,r=s.setContext(this.getContext()),u=s.display?r.width:0;if(!u)return;const h=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let g,m,_,b;this.isHorizontal()?(g=as(t,this.left,u)-u/2,m=as(t,this.right,h)+h/2,_=b=d):(_=as(t,this.top,u)-u/2,b=as(t,this.bottom,h)+h/2,g=m=d),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(g,_),e.lineTo(m,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,l=this._computeLabelArea();l&&ug(s,l);const r=this.getLabelItems(t);for(const u of r){const h=u.options,d=u.font,g=u.label,m=u.textOffset;xo(s,g,0,m,d,h)}l&&hg(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:l}}=this;if(!s.display)return;const r=De(s.font),u=gn(s.padding),h=s.align;let d=r.lineHeight/2;e==="bottom"||e==="center"||Mt(e)?(d+=u.bottom,be(s.text)&&(d+=r.lineHeight*(s.text.length-1))):d+=u.top;const{titleX:g,titleY:m,maxWidth:_,rotation:b}=mR(this,d,e,h);xo(t,s.text,0,0,r,{color:s.color,maxWidth:_,rotation:b,textAlign:pR(h,e,l),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=Tt(t.grid&&t.grid.z,-1),l=Tt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Na.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",l=[];let r,u;for(r=0,u=e.length;r<u;++r){const h=e[r];h[s]===this.id&&(!t||h.type===t)&&l.push(h)}return l}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return De(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class nc{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;bR(e)&&(s=this.register(e));const l=this.items,r=t.id,u=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in l||(l[r]=t,_R(t,u,s),this.override&&se.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,l=this.scope;s in e&&delete e[s],l&&s in se[l]&&(delete se[l][s],this.override&&delete ys[s])}}function _R(n,t,e){const s=_o(Object.create(null),[e?se.get(e):{},se.get(t),n.defaults]);se.set(t,s),n.defaultRoutes&&yR(t,n.defaultRoutes),n.descriptors&&se.describe(t,n.descriptors)}function yR(n,t){Object.keys(t).forEach(e=>{const s=e.split("."),l=s.pop(),r=[n].concat(s).join("."),u=t[e].split("."),h=u.pop(),d=u.join(".");se.route(r,l,d,h)})}function bR(n){return"id"in n&&"defaults"in n}class vR{constructor(){this.controllers=new nc(_a,"datasets",!0),this.elements=new nc(Rn,"elements"),this.plugins=new nc(Object,"plugins"),this.scales=new nc(Na,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(l=>{const r=s||this._getRegistryForType(l);s||r.isForType(l)||r===this.plugins&&l.id?this._exec(t,r,l):Nt(l,u=>{const h=s||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,s){const l=ag(t);qt(s["before"+l],[],s),e[t](s),qt(s["after"+l],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const l=e.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return l}}var On=new vR;class SR{constructor(){this._init=[]}notify(t,e,s,l){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=l?this._descriptors(t).filter(l):this._descriptors(t),u=this._notify(r,t,e,s);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,s,l){l=l||{};for(const r of t){const u=r.plugin,h=u[s],d=[e,l,r.options];if(qt(h,d,u)===!1&&l.cancelable)return!1}return!0}invalidate(){Ft(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,l=Tt(s.options&&s.options.plugins,{}),r=xR(s);return l===!1&&!e?[]:TR(t,r,l,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,l=(r,u)=>r.filter(h=>!u.some(d=>h.plugin.id===d.plugin.id));this._notify(l(e,s),t,"stop"),this._notify(l(s,e),t,"start")}}function xR(n){const t={},e=[],s=Object.keys(On.plugins.items);for(let r=0;r<s.length;r++)e.push(On.getPlugin(s[r]));const l=n.plugins||[];for(let r=0;r<l.length;r++){const u=l[r];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function ER(n,t){return!t&&n===!1?null:n===!0?{}:n}function TR(n,{plugins:t,localIds:e},s,l){const r=[],u=n.getContext();for(const h of t){const d=h.id,g=ER(s[d],l);g!==null&&r.push({plugin:h,options:CR(n.config,{plugin:h,local:e[d]},g,u)})}return r}function CR(n,{plugin:t,local:e},s,l){const r=n.pluginScopeKeys(t),u=n.getOptionScopes(s,r);return e&&t.defaults&&u.push(t.defaults),n.createResolver(u,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function hd(n,t){const e=se.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function AR(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function MR(n,t){return n===t?"_index_":"_value_"}function Jb(n){if(n==="x"||n==="y"||n==="r")return n}function wR(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function fd(n,...t){if(Jb(n))return n;for(const e of t){const s=e.axis||wR(e.position)||n.length>1&&Jb(n[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function tv(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function DR(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===n||s.yAxisID===n);if(e.length)return tv(n,"x",e[0])||tv(n,"y",e[0])}return{}}function OR(n,t){const e=ys[n.type]||{scales:{}},s=t.scales||{},l=hd(n.type,t),r=Object.create(null);return Object.keys(s).forEach(u=>{const h=s[u];if(!Mt(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const d=fd(u,h,DR(u,n),se.scales[h.type]),g=MR(d,l),m=e.scales||{};r[u]=to(Object.create(null),[{axis:d},h,m[d],m[g]])}),n.data.datasets.forEach(u=>{const h=u.type||n.type,d=u.indexAxis||hd(h,t),m=(ys[h]||{}).scales||{};Object.keys(m).forEach(_=>{const b=AR(_,d),S=u[b+"AxisID"]||b;r[S]=r[S]||Object.create(null),to(r[S],[{axis:b},s[S],m[_]])})}),Object.keys(r).forEach(u=>{const h=r[u];to(h,[se.scales[h.type],se.scale])}),r}function CS(n){const t=n.options||(n.options={});t.plugins=Tt(t.plugins,{}),t.scales=OR(n,t)}function AS(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function RR(n){return n=n||{},n.data=AS(n.data),CS(n),n}const ev=new Map,MS=new Set;function ic(n,t){let e=ev.get(n);return e||(e=t(),ev.set(n,e),MS.add(e)),e}const Vl=(n,t,e)=>{const s=yo(t,e);s!==void 0&&n.add(s)};class NR{constructor(t){this._config=RR(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=AS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),CS(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ic(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ic(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ic(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return ic(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let l=s.get(t);return(!l||e)&&(l=new Map,s.set(t,l)),l}getOptionScopes(t,e,s){const{options:l,type:r}=this,u=this._cachedScopes(t,s),h=u.get(e);if(h)return h;const d=new Set;e.forEach(m=>{t&&(d.add(t),m.forEach(_=>Vl(d,t,_))),m.forEach(_=>Vl(d,l,_)),m.forEach(_=>Vl(d,ys[r]||{},_)),m.forEach(_=>Vl(d,se,_)),m.forEach(_=>Vl(d,od,_))});const g=Array.from(d);return g.length===0&&g.push(Object.create(null)),MS.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,ys[e]||{},se.datasets[e]||{},{type:e},se,od]}resolveNamedOptions(t,e,s,l=[""]){const r={$shared:!0},{resolver:u,subPrefixes:h}=nv(this._resolverCache,t,l);let d=u;if(zR(u,e)){r.$shared=!1,s=Hi(s)?s():s;const g=this.createResolver(t,s,h);d=Ca(u,s,g)}for(const g of e)r[g]=d[g];return r}createResolver(t,e,s=[""],l){const{resolver:r}=nv(this._resolverCache,t,s);return Mt(e)?Ca(r,e,void 0,l):r}}function nv(n,t,e){let s=n.get(t);s||(s=new Map,n.set(t,s));const l=e.join();let r=s.get(l);return r||(r={resolver:dg(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(l,r)),r}const kR=n=>Mt(n)&&Object.getOwnPropertyNames(n).some(t=>Hi(n[t]));function zR(n,t){const{isScriptable:e,isIndexable:s}=uS(n);for(const l of t){const r=e(l),u=s(l),h=(u||r)&&n[l];if(r&&(Hi(h)||kR(h))||u&&be(h))return!0}return!1}var LR="4.4.8";const IR=["top","bottom","left","right","chartArea"];function iv(n,t){return n==="top"||n==="bottom"||IR.indexOf(n)===-1&&t==="x"}function sv(n,t){return function(e,s){return e[n]===s[n]?e[t]-s[t]:e[n]-s[n]}}function av(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),qt(e&&e.onComplete,[n],t)}function BR(n){const t=n.chart,e=t.options.animation;qt(e&&e.onProgress,[n],t)}function wS(n){return mg()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const uc={},lv=n=>{const t=wS(n);return Object.values(uc).filter(e=>e.canvas===t).pop()};function HR(n,t,e){const s=Object.keys(n);for(const l of s){const r=+l;if(r>=t){const u=n[l];delete n[l],(e>0||r>t)&&(n[r+e]=u)}}}function UR(n,t,e,s){return!e||n.type==="mouseout"?null:s?t:n}function sc(n,t,e){return n.options.clip?n[e]:t[e]}function jR(n,t){const{xScale:e,yScale:s}=n;return e&&s?{left:sc(e,t,"left"),right:sc(e,t,"right"),top:sc(s,t,"top"),bottom:sc(s,t,"bottom")}:t}var wi;let Jc=(wi=class{static register(...t){On.add(...t),ov()}static unregister(...t){On.remove(...t),ov()}constructor(t,e){const s=this.config=new NR(e),l=wS(t),r=lv(l);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||iR(l)),this.platform.updateConfig(s);const h=this.platform.acquireContext(l,u.aspectRatio),d=h&&h.canvas,g=d&&d.height,m=d&&d.width;if(this.id=Fw(),this.ctx=h,this.canvas=d,this.width=m,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new SR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=uD(_=>this.update(_),u.resizeDelay||0),this._dataChanges=[],uc[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Qn.listen(this,"complete",av),Qn.listen(this,"progress",BR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:l,_aspectRatio:r}=this;return Ft(t)?e&&r?r:l?s/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return On}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Nb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Db(this.canvas,this.ctx),this}stop(){return Qn.stop(this),this}resize(t,e){Qn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,l=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(l,t,e,r),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Nb(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),qt(s.onResize,[this,u],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Nt(e,(s,l)=>{s.id=l})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,l=Object.keys(s).reduce((u,h)=>(u[h]=!1,u),{});let r=[];e&&(r=r.concat(Object.keys(e).map(u=>{const h=e[u],d=fd(u,h),g=d==="r",m=d==="x";return{options:h,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Nt(r,u=>{const h=u.options,d=h.id,g=fd(d,h),m=Tt(h.type,u.dtype);(h.position===void 0||iv(h.position,g)!==iv(u.dposition))&&(h.position=u.dposition),l[d]=!0;let _=null;if(d in s&&s[d].type===m)_=s[d];else{const b=On.getScale(m);_=new b({id:d,type:m,ctx:this.ctx,chart:this}),s[_.id]=_}_.init(h,t)}),Nt(l,(u,h)=>{u||delete s[h]}),Nt(s,u=>{fn.configure(this,u,u.options),fn.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((l,r)=>l.index-r.index),s>e){for(let l=e;l<s;++l)this._destroyDatasetMeta(l);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(sv("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,l)=>{e.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,l;for(this._removeUnreferencedMetasets(),s=0,l=e.length;s<l;s++){const r=e[s];let u=this.getDatasetMeta(s);const h=r.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=h,u.indexAxis=r.indexAxis||hd(h,this.options),u.order=r.order||0,u.index=s,u.label=""+r.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const d=On.getController(h),{datasetElementType:g,dataElementType:m}=se.datasets[h];Object.assign(d,{dataElementType:On.getElement(m),datasetElementType:g&&On.getElement(g)}),u.controller=new d(this,s),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Nt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:_}=this.getDatasetMeta(g),b=!l&&r.indexOf(_)===-1;_.buildOrUpdateElements(b),u=Math.max(+_.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),l||Nt(r,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(sv("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Nt(this.scales,t=>{fn.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!bb(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:l,count:r}of e){const u=s==="_removeElements"?-r:r;HR(t,l,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=r=>new Set(t.filter(u=>u[0]===r).map((u,h)=>h+","+u.splice(1).join(","))),l=s(0);for(let r=1;r<e;r++)if(!bb(l,s(r)))return;return Array.from(l).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;fn.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],Nt(this.boxes,l=>{s&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,r)=>{l._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,Hi(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),l={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(s.controller._update(e),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qn.has(this)?this.attached&&!Qn.running(this)&&Qn.start(this):(this.draw(),av({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let l,r;for(l=0,r=e.length;l<r;++l){const u=e[l];(!t||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,l=!s.disabled,r=jR(t,this.chartArea),u={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",u)!==!1&&(l&&ug(e,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),t.controller.draw(),l&&hg(e),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(t){return So(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,l){const r=IO.modes[e];return typeof r=="function"?r(this,t,s,l):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let l=s.filter(r=>r&&r._dataset===e).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(l)),l}getContext(){return this.$context||(this.$context=Ss(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const l=s?"show":"hide",r=this.getDatasetMeta(t),u=r.controller._resolveAnimations(void 0,l);Nc(e)?(r.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),u.update(r,{visible:s}),this.update(h=>h.datasetIndex===t?l:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Qn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Db(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete uc[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(r,u)=>{e.addEventListener(this,r,u),t[r]=u},l=(r,u,h)=>{r.offsetX=u,r.offsetY=h,this._eventHandler(r)};Nt(this.options.events,r=>s(r,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(d,g)=>{e.addEventListener(this,d,g),t[d]=g},l=(d,g)=>{t[d]&&(e.removeEventListener(this,d,g),delete t[d])},r=(d,g)=>{this.canvas&&this.resize(d,g)};let u;const h=()=>{l("attach",h),this.attached=!0,this.resize(),s("resize",r),s("detach",u)};u=()=>{this.attached=!1,l("resize",r),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Nt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Nt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const l=s?"set":"remove";let r,u,h,d;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+l+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[l+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:r,index:u})=>{const h=this.getDatasetMeta(r);if(!h)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:h.data[u],index:u}});!Oc(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const l=this.options.hover,r=(d,g)=>d.filter(m=>!g.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),u=r(e,t),h=s?t:r(t,e);u.length&&this.updateHoverStyle(u,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},l=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,l)===!1)return;const r=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,l),(r||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:l=[],options:r}=this,u=e,h=this._getActiveElements(t,l,s,u),d=Kw(t),g=UR(t,this._lastEvent,s,d);s&&(this._lastEvent=null,qt(r.onHover,[t,h,this],this),d&&qt(r.onClick,[t,h,this],this));const m=!Oc(h,l);return(m||e)&&(this._active=h,this._updateHoverStyles(h,l,e)),this._lastEvent=g,m}_getActiveElements(t,e,s,l){if(t.type==="mouseout")return[];if(!s)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,l)}},it(wi,"defaults",se),it(wi,"instances",uc),it(wi,"overrides",ys),it(wi,"registry",On),it(wi,"version",LR),it(wi,"getChart",lv),wi);function ov(){return Nt(Jc.instances,n=>n._plugins.invalidate())}function PR(n,t,e){const{startAngle:s,pixelMargin:l,x:r,y:u,outerRadius:h,innerRadius:d}=t;let g=l/h;n.beginPath(),n.arc(r,u,h,s-g,e+g),d>l?(g=l/d,n.arc(r,u,d,e+g,s-g,!0)):n.arc(r,u,l,e+ue,s-ue),n.closePath(),n.clip()}function VR(n){return fg(n,["outerStart","outerEnd","innerStart","innerEnd"])}function YR(n,t,e,s){const l=VR(n.options.borderRadius),r=(e-t)/2,u=Math.min(r,s*t/2),h=d=>{const g=(e-Math.min(r,d))*s/2;return Re(d,0,Math.min(r,g))};return{outerStart:h(l.outerStart),outerEnd:h(l.outerEnd),innerStart:Re(l.innerStart,0,u),innerEnd:Re(l.innerEnd,0,u)}}function ca(n,t,e,s){return{x:e+n*Math.cos(t),y:s+n*Math.sin(t)}}function Ic(n,t,e,s,l,r){const{x:u,y:h,startAngle:d,pixelMargin:g,innerRadius:m}=t,_=Math.max(t.outerRadius+s+e-g,0),b=m>0?m+s+e+g:0;let S=0;const x=l-d;if(s){const ft=m>0?m-s:0,k=_>0?_-s:0,V=(ft+k)/2,Z=V!==0?x*V/(V+s):x;S=(x-Z)/2}const T=Math.max(.001,x*_-e/te)/_,A=(x-T)/2,z=d+A+S,U=l-A-S,{outerStart:P,outerEnd:Y,innerStart:L,innerEnd:q}=YR(t,b,_,U-z),X=_-P,G=_-Y,J=z+P/X,ht=U-Y/G,at=b+L,st=b+q,Bt=z+L/at,Gt=U-q/st;if(n.beginPath(),r){const ft=(J+ht)/2;if(n.arc(u,h,_,J,ft),n.arc(u,h,_,ft,ht),Y>0){const dt=ca(G,ht,u,h);n.arc(dt.x,dt.y,Y,ht,U+ue)}const k=ca(st,U,u,h);if(n.lineTo(k.x,k.y),q>0){const dt=ca(st,Gt,u,h);n.arc(dt.x,dt.y,q,U+ue,Gt+Math.PI)}const V=(U-q/b+(z+L/b))/2;if(n.arc(u,h,b,U-q/b,V,!0),n.arc(u,h,b,V,z+L/b,!0),L>0){const dt=ca(at,Bt,u,h);n.arc(dt.x,dt.y,L,Bt+Math.PI,z-ue)}const Z=ca(X,z,u,h);if(n.lineTo(Z.x,Z.y),P>0){const dt=ca(X,J,u,h);n.arc(dt.x,dt.y,P,z-ue,J)}}else{n.moveTo(u,h);const ft=Math.cos(J)*_+u,k=Math.sin(J)*_+h;n.lineTo(ft,k);const V=Math.cos(ht)*_+u,Z=Math.sin(ht)*_+h;n.lineTo(V,Z)}n.closePath()}function FR(n,t,e,s,l){const{fullCircles:r,startAngle:u,circumference:h}=t;let d=t.endAngle;if(r){Ic(n,t,e,s,d,l);for(let g=0;g<r;++g)n.fill();isNaN(h)||(d=u+(h%Jt||Jt))}return Ic(n,t,e,s,d,l),n.fill(),d}function qR(n,t,e,s,l){const{fullCircles:r,startAngle:u,circumference:h,options:d}=t,{borderWidth:g,borderJoinStyle:m,borderDash:_,borderDashOffset:b}=d,S=d.borderAlign==="inner";if(!g)return;n.setLineDash(_||[]),n.lineDashOffset=b,S?(n.lineWidth=g*2,n.lineJoin=m||"round"):(n.lineWidth=g,n.lineJoin=m||"bevel");let x=t.endAngle;if(r){Ic(n,t,e,s,x,l);for(let T=0;T<r;++T)n.stroke();isNaN(h)||(x=u+(h%Jt||Jt))}S&&PR(n,t,x),r||(Ic(n,t,e,s,x,l),n.stroke())}class Gl extends Rn{constructor(e){super();it(this,"circumference");it(this,"endAngle");it(this,"fullCircles");it(this,"innerRadius");it(this,"outerRadius");it(this,"pixelMargin");it(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,l){const r=this.getProps(["x","y"],l),{angle:u,distance:h}=sS(r,{x:e,y:s}),{startAngle:d,endAngle:g,innerRadius:m,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),S=(this.options.spacing+this.options.borderWidth)/2,x=Tt(b,g-d),T=vo(u,d,g)&&d!==g,A=x>=Jt||T,z=ha(h,m+S,_+S);return A&&z}getCenterPoint(e){const{x:s,y:l,startAngle:r,endAngle:u,innerRadius:h,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:m}=this.options,_=(r+u)/2,b=(h+d+m+g)/2;return{x:s+Math.cos(_)*b,y:l+Math.sin(_)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:l}=this,r=(s.offset||0)/4,u=(s.spacing||0)/2,h=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=l>Jt?Math.floor(l/Jt):0,l===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*r,Math.sin(d)*r);const g=1-Math.sin(Math.min(te,l||0)),m=r*g;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,FR(e,this,m,u,h),qR(e,this,m,u,h),e.restore()}}it(Gl,"id","arc"),it(Gl,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),it(Gl,"defaultRoutes",{backgroundColor:"backgroundColor"}),it(Gl,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function DS(n,t,e=t){n.lineCap=Tt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Tt(e.borderDash,t.borderDash)),n.lineDashOffset=Tt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Tt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Tt(e.borderWidth,t.borderWidth),n.strokeStyle=Tt(e.borderColor,t.borderColor)}function GR(n,t,e){n.lineTo(e.x,e.y)}function WR(n){return n.stepped?TD:n.tension||n.cubicInterpolationMode==="monotone"?CD:GR}function OS(n,t,e={}){const s=n.length,{start:l=0,end:r=s-1}=e,{start:u,end:h}=t,d=Math.max(l,u),g=Math.min(r,h),m=l<u&&r<u||l>h&&r>h;return{count:s,start:d,loop:t.loop,ilen:g<d&&!m?s+g-d:g-d}}function XR(n,t,e,s){const{points:l,options:r}=t,{count:u,start:h,loop:d,ilen:g}=OS(l,e,s),m=WR(r);let{move:_=!0,reverse:b}=s||{},S,x,T;for(S=0;S<=g;++S)x=l[(h+(b?g-S:S))%u],!x.skip&&(_?(n.moveTo(x.x,x.y),_=!1):m(n,T,x,b,r.stepped),T=x);return d&&(x=l[(h+(b?g:0))%u],m(n,T,x,b,r.stepped)),!!d}function QR(n,t,e,s){const l=t.points,{count:r,start:u,ilen:h}=OS(l,e,s),{move:d=!0,reverse:g}=s||{};let m=0,_=0,b,S,x,T,A,z;const U=Y=>(u+(g?h-Y:Y))%r,P=()=>{T!==A&&(n.lineTo(m,A),n.lineTo(m,T),n.lineTo(m,z))};for(d&&(S=l[U(0)],n.moveTo(S.x,S.y)),b=0;b<=h;++b){if(S=l[U(b)],S.skip)continue;const Y=S.x,L=S.y,q=Y|0;q===x?(L<T?T=L:L>A&&(A=L),m=(_*m+Y)/++_):(P(),n.lineTo(Y,L),x=q,_=0,T=A=L),z=L}P()}function dd(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?QR:XR}function KR(n){return n.stepped?sO:n.tension||n.cubicInterpolationMode==="monotone"?aO:us}function ZR(n,t,e,s){let l=t._path;l||(l=t._path=new Path2D,t.path(l,e,s)&&l.closePath()),DS(n,t.options),n.stroke(l)}function $R(n,t,e,s){const{segments:l,options:r}=t,u=dd(t);for(const h of l)DS(n,r,h.style),n.beginPath(),u(n,t,h,{start:e,end:e+s-1})&&n.closePath(),n.stroke()}const JR=typeof Path2D=="function";function t2(n,t,e,s){JR&&!t.options.segment?ZR(n,t,e,s):$R(n,t,e,s)}class Wl extends Rn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const l=s.spanGaps?this._loop:this._fullLoop;KD(this._points,s,t,l,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=dO(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,l=t[e],r=this.points,u=uO(this,{property:e,start:l,end:l});if(!u.length)return;const h=[],d=KR(s);let g,m;for(g=0,m=u.length;g<m;++g){const{start:_,end:b}=u[g],S=r[_],x=r[b];if(S===x){h.push(S);continue}const T=Math.abs((l-S[e])/(x[e]-S[e])),A=d(S,x,T,s.stepped);A[e]=t[e],h.push(A)}return h.length===1?h[0]:h}pathSegment(t,e,s){return dd(this)(t,this,e,s)}path(t,e,s){const l=this.segments,r=dd(this);let u=this._loop;e=e||0,s=s||this.points.length-e;for(const h of l)u&=r(t,this,h,{start:e,end:e+s-1});return!!u}draw(t,e,s,l){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),t2(t,this,s,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}it(Wl,"id","line"),it(Wl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),it(Wl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),it(Wl,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function rv(n,t,e,s){const l=n.options,{[e]:r}=n.getProps([e],s);return Math.abs(t-r)<l.radius+l.hitRadius}class hc extends Rn{constructor(e){super();it(this,"parsed");it(this,"skip");it(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,l){const r=this.options,{x:u,y:h}=this.getProps(["x","y"],l);return Math.pow(e-u,2)+Math.pow(s-h,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,s){return rv(this,e,"x",s)}inYRange(e,s){return rv(this,e,"y",s)}getCenterPoint(e){const{x:s,y:l}=this.getProps(["x","y"],e);return{x:s,y:l}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const l=s&&e.borderWidth||0;return(s+l)*2}draw(e,s){const l=this.options;this.skip||l.radius<.1||!So(this,s,this.size(l)/2)||(e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.fillStyle=l.backgroundColor,rd(e,l,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}it(hc,"id","point"),it(hc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),it(hc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const cv=(n,t)=>{let{boxHeight:e=t,boxWidth:s=t}=n;return n.usePointStyle&&(e=Math.min(e,t),s=n.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},e2=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class uv extends Rn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=qt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,l)=>t.sort(s,l,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,l=De(s.font),r=l.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=cv(s,r);let g,m;e.font=l.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(u,r,h,d)+10):(m=this.maxHeight,g=this._fitCols(u,l,h,d)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,l){const{ctx:r,maxWidth:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.lineWidths=[0],m=l+h;let _=t;r.textAlign="left",r.textBaseline="middle";let b=-1,S=-m;return this.legendItems.forEach((x,T)=>{const A=s+e/2+r.measureText(x.text).width;(T===0||g[g.length-1]+A+2*h>u)&&(_+=m,g[g.length-(T>0?0:1)]=0,S+=m,b++),d[T]={left:0,top:S,row:b,width:A,height:l},g[g.length-1]+=A+h}),_}_fitCols(t,e,s,l){const{ctx:r,maxHeight:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.columnSizes=[],m=u-t;let _=h,b=0,S=0,x=0,T=0;return this.legendItems.forEach((A,z)=>{const{itemWidth:U,itemHeight:P}=n2(s,e,r,A,l);z>0&&S+P+2*h>m&&(_+=b+h,g.push({width:b,height:S}),x+=b+h,T++,b=S=0),d[z]={left:x,top:S,col:T,width:U,height:P},b=Math.max(b,U),S+=P+h}),_+=b,g.push({width:b,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:l},rtl:r}}=this,u=ma(r,this.left,this.width);if(this.isHorizontal()){let h=0,d=we(s,this.left+l,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,d=we(s,this.left+l,this.right-this.lineWidths[h])),g.top+=this.top+t+l,g.left=u.leftForLtr(u.x(d),g.width),d+=g.width+l}else{let h=0,d=we(s,this.top+t+l,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,d=we(s,this.top+t+l,this.bottom-this.columnSizes[h].height)),g.top=d,g.left+=this.left+l,g.left=u.leftForLtr(u.x(g.left),g.width),d+=g.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;ug(t,this),this._draw(),hg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:l}=this,{align:r,labels:u}=t,h=se.color,d=ma(t.rtl,this.left,this.width),g=De(u.font),{padding:m}=u,_=g.size,b=_/2;let S;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=g.string;const{boxWidth:x,boxHeight:T,itemHeight:A}=cv(u,_),z=function(q,X,G){if(isNaN(x)||x<=0||isNaN(T)||T<0)return;l.save();const J=Tt(G.lineWidth,1);if(l.fillStyle=Tt(G.fillStyle,h),l.lineCap=Tt(G.lineCap,"butt"),l.lineDashOffset=Tt(G.lineDashOffset,0),l.lineJoin=Tt(G.lineJoin,"miter"),l.lineWidth=J,l.strokeStyle=Tt(G.strokeStyle,h),l.setLineDash(Tt(G.lineDash,[])),u.usePointStyle){const ht={radius:T*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:J},at=d.xPlus(q,x/2),st=X+b;cS(l,ht,at,st,u.pointStyleWidth&&x)}else{const ht=X+Math.max((_-T)/2,0),at=d.leftForLtr(q,x),st=so(G.borderRadius);l.beginPath(),Object.values(st).some(Bt=>Bt!==0)?cd(l,{x:at,y:ht,w:x,h:T,radius:st}):l.rect(at,ht,x,T),l.fill(),J!==0&&l.stroke()}l.restore()},U=function(q,X,G){xo(l,G.text,q,X+A/2,g,{strikethrough:G.hidden,textAlign:d.textAlign(G.textAlign)})},P=this.isHorizontal(),Y=this._computeTitleHeight();P?S={x:we(r,this.left+m,this.right-s[0]),y:this.top+m+Y,line:0}:S={x:this.left+m,y:we(r,this.top+Y+m,this.bottom-e[0].height),line:0},pS(this.ctx,t.textDirection);const L=A+m;this.legendItems.forEach((q,X)=>{l.strokeStyle=q.fontColor,l.fillStyle=q.fontColor;const G=l.measureText(q.text).width,J=d.textAlign(q.textAlign||(q.textAlign=u.textAlign)),ht=x+b+G;let at=S.x,st=S.y;d.setWidth(this.width),P?X>0&&at+ht+m>this.right&&(st=S.y+=L,S.line++,at=S.x=we(r,this.left+m,this.right-s[S.line])):X>0&&st+L>this.bottom&&(at=S.x=at+e[S.line].width+m,S.line++,st=S.y=we(r,this.top+Y+m,this.bottom-e[S.line].height));const Bt=d.x(at);if(z(Bt,st,q),at=hD(J,at+x+b,P?at+ht:this.right,t.rtl),U(d.x(at),st,q),P)S.x+=ht+m;else if(typeof q.text!="string"){const Gt=g.lineHeight;S.y+=RS(q,Gt)+m}else S.y+=L}),mS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=De(e.font),l=gn(e.padding);if(!e.display)return;const r=ma(t.rtl,this.left,this.width),u=this.ctx,h=e.position,d=s.size/2,g=l.top+d;let m,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+g,_=we(t.align,_,this.right-b);else{const x=this.columnSizes.reduce((T,A)=>Math.max(T,A.height),0);m=g+we(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const S=we(h,_,_+b);u.textAlign=r.textAlign(og(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=s.string,xo(u,e.text,S,m,s)}_computeTitleHeight(){const t=this.options.title,e=De(t.font),s=gn(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,l,r;if(ha(t,this.left,this.right)&&ha(e,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(l=r[s],ha(t,l.left,l.left+l.width)&&ha(e,l.top,l.top+l.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!a2(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,r=e2(l,s);l&&!r&&qt(e.onLeave,[t,l,this],this),this._hoveredItem=s,s&&!r&&qt(e.onHover,[t,s,this],this)}else s&&qt(e.onClick,[t,s,this],this)}}function n2(n,t,e,s,l){const r=i2(s,n,t,e),u=s2(l,s,t.lineHeight);return{itemWidth:r,itemHeight:u}}function i2(n,t,e,s){let l=n.text;return l&&typeof l!="string"&&(l=l.reduce((r,u)=>r.length>u.length?r:u)),t+e.size/2+s.measureText(l).width}function s2(n,t,e){let s=n;return typeof t.text!="string"&&(s=RS(t,e)),s}function RS(n,t){const e=n.text?n.text.length:0;return t*e}function a2(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var l2={id:"legend",_element:uv,start(n,t,e){const s=n.legend=new uv({ctx:n.ctx,options:e,chart:n});fn.configure(n,s,e),fn.addBox(n,s)},stop(n){fn.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const s=n.legend;fn.configure(n,s,e),s.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const s=t.datasetIndex,l=e.chart;l.isDatasetVisible(s)?(l.hide(s),t.hidden=!0):(l.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:l,color:r,useBorderRadius:u,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const g=d.controller.getStyle(e?0:void 0),m=gn(g.borderWidth);return{text:t[d.index].label,fillStyle:g.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:l||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class NS extends Rn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const l=be(s.text)?s.text.length:1;this._padding=gn(s.padding);const r=l*De(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:l,right:r,options:u}=this,h=u.align;let d=0,g,m,_;return this.isHorizontal()?(m=we(h,s,r),_=e+t,g=r-s):(u.position==="left"?(m=s+t,_=we(h,l,e),d=te*-.5):(m=r-t,_=we(h,e,l),d=te*.5),g=l-e),{titleX:m,titleY:_,maxWidth:g,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=De(e.font),r=s.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:d,rotation:g}=this._drawArgs(r);xo(t,e.text,0,0,s,{color:e.color,maxWidth:d,rotation:g,textAlign:og(e.align),textBaseline:"middle",translation:[u,h]})}}function o2(n,t){const e=new NS({ctx:n.ctx,options:t,chart:n});fn.configure(n,e,t),fn.addBox(n,e),n.titleBlock=e}var r2={id:"title",_element:NS,start(n,t,e){o2(n,e)},stop(n){const t=n.titleBlock;fn.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const s=n.titleBlock;fn.configure(n,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Xl={average(n){if(!n.length)return!1;let t,e,s=new Set,l=0,r=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),l+=d.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:l/r}},nearest(n,t){if(!n.length)return!1;let e=t.x,s=t.y,l=Number.POSITIVE_INFINITY,r,u,h;for(r=0,u=n.length;r<u;++r){const d=n[r].element;if(d&&d.hasValue()){const g=d.getCenterPoint(),m=ld(t,g);m<l&&(l=m,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,s=d.y}return{x:e,y:s}}};function Dn(n,t){return t&&(be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Kn(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function c2(n,t){const{element:e,datasetIndex:s,index:l}=t,r=n.getDatasetMeta(s).controller,{label:u,value:h}=r.getLabelAndValue(l);return{chart:n,label:u,parsed:r.getParsed(l),raw:n.data.datasets[s].data[l],formattedValue:h,dataset:r.getDataset(),dataIndex:l,datasetIndex:s,element:e}}function hv(n,t){const e=n.chart.ctx,{body:s,footer:l,title:r}=n,{boxWidth:u,boxHeight:h}=t,d=De(t.bodyFont),g=De(t.titleFont),m=De(t.footerFont),_=r.length,b=l.length,S=s.length,x=gn(t.padding);let T=x.height,A=0,z=s.reduce((Y,L)=>Y+L.before.length+L.lines.length+L.after.length,0);if(z+=n.beforeBody.length+n.afterBody.length,_&&(T+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),z){const Y=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;T+=S*Y+(z-S)*d.lineHeight+(z-1)*t.bodySpacing}b&&(T+=t.footerMarginTop+b*m.lineHeight+(b-1)*t.footerSpacing);let U=0;const P=function(Y){A=Math.max(A,e.measureText(Y).width+U)};return e.save(),e.font=g.string,Nt(n.title,P),e.font=d.string,Nt(n.beforeBody.concat(n.afterBody),P),U=t.displayColors?u+2+t.boxPadding:0,Nt(s,Y=>{Nt(Y.before,P),Nt(Y.lines,P),Nt(Y.after,P)}),U=0,e.font=m.string,Nt(n.footer,P),e.restore(),A+=x.width,{width:A,height:T}}function u2(n,t){const{y:e,height:s}=t;return e<s/2?"top":e>n.height-s/2?"bottom":"center"}function h2(n,t,e,s){const{x:l,width:r}=s,u=e.caretSize+e.caretPadding;if(n==="left"&&l+r+u>t.width||n==="right"&&l-r-u<0)return!0}function f2(n,t,e,s){const{x:l,width:r}=e,{width:u,chartArea:{left:h,right:d}}=n;let g="center";return s==="center"?g=l<=(h+d)/2?"left":"right":l<=r/2?g="left":l>=u-r/2&&(g="right"),h2(g,n,t,e)&&(g="center"),g}function fv(n,t,e){const s=e.yAlign||t.yAlign||u2(n,e);return{xAlign:e.xAlign||t.xAlign||f2(n,t,e,s),yAlign:s}}function d2(n,t){let{x:e,width:s}=n;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function g2(n,t,e){let{y:s,height:l}=n;return t==="top"?s+=e:t==="bottom"?s-=l+e:s-=l/2,s}function dv(n,t,e,s){const{caretSize:l,caretPadding:r,cornerRadius:u}=n,{xAlign:h,yAlign:d}=e,g=l+r,{topLeft:m,topRight:_,bottomLeft:b,bottomRight:S}=so(u);let x=d2(t,h);const T=g2(t,d,g);return d==="center"?h==="left"?x+=g:h==="right"&&(x-=g):h==="left"?x-=Math.max(m,b)+l:h==="right"&&(x+=Math.max(_,S)+l),{x:Re(x,0,s.width-t.width),y:Re(T,0,s.height-t.height)}}function ac(n,t,e){const s=gn(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-s.right:n.x+s.left}function gv(n){return Dn([],Kn(n))}function p2(n,t,e){return Ss(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function pv(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const kS={beforeTitle:Xn,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Xn,beforeBody:Xn,beforeLabel:Xn,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ft(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Xn,afterBody:Xn,beforeFooter:Xn,footer:Xn,afterFooter:Xn};function je(n,t,e,s){const l=n[t].call(e,s);return typeof l>"u"?kS[t].call(e,s):l}class gd extends Rn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),l=s.enabled&&e.options.animation&&s.animations,r=new yS(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=p2(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,l=je(s,"beforeTitle",this,t),r=je(s,"title",this,t),u=je(s,"afterTitle",this,t);let h=[];return h=Dn(h,Kn(l)),h=Dn(h,Kn(r)),h=Dn(h,Kn(u)),h}getBeforeBody(t,e){return gv(je(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,l=[];return Nt(t,r=>{const u={before:[],lines:[],after:[]},h=pv(s,r);Dn(u.before,Kn(je(h,"beforeLabel",this,r))),Dn(u.lines,je(h,"label",this,r)),Dn(u.after,Kn(je(h,"afterLabel",this,r))),l.push(u)}),l}getAfterBody(t,e){return gv(je(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,l=je(s,"beforeFooter",this,t),r=je(s,"footer",this,t),u=je(s,"afterFooter",this,t);let h=[];return h=Dn(h,Kn(l)),h=Dn(h,Kn(r)),h=Dn(h,Kn(u)),h}_createItems(t){const e=this._active,s=this.chart.data,l=[],r=[],u=[];let h=[],d,g;for(d=0,g=e.length;d<g;++d)h.push(c2(this.chart,e[d]));return t.filter&&(h=h.filter((m,_,b)=>t.filter(m,_,b,s))),t.itemSort&&(h=h.sort((m,_)=>t.itemSort(m,_,s))),Nt(h,m=>{const _=pv(t.callbacks,m);l.push(je(_,"labelColor",this,m)),r.push(je(_,"labelPointStyle",this,m)),u.push(je(_,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=r,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),l=this._active;let r,u=[];if(!l.length)this.opacity!==0&&(r={opacity:0});else{const h=Xl[s.position].call(this,l,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const d=this._size=hv(this,s),g=Object.assign({},h,d),m=fv(this.chart,s,g),_=dv(s,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,r={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,l){const r=this.getCaretPosition(t,s,l);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,s){const{xAlign:l,yAlign:r}=this,{caretSize:u,cornerRadius:h}=s,{topLeft:d,topRight:g,bottomLeft:m,bottomRight:_}=so(h),{x:b,y:S}=t,{width:x,height:T}=e;let A,z,U,P,Y,L;return r==="center"?(Y=S+T/2,l==="left"?(A=b,z=A-u,P=Y+u,L=Y-u):(A=b+x,z=A+u,P=Y-u,L=Y+u),U=A):(l==="left"?z=b+Math.max(d,m)+u:l==="right"?z=b+x-Math.max(g,_)-u:z=this.caretX,r==="top"?(P=S,Y=P-u,A=z-u,U=z+u):(P=S+T,Y=P+u,A=z+u,U=z-u),L=P),{x1:A,x2:z,x3:U,y1:P,y2:Y,y3:L}}drawTitle(t,e,s){const l=this.title,r=l.length;let u,h,d;if(r){const g=ma(s.rtl,this.x,this.width);for(t.x=ac(this,s.titleAlign,s),e.textAlign=g.textAlign(s.titleAlign),e.textBaseline="middle",u=De(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=u.string,d=0;d<r;++d)e.fillText(l[d],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,d+1===r&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,l,r){const u=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:g}=r,m=De(r.bodyFont),_=ac(this,"left",r),b=l.x(_),S=d<m.lineHeight?(m.lineHeight-d)/2:0,x=e.y+S;if(r.usePointStyle){const T={radius:Math.min(g,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},A=l.leftForLtr(b,g)+g/2,z=x+d/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,rd(t,T,A,z),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,rd(t,T,A,z)}else{t.lineWidth=Mt(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const T=l.leftForLtr(b,g),A=l.leftForLtr(l.xPlus(b,1),g-2),z=so(u.borderRadius);Object.values(z).some(U=>U!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,cd(t,{x:T,y:x,w:g,h:d,radius:z}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),cd(t,{x:A,y:x+1,w:g-2,h:d-2,radius:z}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(T,x,g,d),t.strokeRect(T,x,g,d),t.fillStyle=u.backgroundColor,t.fillRect(A,x+1,g-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:l}=this,{bodySpacing:r,bodyAlign:u,displayColors:h,boxHeight:d,boxWidth:g,boxPadding:m}=s,_=De(s.bodyFont);let b=_.lineHeight,S=0;const x=ma(s.rtl,this.x,this.width),T=function(G){e.fillText(G,x.x(t.x+S),t.y+b/2),t.y+=b+r},A=x.textAlign(u);let z,U,P,Y,L,q,X;for(e.textAlign=u,e.textBaseline="middle",e.font=_.string,t.x=ac(this,A,s),e.fillStyle=s.bodyColor,Nt(this.beforeBody,T),S=h&&A!=="right"?u==="center"?g/2+m:g+2+m:0,Y=0,q=l.length;Y<q;++Y){for(z=l[Y],U=this.labelTextColors[Y],e.fillStyle=U,Nt(z.before,T),P=z.lines,h&&P.length&&(this._drawColorBox(e,t,Y,x,s),b=Math.max(_.lineHeight,d)),L=0,X=P.length;L<X;++L)T(P[L]),b=_.lineHeight;Nt(z.after,T)}S=0,b=_.lineHeight,Nt(this.afterBody,T),t.y-=r}drawFooter(t,e,s){const l=this.footer,r=l.length;let u,h;if(r){const d=ma(s.rtl,this.x,this.width);for(t.x=ac(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=d.textAlign(s.footerAlign),e.textBaseline="middle",u=De(s.footerFont),e.fillStyle=s.footerColor,e.font=u.string,h=0;h<r;++h)e.fillText(l[h],d.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+s.footerSpacing}}drawBackground(t,e,s,l){const{xAlign:r,yAlign:u}=this,{x:h,y:d}=t,{width:g,height:m}=s,{topLeft:_,topRight:b,bottomLeft:S,bottomRight:x}=so(l.cornerRadius);e.fillStyle=l.backgroundColor,e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.beginPath(),e.moveTo(h+_,d),u==="top"&&this.drawCaret(t,e,s,l),e.lineTo(h+g-b,d),e.quadraticCurveTo(h+g,d,h+g,d+b),u==="center"&&r==="right"&&this.drawCaret(t,e,s,l),e.lineTo(h+g,d+m-x),e.quadraticCurveTo(h+g,d+m,h+g-x,d+m),u==="bottom"&&this.drawCaret(t,e,s,l),e.lineTo(h+S,d+m),e.quadraticCurveTo(h,d+m,h,d+m-S),u==="center"&&r==="left"&&this.drawCaret(t,e,s,l),e.lineTo(h,d+_),e.quadraticCurveTo(h,d,h+_,d),e.closePath(),e.fill(),l.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,l=s&&s.x,r=s&&s.y;if(l||r){const u=Xl[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=hv(this,t),d=Object.assign({},u,this._size),g=fv(e,t,d),m=dv(t,d,g,e);(l._to!==m.x||r._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const l={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=gn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,l,e),pS(t,e.textDirection),r.y+=u.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),mS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,l=t.map(({datasetIndex:h,index:d})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[d],index:d}}),r=!Oc(s,l),u=this._positionChanged(l,e);(r||u)&&(this._active=l,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,r=this._active||[],u=this._getActiveElements(t,r,e,s),h=this._positionChanged(u,t),d=e||!Oc(u,r)||h;return d&&(this._active=u,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,s,l){const r=this.options;if(t.type==="mouseout")return[];if(!l)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:s,caretY:l,options:r}=this,u=Xl[r.position].call(this,t,e);return u!==!1&&(s!==u.x||l!==u.y)}}it(gd,"positioners",Xl);var m2={id:"tooltip",_element:gd,positioners:Xl,afterInit(n,t,e){e&&(n.tooltip=new gd({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:kS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const _2=(n,t,e,s)=>(typeof t=="string"?(e=n.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function y2(n,t,e,s){const l=n.indexOf(t);if(l===-1)return _2(n,t,e,s);const r=n.lastIndexOf(t);return l!==r?e:l}const b2=(n,t)=>n===null?null:Re(Math.round(n),0,t);function mv(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class pd extends Na{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:l,label:r}of e)s[l]===r&&s.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ft(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:y2(s,t,Tt(e,t),this._addedLabels),b2(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(l=this.getLabels().length-1)),this.min=s,this.max=l}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,l=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let u=t;u<=e;u++)l.push({value:u});return l}getLabelForValue(t){return mv.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}it(pd,"id","category"),it(pd,"defaults",{ticks:{callback:mv}});function v2(n,t){const e=[],{bounds:l,step:r,min:u,max:h,precision:d,count:g,maxTicks:m,maxDigits:_,includeBounds:b}=n,S=r||1,x=m-1,{min:T,max:A}=t,z=!Ft(u),U=!Ft(h),P=!Ft(g),Y=(A-T)/(_+1);let L=Sb((A-T)/x/S)*S,q,X,G,J;if(L<1e-14&&!z&&!U)return[{value:T},{value:A}];J=Math.ceil(A/L)-Math.floor(T/L),J>x&&(L=Sb(J*L/x/S)*S),Ft(d)||(q=Math.pow(10,d),L=Math.ceil(L*q)/q),l==="ticks"?(X=Math.floor(T/L)*L,G=Math.ceil(A/L)*L):(X=T,G=A),z&&U&&r&&eD((h-u)/r,L/1e3)?(J=Math.round(Math.min((h-u)/L,m)),L=(h-u)/J,X=u,G=h):P?(X=z?u:X,G=U?h:G,J=g-1,L=(G-X)/J):(J=(G-X)/L,eo(J,Math.round(J),L/1e3)?J=Math.round(J):J=Math.ceil(J));const ht=Math.max(xb(L),xb(X));q=Math.pow(10,Ft(d)?ht:d),X=Math.round(X*q)/q,G=Math.round(G*q)/q;let at=0;for(z&&(b&&X!==u?(e.push({value:u}),X<u&&at++,eo(Math.round((X+at*L)*q)/q,u,_v(u,Y,n))&&at++):X<u&&at++);at<J;++at){const st=Math.round((X+at*L)*q)/q;if(U&&st>h)break;e.push({value:st})}return U&&b&&G!==h?e.length&&eo(e[e.length-1].value,h,_v(h,Y,n))?e[e.length-1].value=h:e.push({value:h}):(!U||G===h)&&e.push({value:G}),e}function _v(n,t,{horizontal:e,minRotation:s}){const l=Jn(s),r=(e?Math.sin(l):Math.cos(l))||.001,u=.75*t*(""+n).length;return Math.min(t/r,u)}class S2 extends Na{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ft(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:l,max:r}=this;const u=d=>l=e?l:d,h=d=>r=s?r:d;if(t){const d=Ta(l),g=Ta(r);d<0&&g<0?h(0):d>0&&g>0&&u(0)}if(l===r){let d=r===0?1:Math.abs(r*.05);h(r+d),t||u(l-d)}this.min=l,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,l;return s?(l=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),e=e||11),e&&(l=Math.min(e,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,u=v2(l,r);return t.bounds==="ticks"&&nD(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const l=(s-e)/Math.max(t.length-1,1)/2;e-=l,s+=l}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return cg(t,this.chart.options.locale,this.options.ticks.format)}}class md extends S2{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=dn(t)?t:0,this.max=dn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=Jn(this.options.ticks.minRotation),l=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}it(md,"id","linear"),it(md,"defaults",{ticks:{callback:rS.formatters.numeric}});const tu={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Pe=Object.keys(tu);function yv(n,t){return n-t}function bv(n,t){if(Ft(t))return null;const e=n._adapter,{parser:s,round:l,isoWeekday:r}=n._parseOpts;let u=t;return typeof s=="function"&&(u=s(u)),dn(u)||(u=typeof s=="string"?e.parse(u,s):e.parse(u)),u===null?null:(l&&(u=l==="week"&&(bo(r)||r===!0)?e.startOf(u,"isoWeek",r):e.startOf(u,l)),+u)}function vv(n,t,e,s){const l=Pe.length;for(let r=Pe.indexOf(n);r<l-1;++r){const u=tu[Pe[r]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=s)return Pe[r]}return Pe[l-1]}function x2(n,t,e,s,l){for(let r=Pe.length-1;r>=Pe.indexOf(e);r--){const u=Pe[r];if(tu[u].common&&n._adapter.diff(l,s,u)>=t-1)return u}return Pe[e?Pe.indexOf(e):0]}function E2(n){for(let t=Pe.indexOf(n)+1,e=Pe.length;t<e;++t)if(tu[Pe[t]].common)return Pe[t]}function Sv(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:s,hi:l}=lg(e,t),r=e[s]>=t?e[s]:e[l];n[r]=!0}}function T2(n,t,e,s){const l=n._adapter,r=+l.startOf(t[0].value,s),u=t[t.length-1].value;let h,d;for(h=r;h<=u;h=+l.add(h,1,s))d=e[h],d>=0&&(t[d].major=!0);return t}function xv(n,t,e){const s=[],l={},r=t.length;let u,h;for(u=0;u<r;++u)h=t[u],l[h]=u,s.push({value:h,major:!1});return r===0||!e?s:T2(n,s,l,e)}class Bc extends Na{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),l=this._adapter=new RO._date(t.adapters.date);l.init(e),to(s.displayFormats,l.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:bv(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:l,max:r,minDefined:u,maxDefined:h}=this.getUserBounds();function d(g){!u&&!isNaN(g.min)&&(l=Math.min(l,g.min)),!h&&!isNaN(g.max)&&(r=Math.max(r,g.max))}(!u||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=dn(l)&&!isNaN(l)?l:+e.startOf(Date.now(),s),r=dn(r)&&!isNaN(r)?r:+e.endOf(Date.now(),s)+1,this.min=Math.min(l,r-1),this.max=Math.max(l+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,l=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const r=this.min,u=this.max,h=oD(l,r,u);return this._unit=e.unit||(s.autoSkip?vv(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):x2(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:E2(this._unit),this.initOffsets(l),t.reverse&&h.reverse(),xv(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,l,r;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?e=1-l:e=(this.getDecimalForValue(t[1])-l)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Re(e,0,u),s=Re(s,0,u),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,l=this.options,r=l.time,u=r.unit||vv(r.minUnit,e,s,this._getLabelCapacity(e)),h=Tt(l.ticks.stepSize,1),d=u==="week"?r.isoWeekday:!1,g=bo(d)||d===!0,m={};let _=e,b,S;if(g&&(_=+t.startOf(_,"isoWeek",d)),_=+t.startOf(_,g?"day":u),t.diff(s,e,u)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+u);const x=l.ticks.source==="data"&&this.getDataTimestamps();for(b=_,S=0;b<s;b=+t.add(b,h,u),S++)Sv(m,b,x);return(b===s||l.bounds==="ticks"||S===1)&&Sv(m,b,x),Object.keys(m).sort(yv).map(T=>+T)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const l=this.options.time.displayFormats,r=this._unit,u=e||l[r];return this._adapter.format(t,u)}_tickFormatFunction(t,e,s,l){const r=this.options,u=r.ticks.callback;if(u)return qt(u,[t,e,s],this);const h=r.time.displayFormats,d=this._unit,g=this._majorUnit,m=d&&h[d],_=g&&h[g],b=s[e],S=g&&_&&b&&b.major;return this._adapter.format(t,l||(S?_:m))}generateTickLabels(t){let e,s,l;for(e=0,s=t.length;e<s;++e)l=t[e],l.label=this._tickFormatFunction(l.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,l=Jn(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(l),u=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:s*r+h*u,h:s*u+h*r}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,l=s[e.unit]||s.millisecond,r=this._tickFormatFunction(t,0,xv(this,[t],this._majorUnit),l),u=this._getLabelSize(r),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(e=0,s=l.length;e<s;++e)t=t.concat(l[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const l=this.getLabels();for(e=0,s=l.length;e<s;++e)t.push(bv(this,l[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return cD(t.sort(yv))}}it(Bc,"id","time"),it(Bc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function lc(n,t,e){let s=0,l=n.length-1,r,u,h,d;e?(t>=n[s].pos&&t<=n[l].pos&&({lo:s,hi:l}=fs(n,"pos",t)),{pos:r,time:h}=n[s],{pos:u,time:d}=n[l]):(t>=n[s].time&&t<=n[l].time&&({lo:s,hi:l}=fs(n,"time",t)),{time:r,pos:h}=n[s],{time:u,pos:d}=n[l]);const g=u-r;return g?h+(d-h)*(t-r)/g:h}class Ev extends Bc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=lc(e,this.min),this._tableRange=lc(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,l=[],r=[];let u,h,d,g,m;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=s&&l.push(g);if(l.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(u=0,h=l.length;u<h;++u)m=l[u+1],d=l[u-1],g=l[u],Math.round((m+d)/2)!==g&&r.push({time:g,pos:u/(h-1)});return r}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((l,r)=>l-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(lc(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return lc(this._table,s*this._tableRange+this._minPos,!0)}}it(Ev,"id","timeseries"),it(Ev,"defaults",Bc.defaults);const zS="label";function Tv(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function C2(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function LS(n,t){n.labels=t}function IS(n,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:zS;const s=[];n.datasets=t.map(l=>{const r=n.datasets.find(u=>u[e]===l[e]);return!r||!l.data||s.includes(r)?{...l}:(s.push(r),Object.assign(r,l),r)})}function A2(n){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zS;const e={labels:[],datasets:[]};return LS(e,n.labels),IS(e,n.datasets,t),e}function M2(n,t){const{height:e=150,width:s=300,redraw:l=!1,datasetIdKey:r,type:u,data:h,options:d,plugins:g=[],fallbackContent:m,updateMode:_,...b}=n,S=Ut.useRef(null),x=Ut.useRef(null),T=()=>{S.current&&(x.current=new Jc(S.current,{type:u,data:A2(h,r),options:d&&{...d},plugins:g}),Tv(t,x.current))},A=()=>{Tv(t,null),x.current&&(x.current.destroy(),x.current=null)};return Ut.useEffect(()=>{!l&&x.current&&d&&C2(x.current,d)},[l,d]),Ut.useEffect(()=>{!l&&x.current&&LS(x.current.config.data,h.labels)},[l,h.labels]),Ut.useEffect(()=>{!l&&x.current&&h.datasets&&IS(x.current.config.data,h.datasets,r)},[l,h.datasets]),Ut.useEffect(()=>{x.current&&(l?(A(),setTimeout(T)):x.current.update(_))},[l,d,h.labels,h.datasets,_]),Ut.useEffect(()=>{x.current&&(A(),setTimeout(T))},[u]),Ut.useEffect(()=>(T(),()=>A()),[]),Av.createElement("canvas",{ref:S,role:"img",height:e,width:s,...b},m)}const w2=Ut.forwardRef(M2);function BS(n,t){return Jc.register(t),Ut.forwardRef((e,s)=>Av.createElement(w2,{...e,ref:s,type:n}))}const D2=BS("line",rc),Cv=BS("pie",ud);Jc.register(pd,md,hc,Wl,r2,m2,l2,Gl);function O2(){const[n,t]=Ut.useState(""),[e,s]=Ut.useState(""),[l,r]=Ut.useState(0),[u,h]=Ut.useState([]),[d,g]=Ut.useState(()=>{const K=new Date;return`${K.getFullYear()}-${String(K.getMonth()+1).padStart(2,"0")}`}),[m,_]=Ut.useState(""),[b,S]=Ut.useState(d),[x,T]=Ut.useState(""),[A,z]=Ut.useState(0),[U,P]=Ut.useState(!1),[Y,L]=Ut.useState(null),[q,X]=Ut.useState(""),[G,J]=Ut.useState(""),[ht,at]=Ut.useState("add");Ut.useEffect(()=>{const K=Il(Bl,"transactions/"+d);return cw(K,lt=>{const ee=lt.val()||{},ke=Object.entries(ee).map(([Fe,ae])=>({id:Fe,...ae}));h(ke);const ze=ke.reduce((Fe,ae)=>Fe+(ae.type==="add"?ae.amount:-ae.amount),0);if(r(ze),d!==b&&(_(""),T(""),z(0),S(d)),m&&!isNaN(m)){const Fe=parseFloat(m),ae=Math.min(Math.round(ze/Fe*100),100);z(ae),T(ze>=Fe?"🎉 恭喜你達成本月儲蓄目標！":`已達成 ${ae}%`)}})},[d,m,b]);const st=K=>{if(!n||isNaN(n))return;const lt=parseFloat(n),ee=new Date,ke={amount:lt,type:K,time:ee.toLocaleTimeString(),note:e,id:ee.getTime()},ze=Il(Bl,"transactions/"+d);lw(ze,ke),t(""),s("")},Bt=K=>{const lt=Il(Bl,"transactions/"+d+"/"+K);db(lt)},Gt=K=>{window.confirm("要刪除這筆紀錄嗎？")&&Bt(K)},ft=K=>{P(!0),L(K),X(K.amount),J(K.note),at(K.type)},k=()=>{if(!q||isNaN(q))return;const K={...Y,amount:parseFloat(q),note:G,type:ht},lt=Il(Bl,"transactions/"+d+"/"+Y.id);ow(lt,K),P(!1)},V=()=>{if(window.confirm("確定要清除所有紀錄嗎？")){const K=Il(Bl,"transactions/"+d);db(K)}},Z={};u.forEach(K=>{const lt=new Date(K.id).getDate();Z[lt]=(Z[lt]||0)+(K.type==="add"?K.amount:-K.amount)});const dt={labels:Array.from({length:31},(K,lt)=>lt+1),datasets:[{label:`${d} 每日變化`,data:Array.from({length:31},(K,lt)=>Z[lt+1]||0),borderColor:"#4fc3f7",backgroundColor:"#0288d1",tension:.3}]},C={},j={};u.forEach(K=>{const lt=K.type==="add"?C:j,ee=K.note||"未分類";lt[ee]=(lt[ee]||0)+K.amount});const Q={labels:Object.keys(C),datasets:[{data:Object.values(C),backgroundColor:["#81c784","#4caf50","#2e7d32","#66bb6a","#a5d6a7"]}]},W={labels:Object.keys(j),datasets:[{data:Object.values(j),backgroundColor:["#ef5350","#e53935","#d32f2f","#f44336","#ffcdd2"]}]},tt=(()=>{let K=0,lt=0;const ee={};u.forEach(ae=>{if(ae.type==="add")K+=ae.amount;else{lt+=ae.amount;const ii=ae.note||"未分類";ee[ii]=(ee[ii]||0)+ae.amount}});let ke="",ze="#444";K>lt?(ke="本月收入高於支出，繼續保持好習慣！",ze="#2e7d32"):lt>K?(ke="本月支出已超過收入，建議控制花費！",ze="#b71c1c"):ke="收支平衡，本月維持不錯～";const Fe=Object.entries(ee).sort((ae,ii)=>ii[1]-ae[1])[0];return Fe&&(ke+=` 支出最多是「${Fe[0]}」。`),pt.jsxs("div",{style:{backgroundColor:ze,padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#fff",fontSize:"14px"},children:[pt.jsx("strong",{children:"【系統建議】"}),pt.jsx("br",{}),ke]})})(),gt={width:"90%",maxWidth:"360px",padding:"10px",marginBottom:"10px",borderRadius:"6px",border:"none",backgroundColor:"#2c2c2c",color:"white",fontSize:"16px",textAlign:"left",display:"block",marginLeft:"auto",marginRight:"auto"},et={padding:"10px 16px",margin:"5px",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer"};return pt.jsx("div",{style:{backgroundColor:"#121212",color:"#fff",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:"40px"},children:pt.jsxs("div",{style:{backgroundColor:"#1e1e1e",padding:"30px",borderRadius:"10px",boxShadow:"0 0 15px rgba(0, 0, 0, 0.3)",width:"100%",maxWidth:"450px"},children:[pt.jsx("h2",{style:{textAlign:"center"},children:"智慧記帳 App"}),pt.jsxs("h3",{style:{textAlign:"center"},children:["💰 總金額：",pt.jsxs("span",{style:{color:"#00e676",fontSize:"1.2em"},children:[l," 元"]})]}),pt.jsx("input",{type:"month",value:d,onChange:K=>g(K.target.value),style:gt}),pt.jsx("input",{type:"number",placeholder:"輸入金額",value:n,onChange:K=>t(K.target.value),style:gt}),pt.jsx("input",{type:"text",placeholder:"輸入明細（例如 早餐）",value:e,onChange:K=>s(K.target.value),style:gt}),pt.jsx("input",{type:"number",placeholder:"輸入本月儲蓄目標",value:m,onChange:K=>_(K.target.value),style:gt}),x&&pt.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[pt.jsx("p",{style:{color:"#ffd54f"},children:x}),pt.jsx("div",{style:{width:"80%",height:"10px",backgroundColor:"#444",borderRadius:"5px",margin:"0 auto"},children:pt.jsx("div",{style:{width:`${A}%`,height:"100%",backgroundColor:"#00e676",borderRadius:"5px",transition:"width 0.5s ease"}})})]}),pt.jsxs("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",marginBottom:"10px"},children:[pt.jsx("button",{onClick:()=>st("add"),style:{...et,backgroundColor:"#388e3c",color:"white"},children:"➕ 存入"}),pt.jsx("button",{onClick:()=>st("subtract"),style:{...et,backgroundColor:"#d32f2f",color:"white"},children:"➖ 支出"})]}),pt.jsx("button",{onClick:V,style:{...et,backgroundColor:"#555",color:"white",width:"100%",marginBottom:"20px"},children:"清除所有紀錄"}),pt.jsx("ul",{style:{listStyle:"none",padding:0,maxHeight:"200px",overflowY:"auto"},children:[...u].reverse().map(K=>pt.jsxs("li",{onContextMenu:lt=>{lt.preventDefault(),Gt(K.id)},onTouchStart:lt=>lt.target.dataset.touch=Date.now(),onTouchEnd:lt=>{Date.now()-lt.target.dataset.touch>600&&Gt(K.id)},style:{marginBottom:"10px",padding:"10px",backgroundColor:"#2e2e2e",borderLeft:`5px solid ${K.type==="add"?"#81c784":"#ef5350"}`,position:"relative"},children:[K.type==="add"?"➕":"➖"," ",K.amount," 元 (",K.time,")",pt.jsx("br",{}),pt.jsx("span",{style:{fontSize:"0.9em",color:"#ccc"},children:K.note||"未分類"}),pt.jsx("button",{onClick:()=>ft(K),style:{position:"absolute",right:"10px",top:"10px",fontSize:"14px",backgroundColor:"#1976d2",color:"white",border:"none",padding:"4px 8px",borderRadius:"4px"},children:"✏️ 修改"})]},K.id))}),tt,pt.jsx("h3",{style:{textAlign:"center"},children:"📈 每日變化圖"}),pt.jsx(D2,{data:dt}),pt.jsx("h3",{style:{textAlign:"center"},children:"📊 分類統計圖 - 存入"}),pt.jsx(Cv,{data:Q}),pt.jsx("h3",{style:{textAlign:"center"},children:"📊 分類統計圖 - 支出"}),pt.jsx(Cv,{data:W}),U&&pt.jsx("div",{style:{position:"fixed",top:0,left:0,width:"100vw",height:"100vh",backgroundColor:"rgba(0,0,0,0.7)",display:"flex",justifyContent:"center",alignItems:"center"},children:pt.jsxs("div",{style:{backgroundColor:"#2c2c2c",padding:"20px",borderRadius:"8px",width:"90%",maxWidth:"400px"},children:[pt.jsx("h3",{children:"編輯紀錄"}),pt.jsx("input",{type:"number",value:q,onChange:K=>X(K.target.value),style:gt}),pt.jsx("input",{type:"text",value:G,onChange:K=>J(K.target.value),style:gt}),pt.jsxs("select",{value:ht,onChange:K=>at(K.target.value),style:gt,children:[pt.jsx("option",{value:"add",children:"存入"}),pt.jsx("option",{value:"subtract",children:"支出"})]}),pt.jsxs("div",{style:{textAlign:"center"},children:[pt.jsx("button",{onClick:k,style:{...et,backgroundColor:"#4caf50",color:"white"},children:"儲存"}),pt.jsx("button",{onClick:()=>P(!1),style:{...et,backgroundColor:"#888",color:"white"},children:"取消"})]})]})})]})})}yE.createRoot(document.getElementById("root")).render(pt.jsx(Ut.StrictMode,{children:pt.jsx(O2,{})}));
