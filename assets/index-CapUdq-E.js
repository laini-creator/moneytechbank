var sE=Object.defineProperty;var aE=(i,t,e)=>t in i?sE(i,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[t]=e;var it=(i,t,e)=>aE(i,typeof t!="symbol"?t+"":t,e);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const u of r.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&s(u)}).observe(document,{childList:!0,subtree:!0});function e(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(l){if(l.ep)return;l.ep=!0;const r=e(l);fetch(l.href,r)}})();function lE(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var of={exports:{}},xl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ny;function oE(){if(ny)return xl;ny=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(s,l,r){var u=null;if(r!==void 0&&(u=""+r),l.key!==void 0&&(u=""+l.key),"key"in l){r={};for(var h in l)h!=="key"&&(r[h]=l[h])}else r=l;return l=r.ref,{$$typeof:i,type:s,key:u,ref:l!==void 0?l:null,props:r}}return xl.Fragment=t,xl.jsx=e,xl.jsxs=e,xl}var iy;function rE(){return iy||(iy=1,of.exports=oE()),of.exports}var Et=rE(),rf={exports:{}},ft={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sy;function cE(){if(sy)return ft;sy=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),r=Symbol.for("react.consumer"),u=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),_=Symbol.iterator;function b(T){return T===null||typeof T!="object"?null:(T=_&&T[_]||T["@@iterator"],typeof T=="function"?T:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},x=Object.assign,C={};function A(T,H,K){this.props=T,this.context=H,this.refs=C,this.updater=K||S}A.prototype.isReactComponent={},A.prototype.setState=function(T,H){if(typeof T!="object"&&typeof T!="function"&&T!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,T,H,"setState")},A.prototype.forceUpdate=function(T){this.updater.enqueueForceUpdate(this,T,"forceUpdate")};function z(){}z.prototype=A.prototype;function U(T,H,K){this.props=T,this.context=H,this.refs=C,this.updater=K||S}var V=U.prototype=new z;V.constructor=U,x(V,A.prototype),V.isPureReactComponent=!0;var Y=Array.isArray,L={H:null,A:null,T:null,S:null,V:null},W=Object.prototype.hasOwnProperty;function X(T,H,K,Q,tt,gt){return K=gt.ref,{$$typeof:i,type:T,key:H,ref:K!==void 0?K:null,props:gt}}function G(T,H){return X(T.type,H,void 0,void 0,void 0,T.props)}function J(T){return typeof T=="object"&&T!==null&&T.$$typeof===i}function ht(T){var H={"=":"=0",":":"=2"};return"$"+T.replace(/[=:]/g,function(K){return H[K]})}var at=/\/+/g;function st(T,H){return typeof T=="object"&&T!==null&&T.key!=null?ht(""+T.key):H.toString(36)}function Tt(){}function Pt(T){switch(T.status){case"fulfilled":return T.value;case"rejected":throw T.reason;default:switch(typeof T.status=="string"?T.then(Tt,Tt):(T.status="pending",T.then(function(H){T.status==="pending"&&(T.status="fulfilled",T.value=H)},function(H){T.status==="pending"&&(T.status="rejected",T.reason=H)})),T.status){case"fulfilled":return T.value;case"rejected":throw T.reason}}throw T}function q(T,H,K,Q,tt){var gt=typeof T;(gt==="undefined"||gt==="boolean")&&(T=null);var lt=!1;if(T===null)lt=!0;else switch(gt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(T.$$typeof){case i:case t:lt=!0;break;case m:return lt=T._init,q(lt(T._payload),H,K,Q,tt)}}if(lt)return tt=tt(T),lt=Q===""?"."+st(T,0):Q,Y(tt)?(K="",lt!=null&&(K=lt.replace(at,"$&/")+"/"),q(tt,H,K,"",function($n){return $n})):tt!=null&&(J(tt)&&(tt=G(tt,K+(tt.key==null||T&&T.key===tt.key?"":(""+tt.key).replace(at,"$&/")+"/")+lt)),H.push(tt)),1;lt=0;var Ue=Q===""?".":Q+":";if(Y(T))for(var qt=0;qt<T.length;qt++)Q=T[qt],gt=Ue+st(Q,qt),lt+=q(Q,H,K,gt,tt);else if(qt=b(T),typeof qt=="function")for(T=qt.call(T),qt=0;!(Q=T.next()).done;)Q=Q.value,gt=Ue+st(Q,qt++),lt+=q(Q,H,K,gt,tt);else if(gt==="object"){if(typeof T.then=="function")return q(Pt(T),H,K,Q,tt);throw H=String(T),Error("Objects are not valid as a React child (found: "+(H==="[object Object]"?"object with keys {"+Object.keys(T).join(", ")+"}":H)+"). If you meant to render a collection of children, use an array instead.")}return lt}function D(T,H,K){if(T==null)return T;var Q=[],tt=0;return q(T,Q,"","",function(gt){return H.call(K,gt,tt++)}),Q}function P(T){if(T._status===-1){var H=T._result;H=H(),H.then(function(K){(T._status===0||T._status===-1)&&(T._status=1,T._result=K)},function(K){(T._status===0||T._status===-1)&&(T._status=2,T._result=K)}),T._status===-1&&(T._status=0,T._result=H)}if(T._status===1)return T._result.default;throw T._result}var Z=typeof reportError=="function"?reportError:function(T){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var H=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof T=="object"&&T!==null&&typeof T.message=="string"?String(T.message):String(T),error:T});if(!window.dispatchEvent(H))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",T);return}console.error(T)};function et(){}return ft.Children={map:D,forEach:function(T,H,K){D(T,function(){H.apply(this,arguments)},K)},count:function(T){var H=0;return D(T,function(){H++}),H},toArray:function(T){return D(T,function(H){return H})||[]},only:function(T){if(!J(T))throw Error("React.Children.only expected to receive a single React element child.");return T}},ft.Component=A,ft.Fragment=e,ft.Profiler=l,ft.PureComponent=U,ft.StrictMode=s,ft.Suspense=d,ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=L,ft.__COMPILER_RUNTIME={__proto__:null,c:function(T){return L.H.useMemoCache(T)}},ft.cache=function(T){return function(){return T.apply(null,arguments)}},ft.cloneElement=function(T,H,K){if(T==null)throw Error("The argument must be a React element, but you passed "+T+".");var Q=x({},T.props),tt=T.key,gt=void 0;if(H!=null)for(lt in H.ref!==void 0&&(gt=void 0),H.key!==void 0&&(tt=""+H.key),H)!W.call(H,lt)||lt==="key"||lt==="__self"||lt==="__source"||lt==="ref"&&H.ref===void 0||(Q[lt]=H[lt]);var lt=arguments.length-2;if(lt===1)Q.children=K;else if(1<lt){for(var Ue=Array(lt),qt=0;qt<lt;qt++)Ue[qt]=arguments[qt+2];Q.children=Ue}return X(T.type,tt,void 0,void 0,gt,Q)},ft.createContext=function(T){return T={$$typeof:u,_currentValue:T,_currentValue2:T,_threadCount:0,Provider:null,Consumer:null},T.Provider=T,T.Consumer={$$typeof:r,_context:T},T},ft.createElement=function(T,H,K){var Q,tt={},gt=null;if(H!=null)for(Q in H.key!==void 0&&(gt=""+H.key),H)W.call(H,Q)&&Q!=="key"&&Q!=="__self"&&Q!=="__source"&&(tt[Q]=H[Q]);var lt=arguments.length-2;if(lt===1)tt.children=K;else if(1<lt){for(var Ue=Array(lt),qt=0;qt<lt;qt++)Ue[qt]=arguments[qt+2];tt.children=Ue}if(T&&T.defaultProps)for(Q in lt=T.defaultProps,lt)tt[Q]===void 0&&(tt[Q]=lt[Q]);return X(T,gt,void 0,void 0,null,tt)},ft.createRef=function(){return{current:null}},ft.forwardRef=function(T){return{$$typeof:h,render:T}},ft.isValidElement=J,ft.lazy=function(T){return{$$typeof:m,_payload:{_status:-1,_result:T},_init:P}},ft.memo=function(T,H){return{$$typeof:g,type:T,compare:H===void 0?null:H}},ft.startTransition=function(T){var H=L.T,K={};L.T=K;try{var Q=T(),tt=L.S;tt!==null&&tt(K,Q),typeof Q=="object"&&Q!==null&&typeof Q.then=="function"&&Q.then(et,Z)}catch(gt){Z(gt)}finally{L.T=H}},ft.unstable_useCacheRefresh=function(){return L.H.useCacheRefresh()},ft.use=function(T){return L.H.use(T)},ft.useActionState=function(T,H,K){return L.H.useActionState(T,H,K)},ft.useCallback=function(T,H){return L.H.useCallback(T,H)},ft.useContext=function(T){return L.H.useContext(T)},ft.useDebugValue=function(){},ft.useDeferredValue=function(T,H){return L.H.useDeferredValue(T,H)},ft.useEffect=function(T,H,K){var Q=L.H;if(typeof K=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return Q.useEffect(T,H)},ft.useId=function(){return L.H.useId()},ft.useImperativeHandle=function(T,H,K){return L.H.useImperativeHandle(T,H,K)},ft.useInsertionEffect=function(T,H){return L.H.useInsertionEffect(T,H)},ft.useLayoutEffect=function(T,H){return L.H.useLayoutEffect(T,H)},ft.useMemo=function(T,H){return L.H.useMemo(T,H)},ft.useOptimistic=function(T,H){return L.H.useOptimistic(T,H)},ft.useReducer=function(T,H,K){return L.H.useReducer(T,H,K)},ft.useRef=function(T){return L.H.useRef(T)},ft.useState=function(T){return L.H.useState(T)},ft.useSyncExternalStore=function(T,H,K){return L.H.useSyncExternalStore(T,H,K)},ft.useTransition=function(){return L.H.useTransition()},ft.version="19.1.0",ft}var ay;function cd(){return ay||(ay=1,rf.exports=cE()),rf.exports}var Qt=cd();const y0=lE(Qt);var cf={exports:{}},El={},uf={exports:{}},hf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ly;function uE(){return ly||(ly=1,function(i){function t(D,P){var Z=D.length;D.push(P);t:for(;0<Z;){var et=Z-1>>>1,T=D[et];if(0<l(T,P))D[et]=P,D[Z]=T,Z=et;else break t}}function e(D){return D.length===0?null:D[0]}function s(D){if(D.length===0)return null;var P=D[0],Z=D.pop();if(Z!==P){D[0]=Z;t:for(var et=0,T=D.length,H=T>>>1;et<H;){var K=2*(et+1)-1,Q=D[K],tt=K+1,gt=D[tt];if(0>l(Q,Z))tt<T&&0>l(gt,Q)?(D[et]=gt,D[tt]=Z,et=tt):(D[et]=Q,D[K]=Z,et=K);else if(tt<T&&0>l(gt,Z))D[et]=gt,D[tt]=Z,et=tt;else break t}}return P}function l(D,P){var Z=D.sortIndex-P.sortIndex;return Z!==0?Z:D.id-P.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var r=performance;i.unstable_now=function(){return r.now()}}else{var u=Date,h=u.now();i.unstable_now=function(){return u.now()-h}}var d=[],g=[],m=1,_=null,b=3,S=!1,x=!1,C=!1,A=!1,z=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,V=typeof setImmediate<"u"?setImmediate:null;function Y(D){for(var P=e(g);P!==null;){if(P.callback===null)s(g);else if(P.startTime<=D)s(g),P.sortIndex=P.expirationTime,t(d,P);else break;P=e(g)}}function L(D){if(C=!1,Y(D),!x)if(e(d)!==null)x=!0,W||(W=!0,st());else{var P=e(g);P!==null&&q(L,P.startTime-D)}}var W=!1,X=-1,G=5,J=-1;function ht(){return A?!0:!(i.unstable_now()-J<G)}function at(){if(A=!1,W){var D=i.unstable_now();J=D;var P=!0;try{t:{x=!1,C&&(C=!1,U(X),X=-1),S=!0;var Z=b;try{e:{for(Y(D),_=e(d);_!==null&&!(_.expirationTime>D&&ht());){var et=_.callback;if(typeof et=="function"){_.callback=null,b=_.priorityLevel;var T=et(_.expirationTime<=D);if(D=i.unstable_now(),typeof T=="function"){_.callback=T,Y(D),P=!0;break e}_===e(d)&&s(d),Y(D)}else s(d);_=e(d)}if(_!==null)P=!0;else{var H=e(g);H!==null&&q(L,H.startTime-D),P=!1}}break t}finally{_=null,b=Z,S=!1}P=void 0}}finally{P?st():W=!1}}}var st;if(typeof V=="function")st=function(){V(at)};else if(typeof MessageChannel<"u"){var Tt=new MessageChannel,Pt=Tt.port2;Tt.port1.onmessage=at,st=function(){Pt.postMessage(null)}}else st=function(){z(at,0)};function q(D,P){X=z(function(){D(i.unstable_now())},P)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(D){D.callback=null},i.unstable_forceFrameRate=function(D){0>D||125<D?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):G=0<D?Math.floor(1e3/D):5},i.unstable_getCurrentPriorityLevel=function(){return b},i.unstable_next=function(D){switch(b){case 1:case 2:case 3:var P=3;break;default:P=b}var Z=b;b=P;try{return D()}finally{b=Z}},i.unstable_requestPaint=function(){A=!0},i.unstable_runWithPriority=function(D,P){switch(D){case 1:case 2:case 3:case 4:case 5:break;default:D=3}var Z=b;b=D;try{return P()}finally{b=Z}},i.unstable_scheduleCallback=function(D,P,Z){var et=i.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?et+Z:et):Z=et,D){case 1:var T=-1;break;case 2:T=250;break;case 5:T=1073741823;break;case 4:T=1e4;break;default:T=5e3}return T=Z+T,D={id:m++,callback:P,priorityLevel:D,startTime:Z,expirationTime:T,sortIndex:-1},Z>et?(D.sortIndex=Z,t(g,D),e(d)===null&&D===e(g)&&(C?(U(X),X=-1):C=!0,q(L,Z-et))):(D.sortIndex=T,t(d,D),x||S||(x=!0,W||(W=!0,st()))),D},i.unstable_shouldYield=ht,i.unstable_wrapCallback=function(D){var P=b;return function(){var Z=b;b=P;try{return D.apply(this,arguments)}finally{b=Z}}}}(hf)),hf}var oy;function hE(){return oy||(oy=1,uf.exports=uE()),uf.exports}var ff={exports:{}},xe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ry;function fE(){if(ry)return xe;ry=1;var i=cd();function t(d){var g="https://react.dev/errors/"+d;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)g+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var s={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},l=Symbol.for("react.portal");function r(d,g,m){var _=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:_==null?null:""+_,children:d,containerInfo:g,implementation:m}}var u=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(d,g){if(d==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return xe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,xe.createPortal=function(d,g){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return r(d,g,null,m)},xe.flushSync=function(d){var g=u.T,m=s.p;try{if(u.T=null,s.p=2,d)return d()}finally{u.T=g,s.p=m,s.d.f()}},xe.preconnect=function(d,g){typeof d=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(d,g))},xe.prefetchDNS=function(d){typeof d=="string"&&s.d.D(d)},xe.preinit=function(d,g){if(typeof d=="string"&&g&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin),b=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;m==="style"?s.d.S(d,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:_,integrity:b,fetchPriority:S}):m==="script"&&s.d.X(d,{crossOrigin:_,integrity:b,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},xe.preinitModule=function(d,g){if(typeof d=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var m=h(g.as,g.crossOrigin);s.d.M(d,{crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(d)},xe.preload=function(d,g){if(typeof d=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var m=g.as,_=h(m,g.crossOrigin);s.d.L(d,m,{crossOrigin:_,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},xe.preloadModule=function(d,g){if(typeof d=="string")if(g){var m=h(g.as,g.crossOrigin);s.d.m(d,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:m,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(d)},xe.requestFormReset=function(d){s.d.r(d)},xe.unstable_batchedUpdates=function(d,g){return d(g)},xe.useFormState=function(d,g,m){return u.H.useFormState(d,g,m)},xe.useFormStatus=function(){return u.H.useHostTransitionStatus()},xe.version="19.1.0",xe}var cy;function dE(){if(cy)return ff.exports;cy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ff.exports=fE(),ff.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uy;function gE(){if(uy)return El;uy=1;var i=hE(),t=cd(),e=dE();function s(n){var a="https://react.dev/errors/"+n;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function r(n){var a=n,o=n;if(n.alternate)for(;a.return;)a=a.return;else{n=a;do a=n,(a.flags&4098)!==0&&(o=a.return),n=a.return;while(n)}return a.tag===3?o:null}function u(n){if(n.tag===13){var a=n.memoizedState;if(a===null&&(n=n.alternate,n!==null&&(a=n.memoizedState)),a!==null)return a.dehydrated}return null}function h(n){if(r(n)!==n)throw Error(s(188))}function d(n){var a=n.alternate;if(!a){if(a=r(n),a===null)throw Error(s(188));return a!==n?null:n}for(var o=n,c=a;;){var f=o.return;if(f===null)break;var p=f.alternate;if(p===null){if(c=f.return,c!==null){o=c;continue}break}if(f.child===p.child){for(p=f.child;p;){if(p===o)return h(f),n;if(p===c)return h(f),a;p=p.sibling}throw Error(s(188))}if(o.return!==c.return)o=f,c=p;else{for(var y=!1,v=f.child;v;){if(v===o){y=!0,o=f,c=p;break}if(v===c){y=!0,c=f,o=p;break}v=v.sibling}if(!y){for(v=p.child;v;){if(v===o){y=!0,o=p,c=f;break}if(v===c){y=!0,c=p,o=f;break}v=v.sibling}if(!y)throw Error(s(189))}}if(o.alternate!==c)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?n:a}function g(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n;for(n=n.child;n!==null;){if(a=g(n),a!==null)return a;n=n.sibling}return null}var m=Object.assign,_=Symbol.for("react.element"),b=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),x=Symbol.for("react.fragment"),C=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),z=Symbol.for("react.provider"),U=Symbol.for("react.consumer"),V=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),L=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),X=Symbol.for("react.memo"),G=Symbol.for("react.lazy"),J=Symbol.for("react.activity"),ht=Symbol.for("react.memo_cache_sentinel"),at=Symbol.iterator;function st(n){return n===null||typeof n!="object"?null:(n=at&&n[at]||n["@@iterator"],typeof n=="function"?n:null)}var Tt=Symbol.for("react.client.reference");function Pt(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===Tt?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case x:return"Fragment";case A:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case W:return"SuspenseList";case J:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case S:return"Portal";case V:return(n.displayName||"Context")+".Provider";case U:return(n._context.displayName||"Context")+".Consumer";case Y:var a=n.render;return n=n.displayName,n||(n=a.displayName||a.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case X:return a=n.displayName||null,a!==null?a:Pt(n.type)||"Memo";case G:a=n._payload,n=n._init;try{return Pt(n(a))}catch{}}return null}var q=Array.isArray,D=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,P=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z={pending:!1,data:null,method:null,action:null},et=[],T=-1;function H(n){return{current:n}}function K(n){0>T||(n.current=et[T],et[T]=null,T--)}function Q(n,a){T++,et[T]=n.current,n.current=a}var tt=H(null),gt=H(null),lt=H(null),Ue=H(null);function qt(n,a){switch(Q(lt,a),Q(gt,n),Q(tt,null),a.nodeType){case 9:case 11:n=(n=a.documentElement)&&(n=n.namespaceURI)?O_(n):0;break;default:if(n=a.tagName,a=a.namespaceURI)a=O_(a),n=R_(a,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}K(tt),Q(tt,n)}function $n(){K(tt),K(gt),K(lt)}function Fc(n){n.memoizedState!==null&&Q(Ue,n);var a=tt.current,o=R_(a,n.type);a!==o&&(Q(gt,n),Q(tt,o))}function So(n){gt.current===n&&(K(tt),K(gt)),Ue.current===n&&(K(Ue),_l._currentValue=Z)}var Gc=Object.prototype.hasOwnProperty,Xc=i.unstable_scheduleCallback,Wc=i.unstable_cancelCallback,IS=i.unstable_shouldYield,BS=i.unstable_requestPaint,mn=i.unstable_now,HS=i.unstable_getCurrentPriorityLevel,ug=i.unstable_ImmediatePriority,hg=i.unstable_UserBlockingPriority,xo=i.unstable_NormalPriority,US=i.unstable_LowPriority,fg=i.unstable_IdlePriority,jS=i.log,PS=i.unstable_setDisableYieldValue,Ca=null,je=null;function Jn(n){if(typeof jS=="function"&&PS(n),je&&typeof je.setStrictMode=="function")try{je.setStrictMode(Ca,n)}catch{}}var Pe=Math.clz32?Math.clz32:qS,VS=Math.log,YS=Math.LN2;function qS(n){return n>>>=0,n===0?32:31-(VS(n)/YS|0)|0}var Eo=256,To=4194304;function zi(n){var a=n&42;if(a!==0)return a;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function Co(n,a,o){var c=n.pendingLanes;if(c===0)return 0;var f=0,p=n.suspendedLanes,y=n.pingedLanes;n=n.warmLanes;var v=c&134217727;return v!==0?(c=v&~p,c!==0?f=zi(c):(y&=v,y!==0?f=zi(y):o||(o=v&~n,o!==0&&(f=zi(o))))):(v=c&~p,v!==0?f=zi(v):y!==0?f=zi(y):o||(o=c&~n,o!==0&&(f=zi(o)))),f===0?0:a!==0&&a!==f&&(a&p)===0&&(p=f&-f,o=a&-a,p>=o||p===32&&(o&4194048)!==0)?a:f}function Aa(n,a){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&a)===0}function FS(n,a){switch(n){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dg(){var n=Eo;return Eo<<=1,(Eo&4194048)===0&&(Eo=256),n}function gg(){var n=To;return To<<=1,(To&62914560)===0&&(To=4194304),n}function Qc(n){for(var a=[],o=0;31>o;o++)a.push(n);return a}function Ma(n,a){n.pendingLanes|=a,a!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function GS(n,a,o,c,f,p){var y=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var v=n.entanglements,E=n.expirationTimes,R=n.hiddenUpdates;for(o=y&~o;0<o;){var I=31-Pe(o),j=1<<I;v[I]=0,E[I]=-1;var N=R[I];if(N!==null)for(R[I]=null,I=0;I<N.length;I++){var k=N[I];k!==null&&(k.lane&=-536870913)}o&=~j}c!==0&&pg(n,c,0),p!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=p&~(y&~a))}function pg(n,a,o){n.pendingLanes|=a,n.suspendedLanes&=~a;var c=31-Pe(a);n.entangledLanes|=a,n.entanglements[c]=n.entanglements[c]|1073741824|o&4194090}function mg(n,a){var o=n.entangledLanes|=a;for(n=n.entanglements;o;){var c=31-Pe(o),f=1<<c;f&a|n[c]&a&&(n[c]|=a),o&=~f}}function Kc(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function Zc(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function _g(){var n=P.p;return n!==0?n:(n=window.event,n===void 0?32:K_(n.type))}function XS(n,a){var o=P.p;try{return P.p=n,a()}finally{P.p=o}}var ti=Math.random().toString(36).slice(2),ve="__reactFiber$"+ti,we="__reactProps$"+ti,ms="__reactContainer$"+ti,$c="__reactEvents$"+ti,WS="__reactListeners$"+ti,QS="__reactHandles$"+ti,yg="__reactResources$"+ti,wa="__reactMarker$"+ti;function Jc(n){delete n[ve],delete n[we],delete n[$c],delete n[WS],delete n[QS]}function _s(n){var a=n[ve];if(a)return a;for(var o=n.parentNode;o;){if(a=o[ms]||o[ve]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(n=L_(n);n!==null;){if(o=n[ve])return o;n=L_(n)}return a}n=o,o=n.parentNode}return null}function ys(n){if(n=n[ve]||n[ms]){var a=n.tag;if(a===5||a===6||a===13||a===26||a===27||a===3)return n}return null}function Da(n){var a=n.tag;if(a===5||a===26||a===27||a===6)return n.stateNode;throw Error(s(33))}function bs(n){var a=n[yg];return a||(a=n[yg]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function re(n){n[wa]=!0}var bg=new Set,vg={};function Li(n,a){vs(n,a),vs(n+"Capture",a)}function vs(n,a){for(vg[n]=a,n=0;n<a.length;n++)bg.add(a[n])}var KS=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sg={},xg={};function ZS(n){return Gc.call(xg,n)?!0:Gc.call(Sg,n)?!1:KS.test(n)?xg[n]=!0:(Sg[n]=!0,!1)}function Ao(n,a,o){if(ZS(a))if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(a);return;case"boolean":var c=a.toLowerCase().slice(0,5);if(c!=="data-"&&c!=="aria-"){n.removeAttribute(a);return}}n.setAttribute(a,""+o)}}function Mo(n,a,o){if(o===null)n.removeAttribute(a);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(a);return}n.setAttribute(a,""+o)}}function An(n,a,o,c){if(c===null)n.removeAttribute(o);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(a,o,""+c)}}var tu,Eg;function Ss(n){if(tu===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);tu=a&&a[1]||"",Eg=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+tu+n+Eg}var eu=!1;function nu(n,a){if(!n||eu)return"";eu=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var c={DetermineComponentFrameRoot:function(){try{if(a){var j=function(){throw Error()};if(Object.defineProperty(j.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(j,[])}catch(k){var N=k}Reflect.construct(n,[],j)}else{try{j.call()}catch(k){N=k}n.call(j.prototype)}}else{try{throw Error()}catch(k){N=k}(j=n())&&typeof j.catch=="function"&&j.catch(function(){})}}catch(k){if(k&&N&&typeof k.stack=="string")return[k.stack,N.stack]}return[null,null]}};c.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(c.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(c.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=c.DetermineComponentFrameRoot(),y=p[0],v=p[1];if(y&&v){var E=y.split(`
`),R=v.split(`
`);for(f=c=0;c<E.length&&!E[c].includes("DetermineComponentFrameRoot");)c++;for(;f<R.length&&!R[f].includes("DetermineComponentFrameRoot");)f++;if(c===E.length||f===R.length)for(c=E.length-1,f=R.length-1;1<=c&&0<=f&&E[c]!==R[f];)f--;for(;1<=c&&0<=f;c--,f--)if(E[c]!==R[f]){if(c!==1||f!==1)do if(c--,f--,0>f||E[c]!==R[f]){var I=`
`+E[c].replace(" at new "," at ");return n.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",n.displayName)),I}while(1<=c&&0<=f);break}}}finally{eu=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Ss(o):""}function $S(n){switch(n.tag){case 26:case 27:case 5:return Ss(n.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 15:return nu(n.type,!1);case 11:return nu(n.type.render,!1);case 1:return nu(n.type,!0);case 31:return Ss("Activity");default:return""}}function Tg(n){try{var a="";do a+=$S(n),n=n.return;while(n);return a}catch(o){return`
Error generating stack: `+o.message+`
`+o.stack}}function Qe(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Cg(n){var a=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function JS(n){var a=Cg(n)?"checked":"value",o=Object.getOwnPropertyDescriptor(n.constructor.prototype,a),c=""+n[a];if(!n.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,p=o.set;return Object.defineProperty(n,a,{configurable:!0,get:function(){return f.call(this)},set:function(y){c=""+y,p.call(this,y)}}),Object.defineProperty(n,a,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(y){c=""+y},stopTracking:function(){n._valueTracker=null,delete n[a]}}}}function wo(n){n._valueTracker||(n._valueTracker=JS(n))}function Ag(n){if(!n)return!1;var a=n._valueTracker;if(!a)return!0;var o=a.getValue(),c="";return n&&(c=Cg(n)?n.checked?"true":"false":n.value),n=c,n!==o?(a.setValue(n),!0):!1}function Do(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var tx=/[\n"\\]/g;function Ke(n){return n.replace(tx,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function iu(n,a,o,c,f,p,y,v){n.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?n.type=y:n.removeAttribute("type"),a!=null?y==="number"?(a===0&&n.value===""||n.value!=a)&&(n.value=""+Qe(a)):n.value!==""+Qe(a)&&(n.value=""+Qe(a)):y!=="submit"&&y!=="reset"||n.removeAttribute("value"),a!=null?su(n,y,Qe(a)):o!=null?su(n,y,Qe(o)):c!=null&&n.removeAttribute("value"),f==null&&p!=null&&(n.defaultChecked=!!p),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?n.name=""+Qe(v):n.removeAttribute("name")}function Mg(n,a,o,c,f,p,y,v){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(n.type=p),a!=null||o!=null){if(!(p!=="submit"&&p!=="reset"||a!=null))return;o=o!=null?""+Qe(o):"",a=a!=null?""+Qe(a):o,v||a===n.value||(n.value=a),n.defaultValue=a}c=c??f,c=typeof c!="function"&&typeof c!="symbol"&&!!c,n.checked=v?n.checked:!!c,n.defaultChecked=!!c,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(n.name=y)}function su(n,a,o){a==="number"&&Do(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function xs(n,a,o,c){if(n=n.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=a.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&c&&(n[o].defaultSelected=!0)}else{for(o=""+Qe(o),a=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,c&&(n[f].defaultSelected=!0);return}a!==null||n[f].disabled||(a=n[f])}a!==null&&(a.selected=!0)}}function wg(n,a,o){if(a!=null&&(a=""+Qe(a),a!==n.value&&(n.value=a),o==null)){n.defaultValue!==a&&(n.defaultValue=a);return}n.defaultValue=o!=null?""+Qe(o):""}function Dg(n,a,o,c){if(a==null){if(c!=null){if(o!=null)throw Error(s(92));if(q(c)){if(1<c.length)throw Error(s(93));c=c[0]}o=c}o==null&&(o=""),a=o}o=Qe(a),n.defaultValue=o,c=n.textContent,c===o&&c!==""&&c!==null&&(n.value=c)}function Es(n,a){if(a){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=a;return}}n.textContent=a}var ex=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Og(n,a,o){var c=a.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?c?n.setProperty(a,""):a==="float"?n.cssFloat="":n[a]="":c?n.setProperty(a,o):typeof o!="number"||o===0||ex.has(a)?a==="float"?n.cssFloat=o:n[a]=(""+o).trim():n[a]=o+"px"}function Rg(n,a,o){if(a!=null&&typeof a!="object")throw Error(s(62));if(n=n.style,o!=null){for(var c in o)!o.hasOwnProperty(c)||a!=null&&a.hasOwnProperty(c)||(c.indexOf("--")===0?n.setProperty(c,""):c==="float"?n.cssFloat="":n[c]="");for(var f in a)c=a[f],a.hasOwnProperty(f)&&o[f]!==c&&Og(n,f,c)}else for(var p in a)a.hasOwnProperty(p)&&Og(n,p,a[p])}function au(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var nx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ix=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oo(n){return ix.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}var lu=null;function ou(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Ts=null,Cs=null;function Ng(n){var a=ys(n);if(a&&(n=a.stateNode)){var o=n[we]||null;t:switch(n=a.stateNode,a.type){case"input":if(iu(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),a=o.name,o.type==="radio"&&a!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+Ke(""+a)+'"][type="radio"]'),a=0;a<o.length;a++){var c=o[a];if(c!==n&&c.form===n.form){var f=c[we]||null;if(!f)throw Error(s(90));iu(c,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(a=0;a<o.length;a++)c=o[a],c.form===n.form&&Ag(c)}break t;case"textarea":wg(n,o.value,o.defaultValue);break t;case"select":a=o.value,a!=null&&xs(n,!!o.multiple,a,!1)}}}var ru=!1;function kg(n,a,o){if(ru)return n(a,o);ru=!0;try{var c=n(a);return c}finally{if(ru=!1,(Ts!==null||Cs!==null)&&(pr(),Ts&&(a=Ts,n=Cs,Cs=Ts=null,Ng(a),n)))for(a=0;a<n.length;a++)Ng(n[a])}}function Oa(n,a){var o=n.stateNode;if(o===null)return null;var c=o[we]||null;if(c===null)return null;o=c[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(n=n.type,c=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!c;break t;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var Mn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cu=!1;if(Mn)try{var Ra={};Object.defineProperty(Ra,"passive",{get:function(){cu=!0}}),window.addEventListener("test",Ra,Ra),window.removeEventListener("test",Ra,Ra)}catch{cu=!1}var ei=null,uu=null,Ro=null;function zg(){if(Ro)return Ro;var n,a=uu,o=a.length,c,f="value"in ei?ei.value:ei.textContent,p=f.length;for(n=0;n<o&&a[n]===f[n];n++);var y=o-n;for(c=1;c<=y&&a[o-c]===f[p-c];c++);return Ro=f.slice(n,1<c?1-c:void 0)}function No(n){var a=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&a===13&&(n=13)):n=a,n===10&&(n=13),32<=n||n===13?n:0}function ko(){return!0}function Lg(){return!1}function De(n){function a(o,c,f,p,y){this._reactName=o,this._targetInst=f,this.type=c,this.nativeEvent=p,this.target=y,this.currentTarget=null;for(var v in n)n.hasOwnProperty(v)&&(o=n[v],this[v]=o?o(p):p[v]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ko:Lg,this.isPropagationStopped=Lg,this}return m(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=ko)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=ko)},persist:function(){},isPersistent:ko}),a}var Ii={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zo=De(Ii),Na=m({},Ii,{view:0,detail:0}),sx=De(Na),hu,fu,ka,Lo=m({},Na,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:gu,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ka&&(ka&&n.type==="mousemove"?(hu=n.screenX-ka.screenX,fu=n.screenY-ka.screenY):fu=hu=0,ka=n),hu)},movementY:function(n){return"movementY"in n?n.movementY:fu}}),Ig=De(Lo),ax=m({},Lo,{dataTransfer:0}),lx=De(ax),ox=m({},Na,{relatedTarget:0}),du=De(ox),rx=m({},Ii,{animationName:0,elapsedTime:0,pseudoElement:0}),cx=De(rx),ux=m({},Ii,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),hx=De(ux),fx=m({},Ii,{data:0}),Bg=De(fx),dx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},px={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mx(n){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(n):(n=px[n])?!!a[n]:!1}function gu(){return mx}var _x=m({},Na,{key:function(n){if(n.key){var a=dx[n.key]||n.key;if(a!=="Unidentified")return a}return n.type==="keypress"?(n=No(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?gx[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:gu,charCode:function(n){return n.type==="keypress"?No(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?No(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),yx=De(_x),bx=m({},Lo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hg=De(bx),vx=m({},Na,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:gu}),Sx=De(vx),xx=m({},Ii,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=De(xx),Tx=m({},Lo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),Cx=De(Tx),Ax=m({},Ii,{newState:0,oldState:0}),Mx=De(Ax),wx=[9,13,27,32],pu=Mn&&"CompositionEvent"in window,za=null;Mn&&"documentMode"in document&&(za=document.documentMode);var Dx=Mn&&"TextEvent"in window&&!za,Ug=Mn&&(!pu||za&&8<za&&11>=za),jg=" ",Pg=!1;function Vg(n,a){switch(n){case"keyup":return wx.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Yg(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var As=!1;function Ox(n,a){switch(n){case"compositionend":return Yg(a);case"keypress":return a.which!==32?null:(Pg=!0,jg);case"textInput":return n=a.data,n===jg&&Pg?null:n;default:return null}}function Rx(n,a){if(As)return n==="compositionend"||!pu&&Vg(n,a)?(n=zg(),Ro=uu=ei=null,As=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ug&&a.locale!=="ko"?null:a.data;default:return null}}var Nx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qg(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a==="input"?!!Nx[n.type]:a==="textarea"}function Fg(n,a,o,c){Ts?Cs?Cs.push(c):Cs=[c]:Ts=c,a=Sr(a,"onChange"),0<a.length&&(o=new zo("onChange","change",null,o,c),n.push({event:o,listeners:a}))}var La=null,Ia=null;function kx(n){C_(n,0)}function Io(n){var a=Da(n);if(Ag(a))return n}function Gg(n,a){if(n==="change")return a}var Xg=!1;if(Mn){var mu;if(Mn){var _u="oninput"in document;if(!_u){var Wg=document.createElement("div");Wg.setAttribute("oninput","return;"),_u=typeof Wg.oninput=="function"}mu=_u}else mu=!1;Xg=mu&&(!document.documentMode||9<document.documentMode)}function Qg(){La&&(La.detachEvent("onpropertychange",Kg),Ia=La=null)}function Kg(n){if(n.propertyName==="value"&&Io(Ia)){var a=[];Fg(a,Ia,n,ou(n)),kg(kx,a)}}function zx(n,a,o){n==="focusin"?(Qg(),La=a,Ia=o,La.attachEvent("onpropertychange",Kg)):n==="focusout"&&Qg()}function Lx(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return Io(Ia)}function Ix(n,a){if(n==="click")return Io(a)}function Bx(n,a){if(n==="input"||n==="change")return Io(a)}function Hx(n,a){return n===a&&(n!==0||1/n===1/a)||n!==n&&a!==a}var Ve=typeof Object.is=="function"?Object.is:Hx;function Ba(n,a){if(Ve(n,a))return!0;if(typeof n!="object"||n===null||typeof a!="object"||a===null)return!1;var o=Object.keys(n),c=Object.keys(a);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var f=o[c];if(!Gc.call(a,f)||!Ve(n[f],a[f]))return!1}return!0}function Zg(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function $g(n,a){var o=Zg(n);n=0;for(var c;o;){if(o.nodeType===3){if(c=n+o.textContent.length,n<=a&&c>=a)return{node:o,offset:a-n};n=c}t:{for(;o;){if(o.nextSibling){o=o.nextSibling;break t}o=o.parentNode}o=void 0}o=Zg(o)}}function Jg(n,a){return n&&a?n===a?!0:n&&n.nodeType===3?!1:a&&a.nodeType===3?Jg(n,a.parentNode):"contains"in n?n.contains(a):n.compareDocumentPosition?!!(n.compareDocumentPosition(a)&16):!1:!1}function tp(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var a=Do(n.document);a instanceof n.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)n=a.contentWindow;else break;a=Do(n.document)}return a}function yu(n){var a=n&&n.nodeName&&n.nodeName.toLowerCase();return a&&(a==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||a==="textarea"||n.contentEditable==="true")}var Ux=Mn&&"documentMode"in document&&11>=document.documentMode,Ms=null,bu=null,Ha=null,vu=!1;function ep(n,a,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;vu||Ms==null||Ms!==Do(c)||(c=Ms,"selectionStart"in c&&yu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Ha&&Ba(Ha,c)||(Ha=c,c=Sr(bu,"onSelect"),0<c.length&&(a=new zo("onSelect","select",null,a,o),n.push({event:a,listeners:c}),a.target=Ms)))}function Bi(n,a){var o={};return o[n.toLowerCase()]=a.toLowerCase(),o["Webkit"+n]="webkit"+a,o["Moz"+n]="moz"+a,o}var ws={animationend:Bi("Animation","AnimationEnd"),animationiteration:Bi("Animation","AnimationIteration"),animationstart:Bi("Animation","AnimationStart"),transitionrun:Bi("Transition","TransitionRun"),transitionstart:Bi("Transition","TransitionStart"),transitioncancel:Bi("Transition","TransitionCancel"),transitionend:Bi("Transition","TransitionEnd")},Su={},np={};Mn&&(np=document.createElement("div").style,"AnimationEvent"in window||(delete ws.animationend.animation,delete ws.animationiteration.animation,delete ws.animationstart.animation),"TransitionEvent"in window||delete ws.transitionend.transition);function Hi(n){if(Su[n])return Su[n];if(!ws[n])return n;var a=ws[n],o;for(o in a)if(a.hasOwnProperty(o)&&o in np)return Su[n]=a[o];return n}var ip=Hi("animationend"),sp=Hi("animationiteration"),ap=Hi("animationstart"),jx=Hi("transitionrun"),Px=Hi("transitionstart"),Vx=Hi("transitioncancel"),lp=Hi("transitionend"),op=new Map,xu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");xu.push("scrollEnd");function cn(n,a){op.set(n,a),Li(a,[n])}var rp=new WeakMap;function Ze(n,a){if(typeof n=="object"&&n!==null){var o=rp.get(n);return o!==void 0?o:(a={value:n,source:a,stack:Tg(a)},rp.set(n,a),a)}return{value:n,source:a,stack:Tg(a)}}var $e=[],Ds=0,Eu=0;function Bo(){for(var n=Ds,a=Eu=Ds=0;a<n;){var o=$e[a];$e[a++]=null;var c=$e[a];$e[a++]=null;var f=$e[a];$e[a++]=null;var p=$e[a];if($e[a++]=null,c!==null&&f!==null){var y=c.pending;y===null?f.next=f:(f.next=y.next,y.next=f),c.pending=f}p!==0&&cp(o,f,p)}}function Ho(n,a,o,c){$e[Ds++]=n,$e[Ds++]=a,$e[Ds++]=o,$e[Ds++]=c,Eu|=c,n.lanes|=c,n=n.alternate,n!==null&&(n.lanes|=c)}function Tu(n,a,o,c){return Ho(n,a,o,c),Uo(n)}function Os(n,a){return Ho(n,null,null,a),Uo(n)}function cp(n,a,o){n.lanes|=o;var c=n.alternate;c!==null&&(c.lanes|=o);for(var f=!1,p=n.return;p!==null;)p.childLanes|=o,c=p.alternate,c!==null&&(c.childLanes|=o),p.tag===22&&(n=p.stateNode,n===null||n._visibility&1||(f=!0)),n=p,p=p.return;return n.tag===3?(p=n.stateNode,f&&a!==null&&(f=31-Pe(o),n=p.hiddenUpdates,c=n[f],c===null?n[f]=[a]:c.push(a),a.lane=o|536870912),p):null}function Uo(n){if(50<cl)throw cl=0,Oh=null,Error(s(185));for(var a=n.return;a!==null;)n=a,a=n.return;return n.tag===3?n.stateNode:null}var Rs={};function Yx(n,a,o,c){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ye(n,a,o,c){return new Yx(n,a,o,c)}function Cu(n){return n=n.prototype,!(!n||!n.isReactComponent)}function wn(n,a){var o=n.alternate;return o===null?(o=Ye(n.tag,a,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=a,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,a=n.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function up(n,a){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=a,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,a=o.dependencies,n.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),n}function jo(n,a,o,c,f,p){var y=0;if(c=n,typeof n=="function")Cu(n)&&(y=1);else if(typeof n=="string")y=F1(n,o,tt.current)?26:n==="html"||n==="head"||n==="body"?27:5;else t:switch(n){case J:return n=Ye(31,o,a,f),n.elementType=J,n.lanes=p,n;case x:return Ui(o.children,f,p,a);case C:y=8,f|=24;break;case A:return n=Ye(12,o,a,f|2),n.elementType=A,n.lanes=p,n;case L:return n=Ye(13,o,a,f),n.elementType=L,n.lanes=p,n;case W:return n=Ye(19,o,a,f),n.elementType=W,n.lanes=p,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case z:case V:y=10;break t;case U:y=9;break t;case Y:y=11;break t;case X:y=14;break t;case G:y=16,c=null;break t}y=29,o=Error(s(130,n===null?"null":typeof n,"")),c=null}return a=Ye(y,o,a,f),a.elementType=n,a.type=c,a.lanes=p,a}function Ui(n,a,o,c){return n=Ye(7,n,c,a),n.lanes=o,n}function Au(n,a,o){return n=Ye(6,n,null,a),n.lanes=o,n}function Mu(n,a,o){return a=Ye(4,n.children!==null?n.children:[],n.key,a),a.lanes=o,a.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},a}var Ns=[],ks=0,Po=null,Vo=0,Je=[],tn=0,ji=null,Dn=1,On="";function Pi(n,a){Ns[ks++]=Vo,Ns[ks++]=Po,Po=n,Vo=a}function hp(n,a,o){Je[tn++]=Dn,Je[tn++]=On,Je[tn++]=ji,ji=n;var c=Dn;n=On;var f=32-Pe(c)-1;c&=~(1<<f),o+=1;var p=32-Pe(a)+f;if(30<p){var y=f-f%5;p=(c&(1<<y)-1).toString(32),c>>=y,f-=y,Dn=1<<32-Pe(a)+f|o<<f|c,On=p+n}else Dn=1<<p|o<<f|c,On=n}function wu(n){n.return!==null&&(Pi(n,1),hp(n,1,0))}function Du(n){for(;n===Po;)Po=Ns[--ks],Ns[ks]=null,Vo=Ns[--ks],Ns[ks]=null;for(;n===ji;)ji=Je[--tn],Je[tn]=null,On=Je[--tn],Je[tn]=null,Dn=Je[--tn],Je[tn]=null}var Ae=null,Xt=null,Mt=!1,Vi=null,_n=!1,Ou=Error(s(519));function Yi(n){var a=Error(s(418,""));throw Pa(Ze(a,n)),Ou}function fp(n){var a=n.stateNode,o=n.type,c=n.memoizedProps;switch(a[ve]=n,a[we]=c,o){case"dialog":bt("cancel",a),bt("close",a);break;case"iframe":case"object":case"embed":bt("load",a);break;case"video":case"audio":for(o=0;o<hl.length;o++)bt(hl[o],a);break;case"source":bt("error",a);break;case"img":case"image":case"link":bt("error",a),bt("load",a);break;case"details":bt("toggle",a);break;case"input":bt("invalid",a),Mg(a,c.value,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name,!0),wo(a);break;case"select":bt("invalid",a);break;case"textarea":bt("invalid",a),Dg(a,c.value,c.defaultValue,c.children),wo(a)}o=c.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||a.textContent===""+o||c.suppressHydrationWarning===!0||D_(a.textContent,o)?(c.popover!=null&&(bt("beforetoggle",a),bt("toggle",a)),c.onScroll!=null&&bt("scroll",a),c.onScrollEnd!=null&&bt("scrollend",a),c.onClick!=null&&(a.onclick=xr),a=!0):a=!1,a||Yi(n)}function dp(n){for(Ae=n.return;Ae;)switch(Ae.tag){case 5:case 13:_n=!1;return;case 27:case 3:_n=!0;return;default:Ae=Ae.return}}function Ua(n){if(n!==Ae)return!1;if(!Mt)return dp(n),Mt=!0,!1;var a=n.tag,o;if((o=a!==3&&a!==27)&&((o=a===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Gh(n.type,n.memoizedProps)),o=!o),o&&Xt&&Yi(n),dp(n),a===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(s(317));t:{for(n=n.nextSibling,a=0;n;){if(n.nodeType===8)if(o=n.data,o==="/$"){if(a===0){Xt=hn(n.nextSibling);break t}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++;n=n.nextSibling}Xt=null}}else a===27?(a=Xt,_i(n.type)?(n=Kh,Kh=null,Xt=n):Xt=a):Xt=Ae?hn(n.stateNode.nextSibling):null;return!0}function ja(){Xt=Ae=null,Mt=!1}function gp(){var n=Vi;return n!==null&&(Ne===null?Ne=n:Ne.push.apply(Ne,n),Vi=null),n}function Pa(n){Vi===null?Vi=[n]:Vi.push(n)}var Ru=H(null),qi=null,Rn=null;function ni(n,a,o){Q(Ru,a._currentValue),a._currentValue=o}function Nn(n){n._currentValue=Ru.current,K(Ru)}function Nu(n,a,o){for(;n!==null;){var c=n.alternate;if((n.childLanes&a)!==a?(n.childLanes|=a,c!==null&&(c.childLanes|=a)):c!==null&&(c.childLanes&a)!==a&&(c.childLanes|=a),n===o)break;n=n.return}}function ku(n,a,o,c){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var p=f.dependencies;if(p!==null){var y=f.child;p=p.firstContext;t:for(;p!==null;){var v=p;p=f;for(var E=0;E<a.length;E++)if(v.context===a[E]){p.lanes|=o,v=p.alternate,v!==null&&(v.lanes|=o),Nu(p.return,o,n),c||(y=null);break t}p=v.next}}else if(f.tag===18){if(y=f.return,y===null)throw Error(s(341));y.lanes|=o,p=y.alternate,p!==null&&(p.lanes|=o),Nu(y,o,n),y=null}else y=f.child;if(y!==null)y.return=f;else for(y=f;y!==null;){if(y===n){y=null;break}if(f=y.sibling,f!==null){f.return=y.return,y=f;break}y=y.return}f=y}}function Va(n,a,o,c){n=null;for(var f=a,p=!1;f!==null;){if(!p){if((f.flags&524288)!==0)p=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var y=f.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var v=f.type;Ve(f.pendingProps.value,y.value)||(n!==null?n.push(v):n=[v])}}else if(f===Ue.current){if(y=f.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(_l):n=[_l])}f=f.return}n!==null&&ku(a,n,o,c),a.flags|=262144}function Yo(n){for(n=n.firstContext;n!==null;){if(!Ve(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function Fi(n){qi=n,Rn=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Se(n){return pp(qi,n)}function qo(n,a){return qi===null&&Fi(n),pp(n,a)}function pp(n,a){var o=a._currentValue;if(a={context:a,memoizedValue:o,next:null},Rn===null){if(n===null)throw Error(s(308));Rn=a,n.dependencies={lanes:0,firstContext:a},n.flags|=524288}else Rn=Rn.next=a;return o}var qx=typeof AbortController<"u"?AbortController:function(){var n=[],a=this.signal={aborted:!1,addEventListener:function(o,c){n.push(c)}};this.abort=function(){a.aborted=!0,n.forEach(function(o){return o()})}},Fx=i.unstable_scheduleCallback,Gx=i.unstable_NormalPriority,se={$$typeof:V,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function zu(){return{controller:new qx,data:new Map,refCount:0}}function Ya(n){n.refCount--,n.refCount===0&&Fx(Gx,function(){n.controller.abort()})}var qa=null,Lu=0,zs=0,Ls=null;function Xx(n,a){if(qa===null){var o=qa=[];Lu=0,zs=Bh(),Ls={status:"pending",value:void 0,then:function(c){o.push(c)}}}return Lu++,a.then(mp,mp),a}function mp(){if(--Lu===0&&qa!==null){Ls!==null&&(Ls.status="fulfilled");var n=qa;qa=null,zs=0,Ls=null;for(var a=0;a<n.length;a++)(0,n[a])()}}function Wx(n,a){var o=[],c={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){c.status="fulfilled",c.value=a;for(var f=0;f<o.length;f++)(0,o[f])(a)},function(f){for(c.status="rejected",c.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),c}var _p=D.S;D.S=function(n,a){typeof a=="object"&&a!==null&&typeof a.then=="function"&&Xx(n,a),_p!==null&&_p(n,a)};var Gi=H(null);function Iu(){var n=Gi.current;return n!==null?n:Bt.pooledCache}function Fo(n,a){a===null?Q(Gi,Gi.current):Q(Gi,a.pool)}function yp(){var n=Iu();return n===null?null:{parent:se._currentValue,pool:n}}var Fa=Error(s(460)),bp=Error(s(474)),Go=Error(s(542)),Bu={then:function(){}};function vp(n){return n=n.status,n==="fulfilled"||n==="rejected"}function Xo(){}function Sp(n,a,o){switch(o=n[o],o===void 0?n.push(a):o!==a&&(a.then(Xo,Xo),a=o),a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Ep(n),n;default:if(typeof a.status=="string")a.then(Xo,Xo);else{if(n=Bt,n!==null&&100<n.shellSuspendCounter)throw Error(s(482));n=a,n.status="pending",n.then(function(c){if(a.status==="pending"){var f=a;f.status="fulfilled",f.value=c}},function(c){if(a.status==="pending"){var f=a;f.status="rejected",f.reason=c}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw n=a.reason,Ep(n),n}throw Ga=a,Fa}}var Ga=null;function xp(){if(Ga===null)throw Error(s(459));var n=Ga;return Ga=null,n}function Ep(n){if(n===Fa||n===Go)throw Error(s(483))}var ii=!1;function Hu(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Uu(n,a){n=n.updateQueue,a.updateQueue===n&&(a.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function si(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function ai(n,a,o){var c=n.updateQueue;if(c===null)return null;if(c=c.shared,(Dt&2)!==0){var f=c.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),c.pending=a,a=Uo(n),cp(n,null,o),a}return Ho(n,c,a,o),Uo(n)}function Xa(n,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194048)!==0)){var c=a.lanes;c&=n.pendingLanes,o|=c,a.lanes=o,mg(n,o)}}function ju(n,a){var o=n.updateQueue,c=n.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var f=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};p===null?f=p=y:p=p.next=y,o=o.next}while(o!==null);p===null?f=p=a:p=p.next=a}else f=p=a;o={baseState:c.baseState,firstBaseUpdate:f,lastBaseUpdate:p,shared:c.shared,callbacks:c.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=a:n.next=a,o.lastBaseUpdate=a}var Pu=!1;function Wa(){if(Pu){var n=Ls;if(n!==null)throw n}}function Qa(n,a,o,c){Pu=!1;var f=n.updateQueue;ii=!1;var p=f.firstBaseUpdate,y=f.lastBaseUpdate,v=f.shared.pending;if(v!==null){f.shared.pending=null;var E=v,R=E.next;E.next=null,y===null?p=R:y.next=R,y=E;var I=n.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==y&&(v===null?I.firstBaseUpdate=R:v.next=R,I.lastBaseUpdate=E))}if(p!==null){var j=f.baseState;y=0,I=R=E=null,v=p;do{var N=v.lane&-536870913,k=N!==v.lane;if(k?(xt&N)===N:(c&N)===N){N!==0&&N===zs&&(Pu=!0),I!==null&&(I=I.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});t:{var ct=n,ot=v;N=a;var zt=o;switch(ot.tag){case 1:if(ct=ot.payload,typeof ct=="function"){j=ct.call(zt,j,N);break t}j=ct;break t;case 3:ct.flags=ct.flags&-65537|128;case 0:if(ct=ot.payload,N=typeof ct=="function"?ct.call(zt,j,N):ct,N==null)break t;j=m({},j,N);break t;case 2:ii=!0}}N=v.callback,N!==null&&(n.flags|=64,k&&(n.flags|=8192),k=f.callbacks,k===null?f.callbacks=[N]:k.push(N))}else k={lane:N,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(R=I=k,E=j):I=I.next=k,y|=N;if(v=v.next,v===null){if(v=f.shared.pending,v===null)break;k=v,v=k.next,k.next=null,f.lastBaseUpdate=k,f.shared.pending=null}}while(!0);I===null&&(E=j),f.baseState=E,f.firstBaseUpdate=R,f.lastBaseUpdate=I,p===null&&(f.shared.lanes=0),di|=y,n.lanes=y,n.memoizedState=j}}function Tp(n,a){if(typeof n!="function")throw Error(s(191,n));n.call(a)}function Cp(n,a){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)Tp(o[n],a)}var Is=H(null),Wo=H(0);function Ap(n,a){n=Un,Q(Wo,n),Q(Is,a),Un=n|a.baseLanes}function Vu(){Q(Wo,Un),Q(Is,Is.current)}function Yu(){Un=Wo.current,K(Is),K(Wo)}var li=0,dt=null,Nt=null,ne=null,Qo=!1,Bs=!1,Xi=!1,Ko=0,Ka=0,Hs=null,Qx=0;function Jt(){throw Error(s(321))}function qu(n,a){if(a===null)return!1;for(var o=0;o<a.length&&o<n.length;o++)if(!Ve(n[o],a[o]))return!1;return!0}function Fu(n,a,o,c,f,p){return li=p,dt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,D.H=n===null||n.memoizedState===null?cm:um,Xi=!1,p=o(c,f),Xi=!1,Bs&&(p=wp(a,o,c,f)),Mp(n),p}function Mp(n){D.H=nr;var a=Nt!==null&&Nt.next!==null;if(li=0,ne=Nt=dt=null,Qo=!1,Ka=0,Hs=null,a)throw Error(s(300));n===null||ce||(n=n.dependencies,n!==null&&Yo(n)&&(ce=!0))}function wp(n,a,o,c){dt=n;var f=0;do{if(Bs&&(Hs=null),Ka=0,Bs=!1,25<=f)throw Error(s(301));if(f+=1,ne=Nt=null,n.updateQueue!=null){var p=n.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}D.H=n1,p=a(o,c)}while(Bs);return p}function Kx(){var n=D.H,a=n.useState()[0];return a=typeof a.then=="function"?Za(a):a,n=n.useState()[0],(Nt!==null?Nt.memoizedState:null)!==n&&(dt.flags|=1024),a}function Gu(){var n=Ko!==0;return Ko=0,n}function Xu(n,a,o){a.updateQueue=n.updateQueue,a.flags&=-2053,n.lanes&=~o}function Wu(n){if(Qo){for(n=n.memoizedState;n!==null;){var a=n.queue;a!==null&&(a.pending=null),n=n.next}Qo=!1}li=0,ne=Nt=dt=null,Bs=!1,Ka=Ko=0,Hs=null}function Oe(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ne===null?dt.memoizedState=ne=n:ne=ne.next=n,ne}function ie(){if(Nt===null){var n=dt.alternate;n=n!==null?n.memoizedState:null}else n=Nt.next;var a=ne===null?dt.memoizedState:ne.next;if(a!==null)ne=a,Nt=n;else{if(n===null)throw dt.alternate===null?Error(s(467)):Error(s(310));Nt=n,n={memoizedState:Nt.memoizedState,baseState:Nt.baseState,baseQueue:Nt.baseQueue,queue:Nt.queue,next:null},ne===null?dt.memoizedState=ne=n:ne=ne.next=n}return ne}function Qu(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Za(n){var a=Ka;return Ka+=1,Hs===null&&(Hs=[]),n=Sp(Hs,n,a),a=dt,(ne===null?a.memoizedState:ne.next)===null&&(a=a.alternate,D.H=a===null||a.memoizedState===null?cm:um),n}function Zo(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return Za(n);if(n.$$typeof===V)return Se(n)}throw Error(s(438,String(n)))}function Ku(n){var a=null,o=dt.updateQueue;if(o!==null&&(a=o.memoCache),a==null){var c=dt.alternate;c!==null&&(c=c.updateQueue,c!==null&&(c=c.memoCache,c!=null&&(a={data:c.data.map(function(f){return f.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),o===null&&(o=Qu(),dt.updateQueue=o),o.memoCache=a,o=a.data[a.index],o===void 0)for(o=a.data[a.index]=Array(n),c=0;c<n;c++)o[c]=ht;return a.index++,o}function kn(n,a){return typeof a=="function"?a(n):a}function $o(n){var a=ie();return Zu(a,Nt,n)}function Zu(n,a,o){var c=n.queue;if(c===null)throw Error(s(311));c.lastRenderedReducer=o;var f=n.baseQueue,p=c.pending;if(p!==null){if(f!==null){var y=f.next;f.next=p.next,p.next=y}a.baseQueue=f=p,c.pending=null}if(p=n.baseState,f===null)n.memoizedState=p;else{a=f.next;var v=y=null,E=null,R=a,I=!1;do{var j=R.lane&-536870913;if(j!==R.lane?(xt&j)===j:(li&j)===j){var N=R.revertLane;if(N===0)E!==null&&(E=E.next={lane:0,revertLane:0,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null}),j===zs&&(I=!0);else if((li&N)===N){R=R.next,N===zs&&(I=!0);continue}else j={lane:0,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(v=E=j,y=p):E=E.next=j,dt.lanes|=N,di|=N;j=R.action,Xi&&o(p,j),p=R.hasEagerState?R.eagerState:o(p,j)}else N={lane:j,revertLane:R.revertLane,action:R.action,hasEagerState:R.hasEagerState,eagerState:R.eagerState,next:null},E===null?(v=E=N,y=p):E=E.next=N,dt.lanes|=j,di|=j;R=R.next}while(R!==null&&R!==a);if(E===null?y=p:E.next=v,!Ve(p,n.memoizedState)&&(ce=!0,I&&(o=Ls,o!==null)))throw o;n.memoizedState=p,n.baseState=y,n.baseQueue=E,c.lastRenderedState=p}return f===null&&(c.lanes=0),[n.memoizedState,c.dispatch]}function $u(n){var a=ie(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=n;var c=o.dispatch,f=o.pending,p=a.memoizedState;if(f!==null){o.pending=null;var y=f=f.next;do p=n(p,y.action),y=y.next;while(y!==f);Ve(p,a.memoizedState)||(ce=!0),a.memoizedState=p,a.baseQueue===null&&(a.baseState=p),o.lastRenderedState=p}return[p,c]}function Dp(n,a,o){var c=dt,f=ie(),p=Mt;if(p){if(o===void 0)throw Error(s(407));o=o()}else o=a();var y=!Ve((Nt||f).memoizedState,o);y&&(f.memoizedState=o,ce=!0),f=f.queue;var v=Np.bind(null,c,f,n);if($a(2048,8,v,[n]),f.getSnapshot!==a||y||ne!==null&&ne.memoizedState.tag&1){if(c.flags|=2048,Us(9,Jo(),Rp.bind(null,c,f,o,a),null),Bt===null)throw Error(s(349));p||(li&124)!==0||Op(c,a,o)}return o}function Op(n,a,o){n.flags|=16384,n={getSnapshot:a,value:o},a=dt.updateQueue,a===null?(a=Qu(),dt.updateQueue=a,a.stores=[n]):(o=a.stores,o===null?a.stores=[n]:o.push(n))}function Rp(n,a,o,c){a.value=o,a.getSnapshot=c,kp(a)&&zp(n)}function Np(n,a,o){return o(function(){kp(a)&&zp(n)})}function kp(n){var a=n.getSnapshot;n=n.value;try{var o=a();return!Ve(n,o)}catch{return!0}}function zp(n){var a=Os(n,2);a!==null&&We(a,n,2)}function Ju(n){var a=Oe();if(typeof n=="function"){var o=n;if(n=o(),Xi){Jn(!0);try{o()}finally{Jn(!1)}}}return a.memoizedState=a.baseState=n,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:n},a}function Lp(n,a,o,c){return n.baseState=o,Zu(n,Nt,typeof c=="function"?c:kn)}function Zx(n,a,o,c,f){if(er(n))throw Error(s(485));if(n=a.action,n!==null){var p={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){p.listeners.push(y)}};D.T!==null?o(!0):p.isTransition=!1,c(p),o=a.pending,o===null?(p.next=a.pending=p,Ip(a,p)):(p.next=o.next,a.pending=o.next=p)}}function Ip(n,a){var o=a.action,c=a.payload,f=n.state;if(a.isTransition){var p=D.T,y={};D.T=y;try{var v=o(f,c),E=D.S;E!==null&&E(y,v),Bp(n,a,v)}catch(R){th(n,a,R)}finally{D.T=p}}else try{p=o(f,c),Bp(n,a,p)}catch(R){th(n,a,R)}}function Bp(n,a,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(c){Hp(n,a,c)},function(c){return th(n,a,c)}):Hp(n,a,o)}function Hp(n,a,o){a.status="fulfilled",a.value=o,Up(a),n.state=o,a=n.pending,a!==null&&(o=a.next,o===a?n.pending=null:(o=o.next,a.next=o,Ip(n,o)))}function th(n,a,o){var c=n.pending;if(n.pending=null,c!==null){c=c.next;do a.status="rejected",a.reason=o,Up(a),a=a.next;while(a!==c)}n.action=null}function Up(n){n=n.listeners;for(var a=0;a<n.length;a++)(0,n[a])()}function jp(n,a){return a}function Pp(n,a){if(Mt){var o=Bt.formState;if(o!==null){t:{var c=dt;if(Mt){if(Xt){e:{for(var f=Xt,p=_n;f.nodeType!==8;){if(!p){f=null;break e}if(f=hn(f.nextSibling),f===null){f=null;break e}}p=f.data,f=p==="F!"||p==="F"?f:null}if(f){Xt=hn(f.nextSibling),c=f.data==="F!";break t}}Yi(c)}c=!1}c&&(a=o[0])}}return o=Oe(),o.memoizedState=o.baseState=a,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jp,lastRenderedState:a},o.queue=c,o=lm.bind(null,dt,c),c.dispatch=o,c=Ju(!1),p=ah.bind(null,dt,!1,c.queue),c=Oe(),f={state:a,dispatch:null,action:n,pending:null},c.queue=f,o=Zx.bind(null,dt,f,p,o),f.dispatch=o,c.memoizedState=n,[a,o,!1]}function Vp(n){var a=ie();return Yp(a,Nt,n)}function Yp(n,a,o){if(a=Zu(n,a,jp)[0],n=$o(kn)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var c=Za(a)}catch(y){throw y===Fa?Go:y}else c=a;a=ie();var f=a.queue,p=f.dispatch;return o!==a.memoizedState&&(dt.flags|=2048,Us(9,Jo(),$x.bind(null,f,o),null)),[c,p,n]}function $x(n,a){n.action=a}function qp(n){var a=ie(),o=Nt;if(o!==null)return Yp(a,o,n);ie(),a=a.memoizedState,o=ie();var c=o.queue.dispatch;return o.memoizedState=n,[a,c,!1]}function Us(n,a,o,c){return n={tag:n,create:o,deps:c,inst:a,next:null},a=dt.updateQueue,a===null&&(a=Qu(),dt.updateQueue=a),o=a.lastEffect,o===null?a.lastEffect=n.next=n:(c=o.next,o.next=n,n.next=c,a.lastEffect=n),n}function Jo(){return{destroy:void 0,resource:void 0}}function Fp(){return ie().memoizedState}function tr(n,a,o,c){var f=Oe();c=c===void 0?null:c,dt.flags|=n,f.memoizedState=Us(1|a,Jo(),o,c)}function $a(n,a,o,c){var f=ie();c=c===void 0?null:c;var p=f.memoizedState.inst;Nt!==null&&c!==null&&qu(c,Nt.memoizedState.deps)?f.memoizedState=Us(a,p,o,c):(dt.flags|=n,f.memoizedState=Us(1|a,p,o,c))}function Gp(n,a){tr(8390656,8,n,a)}function Xp(n,a){$a(2048,8,n,a)}function Wp(n,a){return $a(4,2,n,a)}function Qp(n,a){return $a(4,4,n,a)}function Kp(n,a){if(typeof a=="function"){n=n();var o=a(n);return function(){typeof o=="function"?o():a(null)}}if(a!=null)return n=n(),a.current=n,function(){a.current=null}}function Zp(n,a,o){o=o!=null?o.concat([n]):null,$a(4,4,Kp.bind(null,a,n),o)}function eh(){}function $p(n,a){var o=ie();a=a===void 0?null:a;var c=o.memoizedState;return a!==null&&qu(a,c[1])?c[0]:(o.memoizedState=[n,a],n)}function Jp(n,a){var o=ie();a=a===void 0?null:a;var c=o.memoizedState;if(a!==null&&qu(a,c[1]))return c[0];if(c=n(),Xi){Jn(!0);try{n()}finally{Jn(!1)}}return o.memoizedState=[c,a],c}function nh(n,a,o){return o===void 0||(li&1073741824)!==0?n.memoizedState=a:(n.memoizedState=o,n=n_(),dt.lanes|=n,di|=n,o)}function tm(n,a,o,c){return Ve(o,a)?o:Is.current!==null?(n=nh(n,o,c),Ve(n,a)||(ce=!0),n):(li&42)===0?(ce=!0,n.memoizedState=o):(n=n_(),dt.lanes|=n,di|=n,a)}function em(n,a,o,c,f){var p=P.p;P.p=p!==0&&8>p?p:8;var y=D.T,v={};D.T=v,ah(n,!1,a,o);try{var E=f(),R=D.S;if(R!==null&&R(v,E),E!==null&&typeof E=="object"&&typeof E.then=="function"){var I=Wx(E,c);Ja(n,a,I,Xe(n))}else Ja(n,a,c,Xe(n))}catch(j){Ja(n,a,{then:function(){},status:"rejected",reason:j},Xe())}finally{P.p=p,D.T=y}}function Jx(){}function ih(n,a,o,c){if(n.tag!==5)throw Error(s(476));var f=nm(n).queue;em(n,f,a,Z,o===null?Jx:function(){return im(n),o(c)})}function nm(n){var a=n.memoizedState;if(a!==null)return a;a={memoizedState:Z,baseState:Z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:Z},next:null};var o={};return a.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:kn,lastRenderedState:o},next:null},n.memoizedState=a,n=n.alternate,n!==null&&(n.memoizedState=a),a}function im(n){var a=nm(n).next.queue;Ja(n,a,{},Xe())}function sh(){return Se(_l)}function sm(){return ie().memoizedState}function am(){return ie().memoizedState}function t1(n){for(var a=n.return;a!==null;){switch(a.tag){case 24:case 3:var o=Xe();n=si(o);var c=ai(a,n,o);c!==null&&(We(c,a,o),Xa(c,a,o)),a={cache:zu()},n.payload=a;return}a=a.return}}function e1(n,a,o){var c=Xe();o={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null},er(n)?om(a,o):(o=Tu(n,a,o,c),o!==null&&(We(o,n,c),rm(o,a,c)))}function lm(n,a,o){var c=Xe();Ja(n,a,o,c)}function Ja(n,a,o,c){var f={lane:c,revertLane:0,action:o,hasEagerState:!1,eagerState:null,next:null};if(er(n))om(a,f);else{var p=n.alternate;if(n.lanes===0&&(p===null||p.lanes===0)&&(p=a.lastRenderedReducer,p!==null))try{var y=a.lastRenderedState,v=p(y,o);if(f.hasEagerState=!0,f.eagerState=v,Ve(v,y))return Ho(n,a,f,0),Bt===null&&Bo(),!1}catch{}finally{}if(o=Tu(n,a,f,c),o!==null)return We(o,n,c),rm(o,a,c),!0}return!1}function ah(n,a,o,c){if(c={lane:2,revertLane:Bh(),action:c,hasEagerState:!1,eagerState:null,next:null},er(n)){if(a)throw Error(s(479))}else a=Tu(n,o,c,2),a!==null&&We(a,n,2)}function er(n){var a=n.alternate;return n===dt||a!==null&&a===dt}function om(n,a){Bs=Qo=!0;var o=n.pending;o===null?a.next=a:(a.next=o.next,o.next=a),n.pending=a}function rm(n,a,o){if((o&4194048)!==0){var c=a.lanes;c&=n.pendingLanes,o|=c,a.lanes=o,mg(n,o)}}var nr={readContext:Se,use:Zo,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useLayoutEffect:Jt,useInsertionEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useSyncExternalStore:Jt,useId:Jt,useHostTransitionStatus:Jt,useFormState:Jt,useActionState:Jt,useOptimistic:Jt,useMemoCache:Jt,useCacheRefresh:Jt},cm={readContext:Se,use:Zo,useCallback:function(n,a){return Oe().memoizedState=[n,a===void 0?null:a],n},useContext:Se,useEffect:Gp,useImperativeHandle:function(n,a,o){o=o!=null?o.concat([n]):null,tr(4194308,4,Kp.bind(null,a,n),o)},useLayoutEffect:function(n,a){return tr(4194308,4,n,a)},useInsertionEffect:function(n,a){tr(4,2,n,a)},useMemo:function(n,a){var o=Oe();a=a===void 0?null:a;var c=n();if(Xi){Jn(!0);try{n()}finally{Jn(!1)}}return o.memoizedState=[c,a],c},useReducer:function(n,a,o){var c=Oe();if(o!==void 0){var f=o(a);if(Xi){Jn(!0);try{o(a)}finally{Jn(!1)}}}else f=a;return c.memoizedState=c.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},c.queue=n,n=n.dispatch=e1.bind(null,dt,n),[c.memoizedState,n]},useRef:function(n){var a=Oe();return n={current:n},a.memoizedState=n},useState:function(n){n=Ju(n);var a=n.queue,o=lm.bind(null,dt,a);return a.dispatch=o,[n.memoizedState,o]},useDebugValue:eh,useDeferredValue:function(n,a){var o=Oe();return nh(o,n,a)},useTransition:function(){var n=Ju(!1);return n=em.bind(null,dt,n.queue,!0,!1),Oe().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,a,o){var c=dt,f=Oe();if(Mt){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),Bt===null)throw Error(s(349));(xt&124)!==0||Op(c,a,o)}f.memoizedState=o;var p={value:o,getSnapshot:a};return f.queue=p,Gp(Np.bind(null,c,p,n),[n]),c.flags|=2048,Us(9,Jo(),Rp.bind(null,c,p,o,a),null),o},useId:function(){var n=Oe(),a=Bt.identifierPrefix;if(Mt){var o=On,c=Dn;o=(c&~(1<<32-Pe(c)-1)).toString(32)+o,a="«"+a+"R"+o,o=Ko++,0<o&&(a+="H"+o.toString(32)),a+="»"}else o=Qx++,a="«"+a+"r"+o.toString(32)+"»";return n.memoizedState=a},useHostTransitionStatus:sh,useFormState:Pp,useActionState:Pp,useOptimistic:function(n){var a=Oe();a.memoizedState=a.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=o,a=ah.bind(null,dt,!0,o),o.dispatch=a,[n,a]},useMemoCache:Ku,useCacheRefresh:function(){return Oe().memoizedState=t1.bind(null,dt)}},um={readContext:Se,use:Zo,useCallback:$p,useContext:Se,useEffect:Xp,useImperativeHandle:Zp,useInsertionEffect:Wp,useLayoutEffect:Qp,useMemo:Jp,useReducer:$o,useRef:Fp,useState:function(){return $o(kn)},useDebugValue:eh,useDeferredValue:function(n,a){var o=ie();return tm(o,Nt.memoizedState,n,a)},useTransition:function(){var n=$o(kn)[0],a=ie().memoizedState;return[typeof n=="boolean"?n:Za(n),a]},useSyncExternalStore:Dp,useId:sm,useHostTransitionStatus:sh,useFormState:Vp,useActionState:Vp,useOptimistic:function(n,a){var o=ie();return Lp(o,Nt,n,a)},useMemoCache:Ku,useCacheRefresh:am},n1={readContext:Se,use:Zo,useCallback:$p,useContext:Se,useEffect:Xp,useImperativeHandle:Zp,useInsertionEffect:Wp,useLayoutEffect:Qp,useMemo:Jp,useReducer:$u,useRef:Fp,useState:function(){return $u(kn)},useDebugValue:eh,useDeferredValue:function(n,a){var o=ie();return Nt===null?nh(o,n,a):tm(o,Nt.memoizedState,n,a)},useTransition:function(){var n=$u(kn)[0],a=ie().memoizedState;return[typeof n=="boolean"?n:Za(n),a]},useSyncExternalStore:Dp,useId:sm,useHostTransitionStatus:sh,useFormState:qp,useActionState:qp,useOptimistic:function(n,a){var o=ie();return Nt!==null?Lp(o,Nt,n,a):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Ku,useCacheRefresh:am},js=null,tl=0;function ir(n){var a=tl;return tl+=1,js===null&&(js=[]),Sp(js,n,a)}function el(n,a){a=a.props.ref,n.ref=a!==void 0?a:null}function sr(n,a){throw a.$$typeof===_?Error(s(525)):(n=Object.prototype.toString.call(a),Error(s(31,n==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":n)))}function hm(n){var a=n._init;return a(n._payload)}function fm(n){function a(w,M){if(n){var O=w.deletions;O===null?(w.deletions=[M],w.flags|=16):O.push(M)}}function o(w,M){if(!n)return null;for(;M!==null;)a(w,M),M=M.sibling;return null}function c(w){for(var M=new Map;w!==null;)w.key!==null?M.set(w.key,w):M.set(w.index,w),w=w.sibling;return M}function f(w,M){return w=wn(w,M),w.index=0,w.sibling=null,w}function p(w,M,O){return w.index=O,n?(O=w.alternate,O!==null?(O=O.index,O<M?(w.flags|=67108866,M):O):(w.flags|=67108866,M)):(w.flags|=1048576,M)}function y(w){return n&&w.alternate===null&&(w.flags|=67108866),w}function v(w,M,O,B){return M===null||M.tag!==6?(M=Au(O,w.mode,B),M.return=w,M):(M=f(M,O),M.return=w,M)}function E(w,M,O,B){var $=O.type;return $===x?I(w,M,O.props.children,B,O.key):M!==null&&(M.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===G&&hm($)===M.type)?(M=f(M,O.props),el(M,O),M.return=w,M):(M=jo(O.type,O.key,O.props,null,w.mode,B),el(M,O),M.return=w,M)}function R(w,M,O,B){return M===null||M.tag!==4||M.stateNode.containerInfo!==O.containerInfo||M.stateNode.implementation!==O.implementation?(M=Mu(O,w.mode,B),M.return=w,M):(M=f(M,O.children||[]),M.return=w,M)}function I(w,M,O,B,$){return M===null||M.tag!==7?(M=Ui(O,w.mode,B,$),M.return=w,M):(M=f(M,O),M.return=w,M)}function j(w,M,O){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Au(""+M,w.mode,O),M.return=w,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case b:return O=jo(M.type,M.key,M.props,null,w.mode,O),el(O,M),O.return=w,O;case S:return M=Mu(M,w.mode,O),M.return=w,M;case G:var B=M._init;return M=B(M._payload),j(w,M,O)}if(q(M)||st(M))return M=Ui(M,w.mode,O,null),M.return=w,M;if(typeof M.then=="function")return j(w,ir(M),O);if(M.$$typeof===V)return j(w,qo(w,M),O);sr(w,M)}return null}function N(w,M,O,B){var $=M!==null?M.key:null;if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return $!==null?null:v(w,M,""+O,B);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case b:return O.key===$?E(w,M,O,B):null;case S:return O.key===$?R(w,M,O,B):null;case G:return $=O._init,O=$(O._payload),N(w,M,O,B)}if(q(O)||st(O))return $!==null?null:I(w,M,O,B,null);if(typeof O.then=="function")return N(w,M,ir(O),B);if(O.$$typeof===V)return N(w,M,qo(w,O),B);sr(w,O)}return null}function k(w,M,O,B,$){if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return w=w.get(O)||null,v(M,w,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case b:return w=w.get(B.key===null?O:B.key)||null,E(M,w,B,$);case S:return w=w.get(B.key===null?O:B.key)||null,R(M,w,B,$);case G:var pt=B._init;return B=pt(B._payload),k(w,M,O,B,$)}if(q(B)||st(B))return w=w.get(O)||null,I(M,w,B,$,null);if(typeof B.then=="function")return k(w,M,O,ir(B),$);if(B.$$typeof===V)return k(w,M,O,qo(M,B),$);sr(M,B)}return null}function ct(w,M,O,B){for(var $=null,pt=null,nt=M,rt=M=0,he=null;nt!==null&&rt<O.length;rt++){nt.index>rt?(he=nt,nt=null):he=nt.sibling;var Ct=N(w,nt,O[rt],B);if(Ct===null){nt===null&&(nt=he);break}n&&nt&&Ct.alternate===null&&a(w,nt),M=p(Ct,M,rt),pt===null?$=Ct:pt.sibling=Ct,pt=Ct,nt=he}if(rt===O.length)return o(w,nt),Mt&&Pi(w,rt),$;if(nt===null){for(;rt<O.length;rt++)nt=j(w,O[rt],B),nt!==null&&(M=p(nt,M,rt),pt===null?$=nt:pt.sibling=nt,pt=nt);return Mt&&Pi(w,rt),$}for(nt=c(nt);rt<O.length;rt++)he=k(nt,w,rt,O[rt],B),he!==null&&(n&&he.alternate!==null&&nt.delete(he.key===null?rt:he.key),M=p(he,M,rt),pt===null?$=he:pt.sibling=he,pt=he);return n&&nt.forEach(function(xi){return a(w,xi)}),Mt&&Pi(w,rt),$}function ot(w,M,O,B){if(O==null)throw Error(s(151));for(var $=null,pt=null,nt=M,rt=M=0,he=null,Ct=O.next();nt!==null&&!Ct.done;rt++,Ct=O.next()){nt.index>rt?(he=nt,nt=null):he=nt.sibling;var xi=N(w,nt,Ct.value,B);if(xi===null){nt===null&&(nt=he);break}n&&nt&&xi.alternate===null&&a(w,nt),M=p(xi,M,rt),pt===null?$=xi:pt.sibling=xi,pt=xi,nt=he}if(Ct.done)return o(w,nt),Mt&&Pi(w,rt),$;if(nt===null){for(;!Ct.done;rt++,Ct=O.next())Ct=j(w,Ct.value,B),Ct!==null&&(M=p(Ct,M,rt),pt===null?$=Ct:pt.sibling=Ct,pt=Ct);return Mt&&Pi(w,rt),$}for(nt=c(nt);!Ct.done;rt++,Ct=O.next())Ct=k(nt,w,rt,Ct.value,B),Ct!==null&&(n&&Ct.alternate!==null&&nt.delete(Ct.key===null?rt:Ct.key),M=p(Ct,M,rt),pt===null?$=Ct:pt.sibling=Ct,pt=Ct);return n&&nt.forEach(function(iE){return a(w,iE)}),Mt&&Pi(w,rt),$}function zt(w,M,O,B){if(typeof O=="object"&&O!==null&&O.type===x&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case b:t:{for(var $=O.key;M!==null;){if(M.key===$){if($=O.type,$===x){if(M.tag===7){o(w,M.sibling),B=f(M,O.props.children),B.return=w,w=B;break t}}else if(M.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===G&&hm($)===M.type){o(w,M.sibling),B=f(M,O.props),el(B,O),B.return=w,w=B;break t}o(w,M);break}else a(w,M);M=M.sibling}O.type===x?(B=Ui(O.props.children,w.mode,B,O.key),B.return=w,w=B):(B=jo(O.type,O.key,O.props,null,w.mode,B),el(B,O),B.return=w,w=B)}return y(w);case S:t:{for($=O.key;M!==null;){if(M.key===$)if(M.tag===4&&M.stateNode.containerInfo===O.containerInfo&&M.stateNode.implementation===O.implementation){o(w,M.sibling),B=f(M,O.children||[]),B.return=w,w=B;break t}else{o(w,M);break}else a(w,M);M=M.sibling}B=Mu(O,w.mode,B),B.return=w,w=B}return y(w);case G:return $=O._init,O=$(O._payload),zt(w,M,O,B)}if(q(O))return ct(w,M,O,B);if(st(O)){if($=st(O),typeof $!="function")throw Error(s(150));return O=$.call(O),ot(w,M,O,B)}if(typeof O.then=="function")return zt(w,M,ir(O),B);if(O.$$typeof===V)return zt(w,M,qo(w,O),B);sr(w,O)}return typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint"?(O=""+O,M!==null&&M.tag===6?(o(w,M.sibling),B=f(M,O),B.return=w,w=B):(o(w,M),B=Au(O,w.mode,B),B.return=w,w=B),y(w)):o(w,M)}return function(w,M,O,B){try{tl=0;var $=zt(w,M,O,B);return js=null,$}catch(nt){if(nt===Fa||nt===Go)throw nt;var pt=Ye(29,nt,null,w.mode);return pt.lanes=B,pt.return=w,pt}finally{}}}var Ps=fm(!0),dm=fm(!1),en=H(null),yn=null;function oi(n){var a=n.alternate;Q(ae,ae.current&1),Q(en,n),yn===null&&(a===null||Is.current!==null||a.memoizedState!==null)&&(yn=n)}function gm(n){if(n.tag===22){if(Q(ae,ae.current),Q(en,n),yn===null){var a=n.alternate;a!==null&&a.memoizedState!==null&&(yn=n)}}else ri()}function ri(){Q(ae,ae.current),Q(en,en.current)}function zn(n){K(en),yn===n&&(yn=null),K(ae)}var ae=H(0);function ar(n){for(var a=n;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||Qh(o)))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}function lh(n,a,o,c){a=n.memoizedState,o=o(c,a),o=o==null?a:m({},a,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var oh={enqueueSetState:function(n,a,o){n=n._reactInternals;var c=Xe(),f=si(c);f.payload=a,o!=null&&(f.callback=o),a=ai(n,f,c),a!==null&&(We(a,n,c),Xa(a,n,c))},enqueueReplaceState:function(n,a,o){n=n._reactInternals;var c=Xe(),f=si(c);f.tag=1,f.payload=a,o!=null&&(f.callback=o),a=ai(n,f,c),a!==null&&(We(a,n,c),Xa(a,n,c))},enqueueForceUpdate:function(n,a){n=n._reactInternals;var o=Xe(),c=si(o);c.tag=2,a!=null&&(c.callback=a),a=ai(n,c,o),a!==null&&(We(a,n,o),Xa(a,n,o))}};function pm(n,a,o,c,f,p,y){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(c,p,y):a.prototype&&a.prototype.isPureReactComponent?!Ba(o,c)||!Ba(f,p):!0}function mm(n,a,o,c){n=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,c),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,c),a.state!==n&&oh.enqueueReplaceState(a,a.state,null)}function Wi(n,a){var o=a;if("ref"in a){o={};for(var c in a)c!=="ref"&&(o[c]=a[c])}if(n=n.defaultProps){o===a&&(o=m({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}var lr=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)};function _m(n){lr(n)}function ym(n){console.error(n)}function bm(n){lr(n)}function or(n,a){try{var o=n.onUncaughtError;o(a.value,{componentStack:a.stack})}catch(c){setTimeout(function(){throw c})}}function vm(n,a,o){try{var c=n.onCaughtError;c(o.value,{componentStack:o.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function rh(n,a,o){return o=si(o),o.tag=3,o.payload={element:null},o.callback=function(){or(n,a)},o}function Sm(n){return n=si(n),n.tag=3,n}function xm(n,a,o,c){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var p=c.value;n.payload=function(){return f(p)},n.callback=function(){vm(a,o,c)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(n.callback=function(){vm(a,o,c),typeof f!="function"&&(gi===null?gi=new Set([this]):gi.add(this));var v=c.stack;this.componentDidCatch(c.value,{componentStack:v!==null?v:""})})}function i1(n,a,o,c,f){if(o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){if(a=o.alternate,a!==null&&Va(a,o,f,!0),o=en.current,o!==null){switch(o.tag){case 13:return yn===null?Nh():o.alternate===null&&Wt===0&&(Wt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,c===Bu?o.flags|=16384:(a=o.updateQueue,a===null?o.updateQueue=new Set([c]):a.add(c),zh(n,c,f)),!1;case 22:return o.flags|=65536,c===Bu?o.flags|=16384:(a=o.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([c])},o.updateQueue=a):(o=a.retryQueue,o===null?a.retryQueue=new Set([c]):o.add(c)),zh(n,c,f)),!1}throw Error(s(435,o.tag))}return zh(n,c,f),Nh(),!1}if(Mt)return a=en.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=f,c!==Ou&&(n=Error(s(422),{cause:c}),Pa(Ze(n,o)))):(c!==Ou&&(a=Error(s(423),{cause:c}),Pa(Ze(a,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,c=Ze(c,o),f=rh(n.stateNode,c,f),ju(n,f),Wt!==4&&(Wt=2)),!1;var p=Error(s(520),{cause:c});if(p=Ze(p,o),rl===null?rl=[p]:rl.push(p),Wt!==4&&(Wt=2),a===null)return!0;c=Ze(c,o),o=a;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=rh(o.stateNode,c,n),ju(o,n),!1;case 1:if(a=o.type,p=o.stateNode,(o.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(gi===null||!gi.has(p))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Sm(f),xm(f,n,o,c),ju(o,f),!1}o=o.return}while(o!==null);return!1}var Em=Error(s(461)),ce=!1;function me(n,a,o,c){a.child=n===null?dm(a,null,o,c):Ps(a,n.child,o,c)}function Tm(n,a,o,c,f){o=o.render;var p=a.ref;if("ref"in c){var y={};for(var v in c)v!=="ref"&&(y[v]=c[v])}else y=c;return Fi(a),c=Fu(n,a,o,y,p,f),v=Gu(),n!==null&&!ce?(Xu(n,a,f),Ln(n,a,f)):(Mt&&v&&wu(a),a.flags|=1,me(n,a,c,f),a.child)}function Cm(n,a,o,c,f){if(n===null){var p=o.type;return typeof p=="function"&&!Cu(p)&&p.defaultProps===void 0&&o.compare===null?(a.tag=15,a.type=p,Am(n,a,p,c,f)):(n=jo(o.type,null,c,a,a.mode,f),n.ref=a.ref,n.return=a,a.child=n)}if(p=n.child,!mh(n,f)){var y=p.memoizedProps;if(o=o.compare,o=o!==null?o:Ba,o(y,c)&&n.ref===a.ref)return Ln(n,a,f)}return a.flags|=1,n=wn(p,c),n.ref=a.ref,n.return=a,a.child=n}function Am(n,a,o,c,f){if(n!==null){var p=n.memoizedProps;if(Ba(p,c)&&n.ref===a.ref)if(ce=!1,a.pendingProps=c=p,mh(n,f))(n.flags&131072)!==0&&(ce=!0);else return a.lanes=n.lanes,Ln(n,a,f)}return ch(n,a,o,c,f)}function Mm(n,a,o){var c=a.pendingProps,f=c.children,p=n!==null?n.memoizedState:null;if(c.mode==="hidden"){if((a.flags&128)!==0){if(c=p!==null?p.baseLanes|o:o,n!==null){for(f=a.child=n.child,p=0;f!==null;)p=p|f.lanes|f.childLanes,f=f.sibling;a.childLanes=p&~c}else a.childLanes=0,a.child=null;return wm(n,a,c,o)}if((o&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},n!==null&&Fo(a,p!==null?p.cachePool:null),p!==null?Ap(a,p):Vu(),gm(a);else return a.lanes=a.childLanes=536870912,wm(n,a,p!==null?p.baseLanes|o:o,o)}else p!==null?(Fo(a,p.cachePool),Ap(a,p),ri(),a.memoizedState=null):(n!==null&&Fo(a,null),Vu(),ri());return me(n,a,f,o),a.child}function wm(n,a,o,c){var f=Iu();return f=f===null?null:{parent:se._currentValue,pool:f},a.memoizedState={baseLanes:o,cachePool:f},n!==null&&Fo(a,null),Vu(),gm(a),n!==null&&Va(n,a,c,!0),null}function rr(n,a){var o=a.ref;if(o===null)n!==null&&n.ref!==null&&(a.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(s(284));(n===null||n.ref!==o)&&(a.flags|=4194816)}}function ch(n,a,o,c,f){return Fi(a),o=Fu(n,a,o,c,void 0,f),c=Gu(),n!==null&&!ce?(Xu(n,a,f),Ln(n,a,f)):(Mt&&c&&wu(a),a.flags|=1,me(n,a,o,f),a.child)}function Dm(n,a,o,c,f,p){return Fi(a),a.updateQueue=null,o=wp(a,c,o,f),Mp(n),c=Gu(),n!==null&&!ce?(Xu(n,a,p),Ln(n,a,p)):(Mt&&c&&wu(a),a.flags|=1,me(n,a,o,p),a.child)}function Om(n,a,o,c,f){if(Fi(a),a.stateNode===null){var p=Rs,y=o.contextType;typeof y=="object"&&y!==null&&(p=Se(y)),p=new o(c,p),a.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=oh,a.stateNode=p,p._reactInternals=a,p=a.stateNode,p.props=c,p.state=a.memoizedState,p.refs={},Hu(a),y=o.contextType,p.context=typeof y=="object"&&y!==null?Se(y):Rs,p.state=a.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(lh(a,o,y,c),p.state=a.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(y=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),y!==p.state&&oh.enqueueReplaceState(p,p.state,null),Qa(a,c,p,f),Wa(),p.state=a.memoizedState),typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!0}else if(n===null){p=a.stateNode;var v=a.memoizedProps,E=Wi(o,v);p.props=E;var R=p.context,I=o.contextType;y=Rs,typeof I=="object"&&I!==null&&(y=Se(I));var j=o.getDerivedStateFromProps;I=typeof j=="function"||typeof p.getSnapshotBeforeUpdate=="function",v=a.pendingProps!==v,I||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v||R!==y)&&mm(a,p,c,y),ii=!1;var N=a.memoizedState;p.state=N,Qa(a,c,p,f),Wa(),R=a.memoizedState,v||N!==R||ii?(typeof j=="function"&&(lh(a,o,j,c),R=a.memoizedState),(E=ii||pm(a,o,E,c,N,R,y))?(I||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(a.flags|=4194308)):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=c,a.memoizedState=R),p.props=c,p.state=R,p.context=y,c=E):(typeof p.componentDidMount=="function"&&(a.flags|=4194308),c=!1)}else{p=a.stateNode,Uu(n,a),y=a.memoizedProps,I=Wi(o,y),p.props=I,j=a.pendingProps,N=p.context,R=o.contextType,E=Rs,typeof R=="object"&&R!==null&&(E=Se(R)),v=o.getDerivedStateFromProps,(R=typeof v=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(y!==j||N!==E)&&mm(a,p,c,E),ii=!1,N=a.memoizedState,p.state=N,Qa(a,c,p,f),Wa();var k=a.memoizedState;y!==j||N!==k||ii||n!==null&&n.dependencies!==null&&Yo(n.dependencies)?(typeof v=="function"&&(lh(a,o,v,c),k=a.memoizedState),(I=ii||pm(a,o,I,c,N,k,E)||n!==null&&n.dependencies!==null&&Yo(n.dependencies))?(R||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(c,k,E),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(c,k,E)),typeof p.componentDidUpdate=="function"&&(a.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof p.componentDidUpdate!="function"||y===n.memoizedProps&&N===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&N===n.memoizedState||(a.flags|=1024),a.memoizedProps=c,a.memoizedState=k),p.props=c,p.state=k,p.context=E,c=I):(typeof p.componentDidUpdate!="function"||y===n.memoizedProps&&N===n.memoizedState||(a.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||y===n.memoizedProps&&N===n.memoizedState||(a.flags|=1024),c=!1)}return p=c,rr(n,a),c=(a.flags&128)!==0,p||c?(p=a.stateNode,o=c&&typeof o.getDerivedStateFromError!="function"?null:p.render(),a.flags|=1,n!==null&&c?(a.child=Ps(a,n.child,null,f),a.child=Ps(a,null,o,f)):me(n,a,o,f),a.memoizedState=p.state,n=a.child):n=Ln(n,a,f),n}function Rm(n,a,o,c){return ja(),a.flags|=256,me(n,a,o,c),a.child}var uh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function hh(n){return{baseLanes:n,cachePool:yp()}}function fh(n,a,o){return n=n!==null?n.childLanes&~o:0,a&&(n|=nn),n}function Nm(n,a,o){var c=a.pendingProps,f=!1,p=(a.flags&128)!==0,y;if((y=p)||(y=n!==null&&n.memoizedState===null?!1:(ae.current&2)!==0),y&&(f=!0,a.flags&=-129),y=(a.flags&32)!==0,a.flags&=-33,n===null){if(Mt){if(f?oi(a):ri(),Mt){var v=Xt,E;if(E=v){t:{for(E=v,v=_n;E.nodeType!==8;){if(!v){v=null;break t}if(E=hn(E.nextSibling),E===null){v=null;break t}}v=E}v!==null?(a.memoizedState={dehydrated:v,treeContext:ji!==null?{id:Dn,overflow:On}:null,retryLane:536870912,hydrationErrors:null},E=Ye(18,null,null,0),E.stateNode=v,E.return=a,a.child=E,Ae=a,Xt=null,E=!0):E=!1}E||Yi(a)}if(v=a.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return Qh(v)?a.lanes=32:a.lanes=536870912,null;zn(a)}return v=c.children,c=c.fallback,f?(ri(),f=a.mode,v=cr({mode:"hidden",children:v},f),c=Ui(c,f,o,null),v.return=a,c.return=a,v.sibling=c,a.child=v,f=a.child,f.memoizedState=hh(o),f.childLanes=fh(n,y,o),a.memoizedState=uh,c):(oi(a),dh(a,v))}if(E=n.memoizedState,E!==null&&(v=E.dehydrated,v!==null)){if(p)a.flags&256?(oi(a),a.flags&=-257,a=gh(n,a,o)):a.memoizedState!==null?(ri(),a.child=n.child,a.flags|=128,a=null):(ri(),f=c.fallback,v=a.mode,c=cr({mode:"visible",children:c.children},v),f=Ui(f,v,o,null),f.flags|=2,c.return=a,f.return=a,c.sibling=f,a.child=c,Ps(a,n.child,null,o),c=a.child,c.memoizedState=hh(o),c.childLanes=fh(n,y,o),a.memoizedState=uh,a=f);else if(oi(a),Qh(v)){if(y=v.nextSibling&&v.nextSibling.dataset,y)var R=y.dgst;y=R,c=Error(s(419)),c.stack="",c.digest=y,Pa({value:c,source:null,stack:null}),a=gh(n,a,o)}else if(ce||Va(n,a,o,!1),y=(o&n.childLanes)!==0,ce||y){if(y=Bt,y!==null&&(c=o&-o,c=(c&42)!==0?1:Kc(c),c=(c&(y.suspendedLanes|o))!==0?0:c,c!==0&&c!==E.retryLane))throw E.retryLane=c,Os(n,c),We(y,n,c),Em;v.data==="$?"||Nh(),a=gh(n,a,o)}else v.data==="$?"?(a.flags|=192,a.child=n.child,a=null):(n=E.treeContext,Xt=hn(v.nextSibling),Ae=a,Mt=!0,Vi=null,_n=!1,n!==null&&(Je[tn++]=Dn,Je[tn++]=On,Je[tn++]=ji,Dn=n.id,On=n.overflow,ji=a),a=dh(a,c.children),a.flags|=4096);return a}return f?(ri(),f=c.fallback,v=a.mode,E=n.child,R=E.sibling,c=wn(E,{mode:"hidden",children:c.children}),c.subtreeFlags=E.subtreeFlags&65011712,R!==null?f=wn(R,f):(f=Ui(f,v,o,null),f.flags|=2),f.return=a,c.return=a,c.sibling=f,a.child=c,c=f,f=a.child,v=n.child.memoizedState,v===null?v=hh(o):(E=v.cachePool,E!==null?(R=se._currentValue,E=E.parent!==R?{parent:R,pool:R}:E):E=yp(),v={baseLanes:v.baseLanes|o,cachePool:E}),f.memoizedState=v,f.childLanes=fh(n,y,o),a.memoizedState=uh,c):(oi(a),o=n.child,n=o.sibling,o=wn(o,{mode:"visible",children:c.children}),o.return=a,o.sibling=null,n!==null&&(y=a.deletions,y===null?(a.deletions=[n],a.flags|=16):y.push(n)),a.child=o,a.memoizedState=null,o)}function dh(n,a){return a=cr({mode:"visible",children:a},n.mode),a.return=n,n.child=a}function cr(n,a){return n=Ye(22,n,null,a),n.lanes=0,n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},n}function gh(n,a,o){return Ps(a,n.child,null,o),n=dh(a,a.pendingProps.children),n.flags|=2,a.memoizedState=null,n}function km(n,a,o){n.lanes|=a;var c=n.alternate;c!==null&&(c.lanes|=a),Nu(n.return,a,o)}function ph(n,a,o,c,f){var p=n.memoizedState;p===null?n.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:f}:(p.isBackwards=a,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=f)}function zm(n,a,o){var c=a.pendingProps,f=c.revealOrder,p=c.tail;if(me(n,a,c.children,o),c=ae.current,(c&2)!==0)c=c&1|2,a.flags|=128;else{if(n!==null&&(n.flags&128)!==0)t:for(n=a.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&km(n,o,a);else if(n.tag===19)km(n,o,a);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===a)break t;for(;n.sibling===null;){if(n.return===null||n.return===a)break t;n=n.return}n.sibling.return=n.return,n=n.sibling}c&=1}switch(Q(ae,c),f){case"forwards":for(o=a.child,f=null;o!==null;)n=o.alternate,n!==null&&ar(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),ph(a,!1,f,o,p);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(n=f.alternate,n!==null&&ar(n)===null){a.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}ph(a,!0,o,null,p);break;case"together":ph(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function Ln(n,a,o){if(n!==null&&(a.dependencies=n.dependencies),di|=a.lanes,(o&a.childLanes)===0)if(n!==null){if(Va(n,a,o,!1),(o&a.childLanes)===0)return null}else return null;if(n!==null&&a.child!==n.child)throw Error(s(153));if(a.child!==null){for(n=a.child,o=wn(n,n.pendingProps),a.child=o,o.return=a;n.sibling!==null;)n=n.sibling,o=o.sibling=wn(n,n.pendingProps),o.return=a;o.sibling=null}return a.child}function mh(n,a){return(n.lanes&a)!==0?!0:(n=n.dependencies,!!(n!==null&&Yo(n)))}function s1(n,a,o){switch(a.tag){case 3:qt(a,a.stateNode.containerInfo),ni(a,se,n.memoizedState.cache),ja();break;case 27:case 5:Fc(a);break;case 4:qt(a,a.stateNode.containerInfo);break;case 10:ni(a,a.type,a.memoizedProps.value);break;case 13:var c=a.memoizedState;if(c!==null)return c.dehydrated!==null?(oi(a),a.flags|=128,null):(o&a.child.childLanes)!==0?Nm(n,a,o):(oi(a),n=Ln(n,a,o),n!==null?n.sibling:null);oi(a);break;case 19:var f=(n.flags&128)!==0;if(c=(o&a.childLanes)!==0,c||(Va(n,a,o,!1),c=(o&a.childLanes)!==0),f){if(c)return zm(n,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Q(ae,ae.current),c)break;return null;case 22:case 23:return a.lanes=0,Mm(n,a,o);case 24:ni(a,se,n.memoizedState.cache)}return Ln(n,a,o)}function Lm(n,a,o){if(n!==null)if(n.memoizedProps!==a.pendingProps)ce=!0;else{if(!mh(n,o)&&(a.flags&128)===0)return ce=!1,s1(n,a,o);ce=(n.flags&131072)!==0}else ce=!1,Mt&&(a.flags&1048576)!==0&&hp(a,Vo,a.index);switch(a.lanes=0,a.tag){case 16:t:{n=a.pendingProps;var c=a.elementType,f=c._init;if(c=f(c._payload),a.type=c,typeof c=="function")Cu(c)?(n=Wi(c,n),a.tag=1,a=Om(null,a,c,n,o)):(a.tag=0,a=ch(null,a,c,n,o));else{if(c!=null){if(f=c.$$typeof,f===Y){a.tag=11,a=Tm(null,a,c,n,o);break t}else if(f===X){a.tag=14,a=Cm(null,a,c,n,o);break t}}throw a=Pt(c)||c,Error(s(306,a,""))}}return a;case 0:return ch(n,a,a.type,a.pendingProps,o);case 1:return c=a.type,f=Wi(c,a.pendingProps),Om(n,a,c,f,o);case 3:t:{if(qt(a,a.stateNode.containerInfo),n===null)throw Error(s(387));c=a.pendingProps;var p=a.memoizedState;f=p.element,Uu(n,a),Qa(a,c,null,o);var y=a.memoizedState;if(c=y.cache,ni(a,se,c),c!==p.cache&&ku(a,[se],o,!0),Wa(),c=y.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:y.cache},a.updateQueue.baseState=p,a.memoizedState=p,a.flags&256){a=Rm(n,a,c,o);break t}else if(c!==f){f=Ze(Error(s(424)),a),Pa(f),a=Rm(n,a,c,o);break t}else{switch(n=a.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(Xt=hn(n.firstChild),Ae=a,Mt=!0,Vi=null,_n=!0,o=dm(a,null,c,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ja(),c===f){a=Ln(n,a,o);break t}me(n,a,c,o)}a=a.child}return a;case 26:return rr(n,a),n===null?(o=U_(a.type,null,a.pendingProps,null))?a.memoizedState=o:Mt||(o=a.type,n=a.pendingProps,c=Er(lt.current).createElement(o),c[ve]=a,c[we]=n,ye(c,o,n),re(c),a.stateNode=c):a.memoizedState=U_(a.type,n.memoizedProps,a.pendingProps,n.memoizedState),null;case 27:return Fc(a),n===null&&Mt&&(c=a.stateNode=I_(a.type,a.pendingProps,lt.current),Ae=a,_n=!0,f=Xt,_i(a.type)?(Kh=f,Xt=hn(c.firstChild)):Xt=f),me(n,a,a.pendingProps.children,o),rr(n,a),n===null&&(a.flags|=4194304),a.child;case 5:return n===null&&Mt&&((f=c=Xt)&&(c=N1(c,a.type,a.pendingProps,_n),c!==null?(a.stateNode=c,Ae=a,Xt=hn(c.firstChild),_n=!1,f=!0):f=!1),f||Yi(a)),Fc(a),f=a.type,p=a.pendingProps,y=n!==null?n.memoizedProps:null,c=p.children,Gh(f,p)?c=null:y!==null&&Gh(f,y)&&(a.flags|=32),a.memoizedState!==null&&(f=Fu(n,a,Kx,null,null,o),_l._currentValue=f),rr(n,a),me(n,a,c,o),a.child;case 6:return n===null&&Mt&&((n=o=Xt)&&(o=k1(o,a.pendingProps,_n),o!==null?(a.stateNode=o,Ae=a,Xt=null,n=!0):n=!1),n||Yi(a)),null;case 13:return Nm(n,a,o);case 4:return qt(a,a.stateNode.containerInfo),c=a.pendingProps,n===null?a.child=Ps(a,null,c,o):me(n,a,c,o),a.child;case 11:return Tm(n,a,a.type,a.pendingProps,o);case 7:return me(n,a,a.pendingProps,o),a.child;case 8:return me(n,a,a.pendingProps.children,o),a.child;case 12:return me(n,a,a.pendingProps.children,o),a.child;case 10:return c=a.pendingProps,ni(a,a.type,c.value),me(n,a,c.children,o),a.child;case 9:return f=a.type._context,c=a.pendingProps.children,Fi(a),f=Se(f),c=c(f),a.flags|=1,me(n,a,c,o),a.child;case 14:return Cm(n,a,a.type,a.pendingProps,o);case 15:return Am(n,a,a.type,a.pendingProps,o);case 19:return zm(n,a,o);case 31:return c=a.pendingProps,o=a.mode,c={mode:c.mode,children:c.children},n===null?(o=cr(c,o),o.ref=a.ref,a.child=o,o.return=a,a=o):(o=wn(n.child,c),o.ref=a.ref,a.child=o,o.return=a,a=o),a;case 22:return Mm(n,a,o);case 24:return Fi(a),c=Se(se),n===null?(f=Iu(),f===null&&(f=Bt,p=zu(),f.pooledCache=p,p.refCount++,p!==null&&(f.pooledCacheLanes|=o),f=p),a.memoizedState={parent:c,cache:f},Hu(a),ni(a,se,f)):((n.lanes&o)!==0&&(Uu(n,a),Qa(a,null,null,o),Wa()),f=n.memoizedState,p=a.memoizedState,f.parent!==c?(f={parent:c,cache:c},a.memoizedState=f,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=f),ni(a,se,c)):(c=p.cache,ni(a,se,c),c!==f.cache&&ku(a,[se],o,!0))),me(n,a,a.pendingProps.children,o),a.child;case 29:throw a.pendingProps}throw Error(s(156,a.tag))}function In(n){n.flags|=4}function Im(n,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!q_(a)){if(a=en.current,a!==null&&((xt&4194048)===xt?yn!==null:(xt&62914560)!==xt&&(xt&536870912)===0||a!==yn))throw Ga=Bu,bp;n.flags|=8192}}function ur(n,a){a!==null&&(n.flags|=4),n.flags&16384&&(a=n.tag!==22?gg():536870912,n.lanes|=a,Fs|=a)}function nl(n,a){if(!Mt)switch(n.tailMode){case"hidden":a=n.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?a||n.tail===null?n.tail=null:n.tail.sibling=null:c.sibling=null}}function Gt(n){var a=n.alternate!==null&&n.alternate.child===n.child,o=0,c=0;if(a)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags&65011712,c|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,c|=f.subtreeFlags,c|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=c,n.childLanes=o,a}function a1(n,a,o){var c=a.pendingProps;switch(Du(a),a.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gt(a),null;case 1:return Gt(a),null;case 3:return o=a.stateNode,c=null,n!==null&&(c=n.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Nn(se),$n(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(Ua(a)?In(a):n===null||n.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,gp())),Gt(a),null;case 26:return o=a.memoizedState,n===null?(In(a),o!==null?(Gt(a),Im(a,o)):(Gt(a),a.flags&=-16777217)):o?o!==n.memoizedState?(In(a),Gt(a),Im(a,o)):(Gt(a),a.flags&=-16777217):(n.memoizedProps!==c&&In(a),Gt(a),a.flags&=-16777217),null;case 27:So(a),o=lt.current;var f=a.type;if(n!==null&&a.stateNode!=null)n.memoizedProps!==c&&In(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Gt(a),null}n=tt.current,Ua(a)?fp(a):(n=I_(f,c,o),a.stateNode=n,In(a))}return Gt(a),null;case 5:if(So(a),o=a.type,n!==null&&a.stateNode!=null)n.memoizedProps!==c&&In(a);else{if(!c){if(a.stateNode===null)throw Error(s(166));return Gt(a),null}if(n=tt.current,Ua(a))fp(a);else{switch(f=Er(lt.current),n){case 1:n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":n=f.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":n=f.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":n=f.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild);break;case"select":n=typeof c.is=="string"?f.createElement("select",{is:c.is}):f.createElement("select"),c.multiple?n.multiple=!0:c.size&&(n.size=c.size);break;default:n=typeof c.is=="string"?f.createElement(o,{is:c.is}):f.createElement(o)}}n[ve]=a,n[we]=c;t:for(f=a.child;f!==null;){if(f.tag===5||f.tag===6)n.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===a)break t;for(;f.sibling===null;){if(f.return===null||f.return===a)break t;f=f.return}f.sibling.return=f.return,f=f.sibling}a.stateNode=n;t:switch(ye(n,o,c),o){case"button":case"input":case"select":case"textarea":n=!!c.autoFocus;break t;case"img":n=!0;break t;default:n=!1}n&&In(a)}}return Gt(a),a.flags&=-16777217,null;case 6:if(n&&a.stateNode!=null)n.memoizedProps!==c&&In(a);else{if(typeof c!="string"&&a.stateNode===null)throw Error(s(166));if(n=lt.current,Ua(a)){if(n=a.stateNode,o=a.memoizedProps,c=null,f=Ae,f!==null)switch(f.tag){case 27:case 5:c=f.memoizedProps}n[ve]=a,n=!!(n.nodeValue===o||c!==null&&c.suppressHydrationWarning===!0||D_(n.nodeValue,o)),n||Yi(a)}else n=Er(n).createTextNode(c),n[ve]=a,a.stateNode=n}return Gt(a),null;case 13:if(c=a.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=Ua(a),c!==null&&c.dehydrated!==null){if(n===null){if(!f)throw Error(s(318));if(f=a.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[ve]=a}else ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Gt(a),f=!1}else f=gp(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return a.flags&256?(zn(a),a):(zn(a),null)}if(zn(a),(a.flags&128)!==0)return a.lanes=o,a;if(o=c!==null,n=n!==null&&n.memoizedState!==null,o){c=a.child,f=null,c.alternate!==null&&c.alternate.memoizedState!==null&&c.alternate.memoizedState.cachePool!==null&&(f=c.alternate.memoizedState.cachePool.pool);var p=null;c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),p!==f&&(c.flags|=2048)}return o!==n&&o&&(a.child.flags|=8192),ur(a,a.updateQueue),Gt(a),null;case 4:return $n(),n===null&&Ph(a.stateNode.containerInfo),Gt(a),null;case 10:return Nn(a.type),Gt(a),null;case 19:if(K(ae),f=a.memoizedState,f===null)return Gt(a),null;if(c=(a.flags&128)!==0,p=f.rendering,p===null)if(c)nl(f,!1);else{if(Wt!==0||n!==null&&(n.flags&128)!==0)for(n=a.child;n!==null;){if(p=ar(n),p!==null){for(a.flags|=128,nl(f,!1),n=p.updateQueue,a.updateQueue=n,ur(a,n),a.subtreeFlags=0,n=o,o=a.child;o!==null;)up(o,n),o=o.sibling;return Q(ae,ae.current&1|2),a.child}n=n.sibling}f.tail!==null&&mn()>dr&&(a.flags|=128,c=!0,nl(f,!1),a.lanes=4194304)}else{if(!c)if(n=ar(p),n!==null){if(a.flags|=128,c=!0,n=n.updateQueue,a.updateQueue=n,ur(a,n),nl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!p.alternate&&!Mt)return Gt(a),null}else 2*mn()-f.renderingStartTime>dr&&o!==536870912&&(a.flags|=128,c=!0,nl(f,!1),a.lanes=4194304);f.isBackwards?(p.sibling=a.child,a.child=p):(n=f.last,n!==null?n.sibling=p:a.child=p,f.last=p)}return f.tail!==null?(a=f.tail,f.rendering=a,f.tail=a.sibling,f.renderingStartTime=mn(),a.sibling=null,n=ae.current,Q(ae,c?n&1|2:n&1),a):(Gt(a),null);case 22:case 23:return zn(a),Yu(),c=a.memoizedState!==null,n!==null?n.memoizedState!==null!==c&&(a.flags|=8192):c&&(a.flags|=8192),c?(o&536870912)!==0&&(a.flags&128)===0&&(Gt(a),a.subtreeFlags&6&&(a.flags|=8192)):Gt(a),o=a.updateQueue,o!==null&&ur(a,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),c=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(c=a.memoizedState.cachePool.pool),c!==o&&(a.flags|=2048),n!==null&&K(Gi),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),a.memoizedState.cache!==o&&(a.flags|=2048),Nn(se),Gt(a),null;case 25:return null;case 30:return null}throw Error(s(156,a.tag))}function l1(n,a){switch(Du(a),a.tag){case 1:return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 3:return Nn(se),$n(),n=a.flags,(n&65536)!==0&&(n&128)===0?(a.flags=n&-65537|128,a):null;case 26:case 27:case 5:return So(a),null;case 13:if(zn(a),n=a.memoizedState,n!==null&&n.dehydrated!==null){if(a.alternate===null)throw Error(s(340));ja()}return n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 19:return K(ae),null;case 4:return $n(),null;case 10:return Nn(a.type),null;case 22:case 23:return zn(a),Yu(),n!==null&&K(Gi),n=a.flags,n&65536?(a.flags=n&-65537|128,a):null;case 24:return Nn(se),null;case 25:return null;default:return null}}function Bm(n,a){switch(Du(a),a.tag){case 3:Nn(se),$n();break;case 26:case 27:case 5:So(a);break;case 4:$n();break;case 13:zn(a);break;case 19:K(ae);break;case 10:Nn(a.type);break;case 22:case 23:zn(a),Yu(),n!==null&&K(Gi);break;case 24:Nn(se)}}function il(n,a){try{var o=a.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&n)===n){c=void 0;var p=o.create,y=o.inst;c=p(),y.destroy=c}o=o.next}while(o!==f)}}catch(v){Lt(a,a.return,v)}}function ci(n,a,o){try{var c=a.updateQueue,f=c!==null?c.lastEffect:null;if(f!==null){var p=f.next;c=p;do{if((c.tag&n)===n){var y=c.inst,v=y.destroy;if(v!==void 0){y.destroy=void 0,f=a;var E=o,R=v;try{R()}catch(I){Lt(f,E,I)}}}c=c.next}while(c!==p)}}catch(I){Lt(a,a.return,I)}}function Hm(n){var a=n.updateQueue;if(a!==null){var o=n.stateNode;try{Cp(a,o)}catch(c){Lt(n,n.return,c)}}}function Um(n,a,o){o.props=Wi(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(c){Lt(n,a,c)}}function sl(n,a){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var c=n.stateNode;break;case 30:c=n.stateNode;break;default:c=n.stateNode}typeof o=="function"?n.refCleanup=o(c):o.current=c}}catch(f){Lt(n,a,f)}}function bn(n,a){var o=n.ref,c=n.refCleanup;if(o!==null)if(typeof c=="function")try{c()}catch(f){Lt(n,a,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){Lt(n,a,f)}else o.current=null}function jm(n){var a=n.type,o=n.memoizedProps,c=n.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":o.autoFocus&&c.focus();break t;case"img":o.src?c.src=o.src:o.srcSet&&(c.srcset=o.srcSet)}}catch(f){Lt(n,n.return,f)}}function _h(n,a,o){try{var c=n.stateNode;M1(c,n.type,o,a),c[we]=a}catch(f){Lt(n,n.return,f)}}function Pm(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&_i(n.type)||n.tag===4}function yh(n){t:for(;;){for(;n.sibling===null;){if(n.return===null||Pm(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&_i(n.type)||n.flags&2||n.child===null||n.tag===4)continue t;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function bh(n,a,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,a):(a=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,a.appendChild(n),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=xr));else if(c!==4&&(c===27&&_i(n.type)&&(o=n.stateNode,a=null),n=n.child,n!==null))for(bh(n,a,o),n=n.sibling;n!==null;)bh(n,a,o),n=n.sibling}function hr(n,a,o){var c=n.tag;if(c===5||c===6)n=n.stateNode,a?o.insertBefore(n,a):o.appendChild(n);else if(c!==4&&(c===27&&_i(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(hr(n,a,o),n=n.sibling;n!==null;)hr(n,a,o),n=n.sibling}function Vm(n){var a=n.stateNode,o=n.memoizedProps;try{for(var c=n.type,f=a.attributes;f.length;)a.removeAttributeNode(f[0]);ye(a,c,o),a[ve]=n,a[we]=o}catch(p){Lt(n,n.return,p)}}var Bn=!1,te=!1,vh=!1,Ym=typeof WeakSet=="function"?WeakSet:Set,ue=null;function o1(n,a){if(n=n.containerInfo,qh=Dr,n=tp(n),yu(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else t:{o=(o=n.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var f=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break t}var y=0,v=-1,E=-1,R=0,I=0,j=n,N=null;e:for(;;){for(var k;j!==o||f!==0&&j.nodeType!==3||(v=y+f),j!==p||c!==0&&j.nodeType!==3||(E=y+c),j.nodeType===3&&(y+=j.nodeValue.length),(k=j.firstChild)!==null;)N=j,j=k;for(;;){if(j===n)break e;if(N===o&&++R===f&&(v=y),N===p&&++I===c&&(E=y),(k=j.nextSibling)!==null)break;j=N,N=j.parentNode}j=k}o=v===-1||E===-1?null:{start:v,end:E}}else o=null}o=o||{start:0,end:0}}else o=null;for(Fh={focusedElem:n,selectionRange:o},Dr=!1,ue=a;ue!==null;)if(a=ue,n=a.child,(a.subtreeFlags&1024)!==0&&n!==null)n.return=a,ue=n;else for(;ue!==null;){switch(a=ue,p=a.alternate,n=a.flags,a.tag){case 0:break;case 11:case 15:break;case 1:if((n&1024)!==0&&p!==null){n=void 0,o=a,f=p.memoizedProps,p=p.memoizedState,c=o.stateNode;try{var ct=Wi(o.type,f,o.elementType===o.type);n=c.getSnapshotBeforeUpdate(ct,p),c.__reactInternalSnapshotBeforeUpdate=n}catch(ot){Lt(o,o.return,ot)}}break;case 3:if((n&1024)!==0){if(n=a.stateNode.containerInfo,o=n.nodeType,o===9)Wh(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Wh(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(s(163))}if(n=a.sibling,n!==null){n.return=a.return,ue=n;break}ue=a.return}}function qm(n,a,o){var c=o.flags;switch(o.tag){case 0:case 11:case 15:ui(n,o),c&4&&il(5,o);break;case 1:if(ui(n,o),c&4)if(n=o.stateNode,a===null)try{n.componentDidMount()}catch(y){Lt(o,o.return,y)}else{var f=Wi(o.type,a.memoizedProps);a=a.memoizedState;try{n.componentDidUpdate(f,a,n.__reactInternalSnapshotBeforeUpdate)}catch(y){Lt(o,o.return,y)}}c&64&&Hm(o),c&512&&sl(o,o.return);break;case 3:if(ui(n,o),c&64&&(n=o.updateQueue,n!==null)){if(a=null,o.child!==null)switch(o.child.tag){case 27:case 5:a=o.child.stateNode;break;case 1:a=o.child.stateNode}try{Cp(n,a)}catch(y){Lt(o,o.return,y)}}break;case 27:a===null&&c&4&&Vm(o);case 26:case 5:ui(n,o),a===null&&c&4&&jm(o),c&512&&sl(o,o.return);break;case 12:ui(n,o);break;case 13:ui(n,o),c&4&&Xm(n,o),c&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=m1.bind(null,o),z1(n,o))));break;case 22:if(c=o.memoizedState!==null||Bn,!c){a=a!==null&&a.memoizedState!==null||te,f=Bn;var p=te;Bn=c,(te=a)&&!p?hi(n,o,(o.subtreeFlags&8772)!==0):ui(n,o),Bn=f,te=p}break;case 30:break;default:ui(n,o)}}function Fm(n){var a=n.alternate;a!==null&&(n.alternate=null,Fm(a)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(a=n.stateNode,a!==null&&Jc(a)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var Ft=null,Re=!1;function Hn(n,a,o){for(o=o.child;o!==null;)Gm(n,a,o),o=o.sibling}function Gm(n,a,o){if(je&&typeof je.onCommitFiberUnmount=="function")try{je.onCommitFiberUnmount(Ca,o)}catch{}switch(o.tag){case 26:te||bn(o,a),Hn(n,a,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:te||bn(o,a);var c=Ft,f=Re;_i(o.type)&&(Ft=o.stateNode,Re=!1),Hn(n,a,o),dl(o.stateNode),Ft=c,Re=f;break;case 5:te||bn(o,a);case 6:if(c=Ft,f=Re,Ft=null,Hn(n,a,o),Ft=c,Re=f,Ft!==null)if(Re)try{(Ft.nodeType===9?Ft.body:Ft.nodeName==="HTML"?Ft.ownerDocument.body:Ft).removeChild(o.stateNode)}catch(p){Lt(o,a,p)}else try{Ft.removeChild(o.stateNode)}catch(p){Lt(o,a,p)}break;case 18:Ft!==null&&(Re?(n=Ft,z_(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Sl(n)):z_(Ft,o.stateNode));break;case 4:c=Ft,f=Re,Ft=o.stateNode.containerInfo,Re=!0,Hn(n,a,o),Ft=c,Re=f;break;case 0:case 11:case 14:case 15:te||ci(2,o,a),te||ci(4,o,a),Hn(n,a,o);break;case 1:te||(bn(o,a),c=o.stateNode,typeof c.componentWillUnmount=="function"&&Um(o,a,c)),Hn(n,a,o);break;case 21:Hn(n,a,o);break;case 22:te=(c=te)||o.memoizedState!==null,Hn(n,a,o),te=c;break;default:Hn(n,a,o)}}function Xm(n,a){if(a.memoizedState===null&&(n=a.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Sl(n)}catch(o){Lt(a,a.return,o)}}function r1(n){switch(n.tag){case 13:case 19:var a=n.stateNode;return a===null&&(a=n.stateNode=new Ym),a;case 22:return n=n.stateNode,a=n._retryCache,a===null&&(a=n._retryCache=new Ym),a;default:throw Error(s(435,n.tag))}}function Sh(n,a){var o=r1(n);a.forEach(function(c){var f=_1.bind(null,n,c);o.has(c)||(o.add(c),c.then(f,f))})}function qe(n,a){var o=a.deletions;if(o!==null)for(var c=0;c<o.length;c++){var f=o[c],p=n,y=a,v=y;t:for(;v!==null;){switch(v.tag){case 27:if(_i(v.type)){Ft=v.stateNode,Re=!1;break t}break;case 5:Ft=v.stateNode,Re=!1;break t;case 3:case 4:Ft=v.stateNode.containerInfo,Re=!0;break t}v=v.return}if(Ft===null)throw Error(s(160));Gm(p,y,f),Ft=null,Re=!1,p=f.alternate,p!==null&&(p.return=null),f.return=null}if(a.subtreeFlags&13878)for(a=a.child;a!==null;)Wm(a,n),a=a.sibling}var un=null;function Wm(n,a){var o=n.alternate,c=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:qe(a,n),Fe(n),c&4&&(ci(3,n,n.return),il(3,n),ci(5,n,n.return));break;case 1:qe(a,n),Fe(n),c&512&&(te||o===null||bn(o,o.return)),c&64&&Bn&&(n=n.updateQueue,n!==null&&(c=n.callbacks,c!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?c:o.concat(c))));break;case 26:var f=un;if(qe(a,n),Fe(n),c&512&&(te||o===null||bn(o,o.return)),c&4){var p=o!==null?o.memoizedState:null;if(c=n.memoizedState,o===null)if(c===null)if(n.stateNode===null){t:{c=n.type,o=n.memoizedProps,f=f.ownerDocument||f;e:switch(c){case"title":p=f.getElementsByTagName("title")[0],(!p||p[wa]||p[ve]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=f.createElement(c),f.head.insertBefore(p,f.querySelector("head > title"))),ye(p,c,o),p[ve]=n,re(p),c=p;break t;case"link":var y=V_("link","href",f).get(c+(o.href||""));if(y){for(var v=0;v<y.length;v++)if(p=y[v],p.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&p.getAttribute("rel")===(o.rel==null?null:o.rel)&&p.getAttribute("title")===(o.title==null?null:o.title)&&p.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(v,1);break e}}p=f.createElement(c),ye(p,c,o),f.head.appendChild(p);break;case"meta":if(y=V_("meta","content",f).get(c+(o.content||""))){for(v=0;v<y.length;v++)if(p=y[v],p.getAttribute("content")===(o.content==null?null:""+o.content)&&p.getAttribute("name")===(o.name==null?null:o.name)&&p.getAttribute("property")===(o.property==null?null:o.property)&&p.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&p.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(v,1);break e}}p=f.createElement(c),ye(p,c,o),f.head.appendChild(p);break;default:throw Error(s(468,c))}p[ve]=n,re(p),c=p}n.stateNode=c}else Y_(f,n.type,n.stateNode);else n.stateNode=P_(f,c,n.memoizedProps);else p!==c?(p===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):p.count--,c===null?Y_(f,n.type,n.stateNode):P_(f,c,n.memoizedProps)):c===null&&n.stateNode!==null&&_h(n,n.memoizedProps,o.memoizedProps)}break;case 27:qe(a,n),Fe(n),c&512&&(te||o===null||bn(o,o.return)),o!==null&&c&4&&_h(n,n.memoizedProps,o.memoizedProps);break;case 5:if(qe(a,n),Fe(n),c&512&&(te||o===null||bn(o,o.return)),n.flags&32){f=n.stateNode;try{Es(f,"")}catch(k){Lt(n,n.return,k)}}c&4&&n.stateNode!=null&&(f=n.memoizedProps,_h(n,f,o!==null?o.memoizedProps:f)),c&1024&&(vh=!0);break;case 6:if(qe(a,n),Fe(n),c&4){if(n.stateNode===null)throw Error(s(162));c=n.memoizedProps,o=n.stateNode;try{o.nodeValue=c}catch(k){Lt(n,n.return,k)}}break;case 3:if(Ar=null,f=un,un=Tr(a.containerInfo),qe(a,n),un=f,Fe(n),c&4&&o!==null&&o.memoizedState.isDehydrated)try{Sl(a.containerInfo)}catch(k){Lt(n,n.return,k)}vh&&(vh=!1,Qm(n));break;case 4:c=un,un=Tr(n.stateNode.containerInfo),qe(a,n),Fe(n),un=c;break;case 12:qe(a,n),Fe(n);break;case 13:qe(a,n),Fe(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Mh=mn()),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Sh(n,c)));break;case 22:f=n.memoizedState!==null;var E=o!==null&&o.memoizedState!==null,R=Bn,I=te;if(Bn=R||f,te=I||E,qe(a,n),te=I,Bn=R,Fe(n),c&8192)t:for(a=n.stateNode,a._visibility=f?a._visibility&-2:a._visibility|1,f&&(o===null||E||Bn||te||Qi(n)),o=null,a=n;;){if(a.tag===5||a.tag===26){if(o===null){E=o=a;try{if(p=E.stateNode,f)y=p.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{v=E.stateNode;var j=E.memoizedProps.style,N=j!=null&&j.hasOwnProperty("display")?j.display:null;v.style.display=N==null||typeof N=="boolean"?"":(""+N).trim()}}catch(k){Lt(E,E.return,k)}}}else if(a.tag===6){if(o===null){E=a;try{E.stateNode.nodeValue=f?"":E.memoizedProps}catch(k){Lt(E,E.return,k)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===n)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break t;for(;a.sibling===null;){if(a.return===null||a.return===n)break t;o===a&&(o=null),a=a.return}o===a&&(o=null),a.sibling.return=a.return,a=a.sibling}c&4&&(c=n.updateQueue,c!==null&&(o=c.retryQueue,o!==null&&(c.retryQueue=null,Sh(n,o))));break;case 19:qe(a,n),Fe(n),c&4&&(c=n.updateQueue,c!==null&&(n.updateQueue=null,Sh(n,c)));break;case 30:break;case 21:break;default:qe(a,n),Fe(n)}}function Fe(n){var a=n.flags;if(a&2){try{for(var o,c=n.return;c!==null;){if(Pm(c)){o=c;break}c=c.return}if(o==null)throw Error(s(160));switch(o.tag){case 27:var f=o.stateNode,p=yh(n);hr(n,p,f);break;case 5:var y=o.stateNode;o.flags&32&&(Es(y,""),o.flags&=-33);var v=yh(n);hr(n,v,y);break;case 3:case 4:var E=o.stateNode.containerInfo,R=yh(n);bh(n,R,E);break;default:throw Error(s(161))}}catch(I){Lt(n,n.return,I)}n.flags&=-3}a&4096&&(n.flags&=-4097)}function Qm(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var a=n;Qm(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),n=n.sibling}}function ui(n,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)qm(n,a.alternate,a),a=a.sibling}function Qi(n){for(n=n.child;n!==null;){var a=n;switch(a.tag){case 0:case 11:case 14:case 15:ci(4,a,a.return),Qi(a);break;case 1:bn(a,a.return);var o=a.stateNode;typeof o.componentWillUnmount=="function"&&Um(a,a.return,o),Qi(a);break;case 27:dl(a.stateNode);case 26:case 5:bn(a,a.return),Qi(a);break;case 22:a.memoizedState===null&&Qi(a);break;case 30:Qi(a);break;default:Qi(a)}n=n.sibling}}function hi(n,a,o){for(o=o&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var c=a.alternate,f=n,p=a,y=p.flags;switch(p.tag){case 0:case 11:case 15:hi(f,p,o),il(4,p);break;case 1:if(hi(f,p,o),c=p,f=c.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(R){Lt(c,c.return,R)}if(c=p,f=c.updateQueue,f!==null){var v=c.stateNode;try{var E=f.shared.hiddenCallbacks;if(E!==null)for(f.shared.hiddenCallbacks=null,f=0;f<E.length;f++)Tp(E[f],v)}catch(R){Lt(c,c.return,R)}}o&&y&64&&Hm(p),sl(p,p.return);break;case 27:Vm(p);case 26:case 5:hi(f,p,o),o&&c===null&&y&4&&jm(p),sl(p,p.return);break;case 12:hi(f,p,o);break;case 13:hi(f,p,o),o&&y&4&&Xm(f,p);break;case 22:p.memoizedState===null&&hi(f,p,o),sl(p,p.return);break;case 30:break;default:hi(f,p,o)}a=a.sibling}}function xh(n,a){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(n=a.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&Ya(o))}function Eh(n,a){n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ya(n))}function vn(n,a,o,c){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Km(n,a,o,c),a=a.sibling}function Km(n,a,o,c){var f=a.flags;switch(a.tag){case 0:case 11:case 15:vn(n,a,o,c),f&2048&&il(9,a);break;case 1:vn(n,a,o,c);break;case 3:vn(n,a,o,c),f&2048&&(n=null,a.alternate!==null&&(n=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==n&&(a.refCount++,n!=null&&Ya(n)));break;case 12:if(f&2048){vn(n,a,o,c),n=a.stateNode;try{var p=a.memoizedProps,y=p.id,v=p.onPostCommit;typeof v=="function"&&v(y,a.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(E){Lt(a,a.return,E)}}else vn(n,a,o,c);break;case 13:vn(n,a,o,c);break;case 23:break;case 22:p=a.stateNode,y=a.alternate,a.memoizedState!==null?p._visibility&2?vn(n,a,o,c):al(n,a):p._visibility&2?vn(n,a,o,c):(p._visibility|=2,Vs(n,a,o,c,(a.subtreeFlags&10256)!==0)),f&2048&&xh(y,a);break;case 24:vn(n,a,o,c),f&2048&&Eh(a.alternate,a);break;default:vn(n,a,o,c)}}function Vs(n,a,o,c,f){for(f=f&&(a.subtreeFlags&10256)!==0,a=a.child;a!==null;){var p=n,y=a,v=o,E=c,R=y.flags;switch(y.tag){case 0:case 11:case 15:Vs(p,y,v,E,f),il(8,y);break;case 23:break;case 22:var I=y.stateNode;y.memoizedState!==null?I._visibility&2?Vs(p,y,v,E,f):al(p,y):(I._visibility|=2,Vs(p,y,v,E,f)),f&&R&2048&&xh(y.alternate,y);break;case 24:Vs(p,y,v,E,f),f&&R&2048&&Eh(y.alternate,y);break;default:Vs(p,y,v,E,f)}a=a.sibling}}function al(n,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var o=n,c=a,f=c.flags;switch(c.tag){case 22:al(o,c),f&2048&&xh(c.alternate,c);break;case 24:al(o,c),f&2048&&Eh(c.alternate,c);break;default:al(o,c)}a=a.sibling}}var ll=8192;function Ys(n){if(n.subtreeFlags&ll)for(n=n.child;n!==null;)Zm(n),n=n.sibling}function Zm(n){switch(n.tag){case 26:Ys(n),n.flags&ll&&n.memoizedState!==null&&X1(un,n.memoizedState,n.memoizedProps);break;case 5:Ys(n);break;case 3:case 4:var a=un;un=Tr(n.stateNode.containerInfo),Ys(n),un=a;break;case 22:n.memoizedState===null&&(a=n.alternate,a!==null&&a.memoizedState!==null?(a=ll,ll=16777216,Ys(n),ll=a):Ys(n));break;default:Ys(n)}}function $m(n){var a=n.alternate;if(a!==null&&(n=a.child,n!==null)){a.child=null;do a=n.sibling,n.sibling=null,n=a;while(n!==null)}}function ol(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];ue=c,t_(c,n)}$m(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Jm(n),n=n.sibling}function Jm(n){switch(n.tag){case 0:case 11:case 15:ol(n),n.flags&2048&&ci(9,n,n.return);break;case 3:ol(n);break;case 12:ol(n);break;case 22:var a=n.stateNode;n.memoizedState!==null&&a._visibility&2&&(n.return===null||n.return.tag!==13)?(a._visibility&=-3,fr(n)):ol(n);break;default:ol(n)}}function fr(n){var a=n.deletions;if((n.flags&16)!==0){if(a!==null)for(var o=0;o<a.length;o++){var c=a[o];ue=c,t_(c,n)}$m(n)}for(n=n.child;n!==null;){switch(a=n,a.tag){case 0:case 11:case 15:ci(8,a,a.return),fr(a);break;case 22:o=a.stateNode,o._visibility&2&&(o._visibility&=-3,fr(a));break;default:fr(a)}n=n.sibling}}function t_(n,a){for(;ue!==null;){var o=ue;switch(o.tag){case 0:case 11:case 15:ci(8,o,a);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var c=o.memoizedState.cachePool.pool;c!=null&&c.refCount++}break;case 24:Ya(o.memoizedState.cache)}if(c=o.child,c!==null)c.return=o,ue=c;else t:for(o=n;ue!==null;){c=ue;var f=c.sibling,p=c.return;if(Fm(c),c===o){ue=null;break t}if(f!==null){f.return=p,ue=f;break t}ue=p}}}var c1={getCacheForType:function(n){var a=Se(se),o=a.data.get(n);return o===void 0&&(o=n(),a.data.set(n,o)),o}},u1=typeof WeakMap=="function"?WeakMap:Map,Dt=0,Bt=null,yt=null,xt=0,Ot=0,Ge=null,fi=!1,qs=!1,Th=!1,Un=0,Wt=0,di=0,Ki=0,Ch=0,nn=0,Fs=0,rl=null,Ne=null,Ah=!1,Mh=0,dr=1/0,gr=null,gi=null,_e=0,pi=null,Gs=null,Xs=0,wh=0,Dh=null,e_=null,cl=0,Oh=null;function Xe(){if((Dt&2)!==0&&xt!==0)return xt&-xt;if(D.T!==null){var n=zs;return n!==0?n:Bh()}return _g()}function n_(){nn===0&&(nn=(xt&536870912)===0||Mt?dg():536870912);var n=en.current;return n!==null&&(n.flags|=32),nn}function We(n,a,o){(n===Bt&&(Ot===2||Ot===9)||n.cancelPendingCommit!==null)&&(Ws(n,0),mi(n,xt,nn,!1)),Ma(n,o),((Dt&2)===0||n!==Bt)&&(n===Bt&&((Dt&2)===0&&(Ki|=o),Wt===4&&mi(n,xt,nn,!1)),Sn(n))}function i_(n,a,o){if((Dt&6)!==0)throw Error(s(327));var c=!o&&(a&124)===0&&(a&n.expiredLanes)===0||Aa(n,a),f=c?d1(n,a):kh(n,a,!0),p=c;do{if(f===0){qs&&!c&&mi(n,a,0,!1);break}else{if(o=n.current.alternate,p&&!h1(o)){f=kh(n,a,!1),p=!1;continue}if(f===2){if(p=a,n.errorRecoveryDisabledLanes&p)var y=0;else y=n.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){a=y;t:{var v=n;f=rl;var E=v.current.memoizedState.isDehydrated;if(E&&(Ws(v,y).flags|=256),y=kh(v,y,!1),y!==2){if(Th&&!E){v.errorRecoveryDisabledLanes|=p,Ki|=p,f=4;break t}p=Ne,Ne=f,p!==null&&(Ne===null?Ne=p:Ne.push.apply(Ne,p))}f=y}if(p=!1,f!==2)continue}}if(f===1){Ws(n,0),mi(n,a,0,!0);break}t:{switch(c=n,p=f,p){case 0:case 1:throw Error(s(345));case 4:if((a&4194048)!==a)break;case 6:mi(c,a,nn,!fi);break t;case 2:Ne=null;break;case 3:case 5:break;default:throw Error(s(329))}if((a&62914560)===a&&(f=Mh+300-mn(),10<f)){if(mi(c,a,nn,!fi),Co(c,0,!0)!==0)break t;c.timeoutHandle=N_(s_.bind(null,c,o,Ne,gr,Ah,a,nn,Ki,Fs,fi,p,2,-0,0),f);break t}s_(c,o,Ne,gr,Ah,a,nn,Ki,Fs,fi,p,0,-0,0)}}break}while(!0);Sn(n)}function s_(n,a,o,c,f,p,y,v,E,R,I,j,N,k){if(n.timeoutHandle=-1,j=a.subtreeFlags,(j&8192||(j&16785408)===16785408)&&(ml={stylesheets:null,count:0,unsuspend:G1},Zm(a),j=W1(),j!==null)){n.cancelPendingCommit=j(h_.bind(null,n,a,p,o,c,f,y,v,E,I,1,N,k)),mi(n,p,y,!R);return}h_(n,a,p,o,c,f,y,v,E)}function h1(n){for(var a=n;;){var o=a.tag;if((o===0||o===11||o===15)&&a.flags&16384&&(o=a.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var c=0;c<o.length;c++){var f=o[c],p=f.getSnapshot;f=f.value;try{if(!Ve(p(),f))return!1}catch{return!1}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function mi(n,a,o,c){a&=~Ch,a&=~Ki,n.suspendedLanes|=a,n.pingedLanes&=~a,c&&(n.warmLanes|=a),c=n.expirationTimes;for(var f=a;0<f;){var p=31-Pe(f),y=1<<p;c[p]=-1,f&=~y}o!==0&&pg(n,o,a)}function pr(){return(Dt&6)===0?(ul(0),!1):!0}function Rh(){if(yt!==null){if(Ot===0)var n=yt.return;else n=yt,Rn=qi=null,Wu(n),js=null,tl=0,n=yt;for(;n!==null;)Bm(n.alternate,n),n=n.return;yt=null}}function Ws(n,a){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,D1(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),Rh(),Bt=n,yt=o=wn(n.current,null),xt=a,Ot=0,Ge=null,fi=!1,qs=Aa(n,a),Th=!1,Fs=nn=Ch=Ki=di=Wt=0,Ne=rl=null,Ah=!1,(a&8)!==0&&(a|=a&32);var c=n.entangledLanes;if(c!==0)for(n=n.entanglements,c&=a;0<c;){var f=31-Pe(c),p=1<<f;a|=n[f],c&=~p}return Un=a,Bo(),o}function a_(n,a){dt=null,D.H=nr,a===Fa||a===Go?(a=xp(),Ot=3):a===bp?(a=xp(),Ot=4):Ot=a===Em?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Ge=a,yt===null&&(Wt=1,or(n,Ze(a,n.current)))}function l_(){var n=D.H;return D.H=nr,n===null?nr:n}function o_(){var n=D.A;return D.A=c1,n}function Nh(){Wt=4,fi||(xt&4194048)!==xt&&en.current!==null||(qs=!0),(di&134217727)===0&&(Ki&134217727)===0||Bt===null||mi(Bt,xt,nn,!1)}function kh(n,a,o){var c=Dt;Dt|=2;var f=l_(),p=o_();(Bt!==n||xt!==a)&&(gr=null,Ws(n,a)),a=!1;var y=Wt;t:do try{if(Ot!==0&&yt!==null){var v=yt,E=Ge;switch(Ot){case 8:Rh(),y=6;break t;case 3:case 2:case 9:case 6:en.current===null&&(a=!0);var R=Ot;if(Ot=0,Ge=null,Qs(n,v,E,R),o&&qs){y=0;break t}break;default:R=Ot,Ot=0,Ge=null,Qs(n,v,E,R)}}f1(),y=Wt;break}catch(I){a_(n,I)}while(!0);return a&&n.shellSuspendCounter++,Rn=qi=null,Dt=c,D.H=f,D.A=p,yt===null&&(Bt=null,xt=0,Bo()),y}function f1(){for(;yt!==null;)r_(yt)}function d1(n,a){var o=Dt;Dt|=2;var c=l_(),f=o_();Bt!==n||xt!==a?(gr=null,dr=mn()+500,Ws(n,a)):qs=Aa(n,a);t:do try{if(Ot!==0&&yt!==null){a=yt;var p=Ge;e:switch(Ot){case 1:Ot=0,Ge=null,Qs(n,a,p,1);break;case 2:case 9:if(vp(p)){Ot=0,Ge=null,c_(a);break}a=function(){Ot!==2&&Ot!==9||Bt!==n||(Ot=7),Sn(n)},p.then(a,a);break t;case 3:Ot=7;break t;case 4:Ot=5;break t;case 7:vp(p)?(Ot=0,Ge=null,c_(a)):(Ot=0,Ge=null,Qs(n,a,p,7));break;case 5:var y=null;switch(yt.tag){case 26:y=yt.memoizedState;case 5:case 27:var v=yt;if(!y||q_(y)){Ot=0,Ge=null;var E=v.sibling;if(E!==null)yt=E;else{var R=v.return;R!==null?(yt=R,mr(R)):yt=null}break e}}Ot=0,Ge=null,Qs(n,a,p,5);break;case 6:Ot=0,Ge=null,Qs(n,a,p,6);break;case 8:Rh(),Wt=6;break t;default:throw Error(s(462))}}g1();break}catch(I){a_(n,I)}while(!0);return Rn=qi=null,D.H=c,D.A=f,Dt=o,yt!==null?0:(Bt=null,xt=0,Bo(),Wt)}function g1(){for(;yt!==null&&!IS();)r_(yt)}function r_(n){var a=Lm(n.alternate,n,Un);n.memoizedProps=n.pendingProps,a===null?mr(n):yt=a}function c_(n){var a=n,o=a.alternate;switch(a.tag){case 15:case 0:a=Dm(o,a,a.pendingProps,a.type,void 0,xt);break;case 11:a=Dm(o,a,a.pendingProps,a.type.render,a.ref,xt);break;case 5:Wu(a);default:Bm(o,a),a=yt=up(a,Un),a=Lm(o,a,Un)}n.memoizedProps=n.pendingProps,a===null?mr(n):yt=a}function Qs(n,a,o,c){Rn=qi=null,Wu(a),js=null,tl=0;var f=a.return;try{if(i1(n,f,a,o,xt)){Wt=1,or(n,Ze(o,n.current)),yt=null;return}}catch(p){if(f!==null)throw yt=f,p;Wt=1,or(n,Ze(o,n.current)),yt=null;return}a.flags&32768?(Mt||c===1?n=!0:qs||(xt&536870912)!==0?n=!1:(fi=n=!0,(c===2||c===9||c===3||c===6)&&(c=en.current,c!==null&&c.tag===13&&(c.flags|=16384))),u_(a,n)):mr(a)}function mr(n){var a=n;do{if((a.flags&32768)!==0){u_(a,fi);return}n=a.return;var o=a1(a.alternate,a,Un);if(o!==null){yt=o;return}if(a=a.sibling,a!==null){yt=a;return}yt=a=n}while(a!==null);Wt===0&&(Wt=5)}function u_(n,a){do{var o=l1(n.alternate,n);if(o!==null){o.flags&=32767,yt=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!a&&(n=n.sibling,n!==null)){yt=n;return}yt=n=o}while(n!==null);Wt=6,yt=null}function h_(n,a,o,c,f,p,y,v,E){n.cancelPendingCommit=null;do _r();while(_e!==0);if((Dt&6)!==0)throw Error(s(327));if(a!==null){if(a===n.current)throw Error(s(177));if(p=a.lanes|a.childLanes,p|=Eu,GS(n,o,p,y,v,E),n===Bt&&(yt=Bt=null,xt=0),Gs=a,pi=n,Xs=o,wh=p,Dh=f,e_=c,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,y1(xo,function(){return m_(),null})):(n.callbackNode=null,n.callbackPriority=0),c=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||c){c=D.T,D.T=null,f=P.p,P.p=2,y=Dt,Dt|=4;try{o1(n,a,o)}finally{Dt=y,P.p=f,D.T=c}}_e=1,f_(),d_(),g_()}}function f_(){if(_e===1){_e=0;var n=pi,a=Gs,o=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||o){o=D.T,D.T=null;var c=P.p;P.p=2;var f=Dt;Dt|=4;try{Wm(a,n);var p=Fh,y=tp(n.containerInfo),v=p.focusedElem,E=p.selectionRange;if(y!==v&&v&&v.ownerDocument&&Jg(v.ownerDocument.documentElement,v)){if(E!==null&&yu(v)){var R=E.start,I=E.end;if(I===void 0&&(I=R),"selectionStart"in v)v.selectionStart=R,v.selectionEnd=Math.min(I,v.value.length);else{var j=v.ownerDocument||document,N=j&&j.defaultView||window;if(N.getSelection){var k=N.getSelection(),ct=v.textContent.length,ot=Math.min(E.start,ct),zt=E.end===void 0?ot:Math.min(E.end,ct);!k.extend&&ot>zt&&(y=zt,zt=ot,ot=y);var w=$g(v,ot),M=$g(v,zt);if(w&&M&&(k.rangeCount!==1||k.anchorNode!==w.node||k.anchorOffset!==w.offset||k.focusNode!==M.node||k.focusOffset!==M.offset)){var O=j.createRange();O.setStart(w.node,w.offset),k.removeAllRanges(),ot>zt?(k.addRange(O),k.extend(M.node,M.offset)):(O.setEnd(M.node,M.offset),k.addRange(O))}}}}for(j=[],k=v;k=k.parentNode;)k.nodeType===1&&j.push({element:k,left:k.scrollLeft,top:k.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<j.length;v++){var B=j[v];B.element.scrollLeft=B.left,B.element.scrollTop=B.top}}Dr=!!qh,Fh=qh=null}finally{Dt=f,P.p=c,D.T=o}}n.current=a,_e=2}}function d_(){if(_e===2){_e=0;var n=pi,a=Gs,o=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||o){o=D.T,D.T=null;var c=P.p;P.p=2;var f=Dt;Dt|=4;try{qm(n,a.alternate,a)}finally{Dt=f,P.p=c,D.T=o}}_e=3}}function g_(){if(_e===4||_e===3){_e=0,BS();var n=pi,a=Gs,o=Xs,c=e_;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?_e=5:(_e=0,Gs=pi=null,p_(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(gi=null),Zc(o),a=a.stateNode,je&&typeof je.onCommitFiberRoot=="function")try{je.onCommitFiberRoot(Ca,a,void 0,(a.current.flags&128)===128)}catch{}if(c!==null){a=D.T,f=P.p,P.p=2,D.T=null;try{for(var p=n.onRecoverableError,y=0;y<c.length;y++){var v=c[y];p(v.value,{componentStack:v.stack})}}finally{D.T=a,P.p=f}}(Xs&3)!==0&&_r(),Sn(n),f=n.pendingLanes,(o&4194090)!==0&&(f&42)!==0?n===Oh?cl++:(cl=0,Oh=n):cl=0,ul(0)}}function p_(n,a){(n.pooledCacheLanes&=a)===0&&(a=n.pooledCache,a!=null&&(n.pooledCache=null,Ya(a)))}function _r(n){return f_(),d_(),g_(),m_()}function m_(){if(_e!==5)return!1;var n=pi,a=wh;wh=0;var o=Zc(Xs),c=D.T,f=P.p;try{P.p=32>o?32:o,D.T=null,o=Dh,Dh=null;var p=pi,y=Xs;if(_e=0,Gs=pi=null,Xs=0,(Dt&6)!==0)throw Error(s(331));var v=Dt;if(Dt|=4,Jm(p.current),Km(p,p.current,y,o),Dt=v,ul(0,!1),je&&typeof je.onPostCommitFiberRoot=="function")try{je.onPostCommitFiberRoot(Ca,p)}catch{}return!0}finally{P.p=f,D.T=c,p_(n,a)}}function __(n,a,o){a=Ze(o,a),a=rh(n.stateNode,a,2),n=ai(n,a,2),n!==null&&(Ma(n,2),Sn(n))}function Lt(n,a,o){if(n.tag===3)__(n,n,o);else for(;a!==null;){if(a.tag===3){__(a,n,o);break}else if(a.tag===1){var c=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(gi===null||!gi.has(c))){n=Ze(o,n),o=Sm(2),c=ai(a,o,2),c!==null&&(xm(o,c,a,n),Ma(c,2),Sn(c));break}}a=a.return}}function zh(n,a,o){var c=n.pingCache;if(c===null){c=n.pingCache=new u1;var f=new Set;c.set(a,f)}else f=c.get(a),f===void 0&&(f=new Set,c.set(a,f));f.has(o)||(Th=!0,f.add(o),n=p1.bind(null,n,a,o),a.then(n,n))}function p1(n,a,o){var c=n.pingCache;c!==null&&c.delete(a),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,Bt===n&&(xt&o)===o&&(Wt===4||Wt===3&&(xt&62914560)===xt&&300>mn()-Mh?(Dt&2)===0&&Ws(n,0):Ch|=o,Fs===xt&&(Fs=0)),Sn(n)}function y_(n,a){a===0&&(a=gg()),n=Os(n,a),n!==null&&(Ma(n,a),Sn(n))}function m1(n){var a=n.memoizedState,o=0;a!==null&&(o=a.retryLane),y_(n,o)}function _1(n,a){var o=0;switch(n.tag){case 13:var c=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:c=n.stateNode;break;case 22:c=n.stateNode._retryCache;break;default:throw Error(s(314))}c!==null&&c.delete(a),y_(n,o)}function y1(n,a){return Xc(n,a)}var yr=null,Ks=null,Lh=!1,br=!1,Ih=!1,Zi=0;function Sn(n){n!==Ks&&n.next===null&&(Ks===null?yr=Ks=n:Ks=Ks.next=n),br=!0,Lh||(Lh=!0,v1())}function ul(n,a){if(!Ih&&br){Ih=!0;do for(var o=!1,c=yr;c!==null;){if(n!==0){var f=c.pendingLanes;if(f===0)var p=0;else{var y=c.suspendedLanes,v=c.pingedLanes;p=(1<<31-Pe(42|n)+1)-1,p&=f&~(y&~v),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(o=!0,x_(c,p))}else p=xt,p=Co(c,c===Bt?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),(p&3)===0||Aa(c,p)||(o=!0,x_(c,p));c=c.next}while(o);Ih=!1}}function b1(){b_()}function b_(){br=Lh=!1;var n=0;Zi!==0&&(w1()&&(n=Zi),Zi=0);for(var a=mn(),o=null,c=yr;c!==null;){var f=c.next,p=v_(c,a);p===0?(c.next=null,o===null?yr=f:o.next=f,f===null&&(Ks=o)):(o=c,(n!==0||(p&3)!==0)&&(br=!0)),c=f}ul(n)}function v_(n,a){for(var o=n.suspendedLanes,c=n.pingedLanes,f=n.expirationTimes,p=n.pendingLanes&-62914561;0<p;){var y=31-Pe(p),v=1<<y,E=f[y];E===-1?((v&o)===0||(v&c)!==0)&&(f[y]=FS(v,a)):E<=a&&(n.expiredLanes|=v),p&=~v}if(a=Bt,o=xt,o=Co(n,n===a?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c=n.callbackNode,o===0||n===a&&(Ot===2||Ot===9)||n.cancelPendingCommit!==null)return c!==null&&c!==null&&Wc(c),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||Aa(n,o)){if(a=o&-o,a===n.callbackPriority)return a;switch(c!==null&&Wc(c),Zc(o)){case 2:case 8:o=hg;break;case 32:o=xo;break;case 268435456:o=fg;break;default:o=xo}return c=S_.bind(null,n),o=Xc(o,c),n.callbackPriority=a,n.callbackNode=o,a}return c!==null&&c!==null&&Wc(c),n.callbackPriority=2,n.callbackNode=null,2}function S_(n,a){if(_e!==0&&_e!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(_r()&&n.callbackNode!==o)return null;var c=xt;return c=Co(n,n===Bt?c:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),c===0?null:(i_(n,c,a),v_(n,mn()),n.callbackNode!=null&&n.callbackNode===o?S_.bind(null,n):null)}function x_(n,a){if(_r())return null;i_(n,a,!0)}function v1(){O1(function(){(Dt&6)!==0?Xc(ug,b1):b_()})}function Bh(){return Zi===0&&(Zi=dg()),Zi}function E_(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:Oo(""+n)}function T_(n,a){var o=a.ownerDocument.createElement("input");return o.name=a.name,o.value=a.value,n.id&&o.setAttribute("form",n.id),a.parentNode.insertBefore(o,a),n=new FormData(n),o.parentNode.removeChild(o),n}function S1(n,a,o,c,f){if(a==="submit"&&o&&o.stateNode===f){var p=E_((f[we]||null).action),y=c.submitter;y&&(a=(a=y[we]||null)?E_(a.formAction):y.getAttribute("formAction"),a!==null&&(p=a,y=null));var v=new zo("action","action",null,c,f);n.push({event:v,listeners:[{instance:null,listener:function(){if(c.defaultPrevented){if(Zi!==0){var E=y?T_(f,y):new FormData(f);ih(o,{pending:!0,data:E,method:f.method,action:p},null,E)}}else typeof p=="function"&&(v.preventDefault(),E=y?T_(f,y):new FormData(f),ih(o,{pending:!0,data:E,method:f.method,action:p},p,E))},currentTarget:f}]})}}for(var Hh=0;Hh<xu.length;Hh++){var Uh=xu[Hh],x1=Uh.toLowerCase(),E1=Uh[0].toUpperCase()+Uh.slice(1);cn(x1,"on"+E1)}cn(ip,"onAnimationEnd"),cn(sp,"onAnimationIteration"),cn(ap,"onAnimationStart"),cn("dblclick","onDoubleClick"),cn("focusin","onFocus"),cn("focusout","onBlur"),cn(jx,"onTransitionRun"),cn(Px,"onTransitionStart"),cn(Vx,"onTransitionCancel"),cn(lp,"onTransitionEnd"),vs("onMouseEnter",["mouseout","mouseover"]),vs("onMouseLeave",["mouseout","mouseover"]),vs("onPointerEnter",["pointerout","pointerover"]),vs("onPointerLeave",["pointerout","pointerover"]),Li("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Li("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Li("onBeforeInput",["compositionend","keypress","textInput","paste"]),Li("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Li("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function C_(n,a){a=(a&4)!==0;for(var o=0;o<n.length;o++){var c=n[o],f=c.event;c=c.listeners;t:{var p=void 0;if(a)for(var y=c.length-1;0<=y;y--){var v=c[y],E=v.instance,R=v.currentTarget;if(v=v.listener,E!==p&&f.isPropagationStopped())break t;p=v,f.currentTarget=R;try{p(f)}catch(I){lr(I)}f.currentTarget=null,p=E}else for(y=0;y<c.length;y++){if(v=c[y],E=v.instance,R=v.currentTarget,v=v.listener,E!==p&&f.isPropagationStopped())break t;p=v,f.currentTarget=R;try{p(f)}catch(I){lr(I)}f.currentTarget=null,p=E}}}}function bt(n,a){var o=a[$c];o===void 0&&(o=a[$c]=new Set);var c=n+"__bubble";o.has(c)||(A_(a,n,2,!1),o.add(c))}function jh(n,a,o){var c=0;a&&(c|=4),A_(o,n,c,a)}var vr="_reactListening"+Math.random().toString(36).slice(2);function Ph(n){if(!n[vr]){n[vr]=!0,bg.forEach(function(o){o!=="selectionchange"&&(T1.has(o)||jh(o,!1,n),jh(o,!0,n))});var a=n.nodeType===9?n:n.ownerDocument;a===null||a[vr]||(a[vr]=!0,jh("selectionchange",!1,a))}}function A_(n,a,o,c){switch(K_(a)){case 2:var f=Z1;break;case 8:f=$1;break;default:f=ef}o=f.bind(null,a,o,n),f=void 0,!cu||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),c?f!==void 0?n.addEventListener(a,o,{capture:!0,passive:f}):n.addEventListener(a,o,!0):f!==void 0?n.addEventListener(a,o,{passive:f}):n.addEventListener(a,o,!1)}function Vh(n,a,o,c,f){var p=c;if((a&1)===0&&(a&2)===0&&c!==null)t:for(;;){if(c===null)return;var y=c.tag;if(y===3||y===4){var v=c.stateNode.containerInfo;if(v===f)break;if(y===4)for(y=c.return;y!==null;){var E=y.tag;if((E===3||E===4)&&y.stateNode.containerInfo===f)return;y=y.return}for(;v!==null;){if(y=_s(v),y===null)return;if(E=y.tag,E===5||E===6||E===26||E===27){c=p=y;continue t}v=v.parentNode}}c=c.return}kg(function(){var R=p,I=ou(o),j=[];t:{var N=op.get(n);if(N!==void 0){var k=zo,ct=n;switch(n){case"keypress":if(No(o)===0)break t;case"keydown":case"keyup":k=yx;break;case"focusin":ct="focus",k=du;break;case"focusout":ct="blur",k=du;break;case"beforeblur":case"afterblur":k=du;break;case"click":if(o.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Ig;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=lx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=Sx;break;case ip:case sp:case ap:k=cx;break;case lp:k=Ex;break;case"scroll":case"scrollend":k=sx;break;case"wheel":k=Cx;break;case"copy":case"cut":case"paste":k=hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Hg;break;case"toggle":case"beforetoggle":k=Mx}var ot=(a&4)!==0,zt=!ot&&(n==="scroll"||n==="scrollend"),w=ot?N!==null?N+"Capture":null:N;ot=[];for(var M=R,O;M!==null;){var B=M;if(O=B.stateNode,B=B.tag,B!==5&&B!==26&&B!==27||O===null||w===null||(B=Oa(M,w),B!=null&&ot.push(fl(M,B,O))),zt)break;M=M.return}0<ot.length&&(N=new k(N,ct,null,o,I),j.push({event:N,listeners:ot}))}}if((a&7)===0){t:{if(N=n==="mouseover"||n==="pointerover",k=n==="mouseout"||n==="pointerout",N&&o!==lu&&(ct=o.relatedTarget||o.fromElement)&&(_s(ct)||ct[ms]))break t;if((k||N)&&(N=I.window===I?I:(N=I.ownerDocument)?N.defaultView||N.parentWindow:window,k?(ct=o.relatedTarget||o.toElement,k=R,ct=ct?_s(ct):null,ct!==null&&(zt=r(ct),ot=ct.tag,ct!==zt||ot!==5&&ot!==27&&ot!==6)&&(ct=null)):(k=null,ct=R),k!==ct)){if(ot=Ig,B="onMouseLeave",w="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(ot=Hg,B="onPointerLeave",w="onPointerEnter",M="pointer"),zt=k==null?N:Da(k),O=ct==null?N:Da(ct),N=new ot(B,M+"leave",k,o,I),N.target=zt,N.relatedTarget=O,B=null,_s(I)===R&&(ot=new ot(w,M+"enter",ct,o,I),ot.target=O,ot.relatedTarget=zt,B=ot),zt=B,k&&ct)e:{for(ot=k,w=ct,M=0,O=ot;O;O=Zs(O))M++;for(O=0,B=w;B;B=Zs(B))O++;for(;0<M-O;)ot=Zs(ot),M--;for(;0<O-M;)w=Zs(w),O--;for(;M--;){if(ot===w||w!==null&&ot===w.alternate)break e;ot=Zs(ot),w=Zs(w)}ot=null}else ot=null;k!==null&&M_(j,N,k,ot,!1),ct!==null&&zt!==null&&M_(j,zt,ct,ot,!0)}}t:{if(N=R?Da(R):window,k=N.nodeName&&N.nodeName.toLowerCase(),k==="select"||k==="input"&&N.type==="file")var $=Gg;else if(qg(N))if(Xg)$=Bx;else{$=Lx;var pt=zx}else k=N.nodeName,!k||k.toLowerCase()!=="input"||N.type!=="checkbox"&&N.type!=="radio"?R&&au(R.elementType)&&($=Gg):$=Ix;if($&&($=$(n,R))){Fg(j,$,o,I);break t}pt&&pt(n,N,R),n==="focusout"&&R&&N.type==="number"&&R.memoizedProps.value!=null&&su(N,"number",N.value)}switch(pt=R?Da(R):window,n){case"focusin":(qg(pt)||pt.contentEditable==="true")&&(Ms=pt,bu=R,Ha=null);break;case"focusout":Ha=bu=Ms=null;break;case"mousedown":vu=!0;break;case"contextmenu":case"mouseup":case"dragend":vu=!1,ep(j,o,I);break;case"selectionchange":if(Ux)break;case"keydown":case"keyup":ep(j,o,I)}var nt;if(pu)t:{switch(n){case"compositionstart":var rt="onCompositionStart";break t;case"compositionend":rt="onCompositionEnd";break t;case"compositionupdate":rt="onCompositionUpdate";break t}rt=void 0}else As?Vg(n,o)&&(rt="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(rt="onCompositionStart");rt&&(Ug&&o.locale!=="ko"&&(As||rt!=="onCompositionStart"?rt==="onCompositionEnd"&&As&&(nt=zg()):(ei=I,uu="value"in ei?ei.value:ei.textContent,As=!0)),pt=Sr(R,rt),0<pt.length&&(rt=new Bg(rt,n,null,o,I),j.push({event:rt,listeners:pt}),nt?rt.data=nt:(nt=Yg(o),nt!==null&&(rt.data=nt)))),(nt=Dx?Ox(n,o):Rx(n,o))&&(rt=Sr(R,"onBeforeInput"),0<rt.length&&(pt=new Bg("onBeforeInput","beforeinput",null,o,I),j.push({event:pt,listeners:rt}),pt.data=nt)),S1(j,n,R,o,I)}C_(j,a)})}function fl(n,a,o){return{instance:n,listener:a,currentTarget:o}}function Sr(n,a){for(var o=a+"Capture",c=[];n!==null;){var f=n,p=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||p===null||(f=Oa(n,o),f!=null&&c.unshift(fl(n,f,p)),f=Oa(n,a),f!=null&&c.push(fl(n,f,p))),n.tag===3)return c;n=n.return}return[]}function Zs(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function M_(n,a,o,c,f){for(var p=a._reactName,y=[];o!==null&&o!==c;){var v=o,E=v.alternate,R=v.stateNode;if(v=v.tag,E!==null&&E===c)break;v!==5&&v!==26&&v!==27||R===null||(E=R,f?(R=Oa(o,p),R!=null&&y.unshift(fl(o,R,E))):f||(R=Oa(o,p),R!=null&&y.push(fl(o,R,E)))),o=o.return}y.length!==0&&n.push({event:a,listeners:y})}var C1=/\r\n?/g,A1=/\u0000|\uFFFD/g;function w_(n){return(typeof n=="string"?n:""+n).replace(C1,`
`).replace(A1,"")}function D_(n,a){return a=w_(a),w_(n)===a}function xr(){}function kt(n,a,o,c,f,p){switch(o){case"children":typeof c=="string"?a==="body"||a==="textarea"&&c===""||Es(n,c):(typeof c=="number"||typeof c=="bigint")&&a!=="body"&&Es(n,""+c);break;case"className":Mo(n,"class",c);break;case"tabIndex":Mo(n,"tabindex",c);break;case"dir":case"role":case"viewBox":case"width":case"height":Mo(n,o,c);break;case"style":Rg(n,c,p);break;case"data":if(a!=="object"){Mo(n,"data",c);break}case"src":case"href":if(c===""&&(a!=="a"||o!=="href")){n.removeAttribute(o);break}if(c==null||typeof c=="function"||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Oo(""+c),n.setAttribute(o,c);break;case"action":case"formAction":if(typeof c=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(o==="formAction"?(a!=="input"&&kt(n,a,"name",f.name,f,null),kt(n,a,"formEncType",f.formEncType,f,null),kt(n,a,"formMethod",f.formMethod,f,null),kt(n,a,"formTarget",f.formTarget,f,null)):(kt(n,a,"encType",f.encType,f,null),kt(n,a,"method",f.method,f,null),kt(n,a,"target",f.target,f,null)));if(c==null||typeof c=="symbol"||typeof c=="boolean"){n.removeAttribute(o);break}c=Oo(""+c),n.setAttribute(o,c);break;case"onClick":c!=null&&(n.onclick=xr);break;case"onScroll":c!=null&&bt("scroll",n);break;case"onScrollEnd":c!=null&&bt("scrollend",n);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"multiple":n.multiple=c&&typeof c!="function"&&typeof c!="symbol";break;case"muted":n.muted=c&&typeof c!="function"&&typeof c!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(c==null||typeof c=="function"||typeof c=="boolean"||typeof c=="symbol"){n.removeAttribute("xlink:href");break}o=Oo(""+c),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""+c):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":c&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":c===!0?n.setAttribute(o,""):c!==!1&&c!=null&&typeof c!="function"&&typeof c!="symbol"?n.setAttribute(o,c):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":c!=null&&typeof c!="function"&&typeof c!="symbol"&&!isNaN(c)&&1<=c?n.setAttribute(o,c):n.removeAttribute(o);break;case"rowSpan":case"start":c==null||typeof c=="function"||typeof c=="symbol"||isNaN(c)?n.removeAttribute(o):n.setAttribute(o,c);break;case"popover":bt("beforetoggle",n),bt("toggle",n),Ao(n,"popover",c);break;case"xlinkActuate":An(n,"http://www.w3.org/1999/xlink","xlink:actuate",c);break;case"xlinkArcrole":An(n,"http://www.w3.org/1999/xlink","xlink:arcrole",c);break;case"xlinkRole":An(n,"http://www.w3.org/1999/xlink","xlink:role",c);break;case"xlinkShow":An(n,"http://www.w3.org/1999/xlink","xlink:show",c);break;case"xlinkTitle":An(n,"http://www.w3.org/1999/xlink","xlink:title",c);break;case"xlinkType":An(n,"http://www.w3.org/1999/xlink","xlink:type",c);break;case"xmlBase":An(n,"http://www.w3.org/XML/1998/namespace","xml:base",c);break;case"xmlLang":An(n,"http://www.w3.org/XML/1998/namespace","xml:lang",c);break;case"xmlSpace":An(n,"http://www.w3.org/XML/1998/namespace","xml:space",c);break;case"is":Ao(n,"is",c);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=nx.get(o)||o,Ao(n,o,c))}}function Yh(n,a,o,c,f,p){switch(o){case"style":Rg(n,c,p);break;case"dangerouslySetInnerHTML":if(c!=null){if(typeof c!="object"||!("__html"in c))throw Error(s(61));if(o=c.__html,o!=null){if(f.children!=null)throw Error(s(60));n.innerHTML=o}}break;case"children":typeof c=="string"?Es(n,c):(typeof c=="number"||typeof c=="bigint")&&Es(n,""+c);break;case"onScroll":c!=null&&bt("scroll",n);break;case"onScrollEnd":c!=null&&bt("scrollend",n);break;case"onClick":c!=null&&(n.onclick=xr);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!vg.hasOwnProperty(o))t:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),a=o.slice(2,f?o.length-7:void 0),p=n[we]||null,p=p!=null?p[o]:null,typeof p=="function"&&n.removeEventListener(a,p,f),typeof c=="function")){typeof p!="function"&&p!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(a,c,f);break t}o in n?n[o]=c:c===!0?n.setAttribute(o,""):Ao(n,o,c)}}}function ye(n,a,o){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":bt("error",n),bt("load",n);var c=!1,f=!1,p;for(p in o)if(o.hasOwnProperty(p)){var y=o[p];if(y!=null)switch(p){case"src":c=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:kt(n,a,p,y,o,null)}}f&&kt(n,a,"srcSet",o.srcSet,o,null),c&&kt(n,a,"src",o.src,o,null);return;case"input":bt("invalid",n);var v=p=y=f=null,E=null,R=null;for(c in o)if(o.hasOwnProperty(c)){var I=o[c];if(I!=null)switch(c){case"name":f=I;break;case"type":y=I;break;case"checked":E=I;break;case"defaultChecked":R=I;break;case"value":p=I;break;case"defaultValue":v=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(s(137,a));break;default:kt(n,a,c,I,o,null)}}Mg(n,p,v,E,R,y,f,!1),wo(n);return;case"select":bt("invalid",n),c=y=p=null;for(f in o)if(o.hasOwnProperty(f)&&(v=o[f],v!=null))switch(f){case"value":p=v;break;case"defaultValue":y=v;break;case"multiple":c=v;default:kt(n,a,f,v,o,null)}a=p,o=y,n.multiple=!!c,a!=null?xs(n,!!c,a,!1):o!=null&&xs(n,!!c,o,!0);return;case"textarea":bt("invalid",n),p=f=c=null;for(y in o)if(o.hasOwnProperty(y)&&(v=o[y],v!=null))switch(y){case"value":c=v;break;case"defaultValue":f=v;break;case"children":p=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(s(91));break;default:kt(n,a,y,v,o,null)}Dg(n,c,f,p),wo(n);return;case"option":for(E in o)if(o.hasOwnProperty(E)&&(c=o[E],c!=null))switch(E){case"selected":n.selected=c&&typeof c!="function"&&typeof c!="symbol";break;default:kt(n,a,E,c,o,null)}return;case"dialog":bt("beforetoggle",n),bt("toggle",n),bt("cancel",n),bt("close",n);break;case"iframe":case"object":bt("load",n);break;case"video":case"audio":for(c=0;c<hl.length;c++)bt(hl[c],n);break;case"image":bt("error",n),bt("load",n);break;case"details":bt("toggle",n);break;case"embed":case"source":case"link":bt("error",n),bt("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(R in o)if(o.hasOwnProperty(R)&&(c=o[R],c!=null))switch(R){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,a));default:kt(n,a,R,c,o,null)}return;default:if(au(a)){for(I in o)o.hasOwnProperty(I)&&(c=o[I],c!==void 0&&Yh(n,a,I,c,o,void 0));return}}for(v in o)o.hasOwnProperty(v)&&(c=o[v],c!=null&&kt(n,a,v,c,o,null))}function M1(n,a,o,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,p=null,y=null,v=null,E=null,R=null,I=null;for(k in o){var j=o[k];if(o.hasOwnProperty(k)&&j!=null)switch(k){case"checked":break;case"value":break;case"defaultValue":E=j;default:c.hasOwnProperty(k)||kt(n,a,k,null,c,j)}}for(var N in c){var k=c[N];if(j=o[N],c.hasOwnProperty(N)&&(k!=null||j!=null))switch(N){case"type":p=k;break;case"name":f=k;break;case"checked":R=k;break;case"defaultChecked":I=k;break;case"value":y=k;break;case"defaultValue":v=k;break;case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(s(137,a));break;default:k!==j&&kt(n,a,N,k,c,j)}}iu(n,y,v,E,R,I,p,f);return;case"select":k=y=v=N=null;for(p in o)if(E=o[p],o.hasOwnProperty(p)&&E!=null)switch(p){case"value":break;case"multiple":k=E;default:c.hasOwnProperty(p)||kt(n,a,p,null,c,E)}for(f in c)if(p=c[f],E=o[f],c.hasOwnProperty(f)&&(p!=null||E!=null))switch(f){case"value":N=p;break;case"defaultValue":v=p;break;case"multiple":y=p;default:p!==E&&kt(n,a,f,p,c,E)}a=v,o=y,c=k,N!=null?xs(n,!!o,N,!1):!!c!=!!o&&(a!=null?xs(n,!!o,a,!0):xs(n,!!o,o?[]:"",!1));return;case"textarea":k=N=null;for(v in o)if(f=o[v],o.hasOwnProperty(v)&&f!=null&&!c.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:kt(n,a,v,null,c,f)}for(y in c)if(f=c[y],p=o[y],c.hasOwnProperty(y)&&(f!=null||p!=null))switch(y){case"value":N=f;break;case"defaultValue":k=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==p&&kt(n,a,y,f,c,p)}wg(n,N,k);return;case"option":for(var ct in o)if(N=o[ct],o.hasOwnProperty(ct)&&N!=null&&!c.hasOwnProperty(ct))switch(ct){case"selected":n.selected=!1;break;default:kt(n,a,ct,null,c,N)}for(E in c)if(N=c[E],k=o[E],c.hasOwnProperty(E)&&N!==k&&(N!=null||k!=null))switch(E){case"selected":n.selected=N&&typeof N!="function"&&typeof N!="symbol";break;default:kt(n,a,E,N,c,k)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ot in o)N=o[ot],o.hasOwnProperty(ot)&&N!=null&&!c.hasOwnProperty(ot)&&kt(n,a,ot,null,c,N);for(R in c)if(N=c[R],k=o[R],c.hasOwnProperty(R)&&N!==k&&(N!=null||k!=null))switch(R){case"children":case"dangerouslySetInnerHTML":if(N!=null)throw Error(s(137,a));break;default:kt(n,a,R,N,c,k)}return;default:if(au(a)){for(var zt in o)N=o[zt],o.hasOwnProperty(zt)&&N!==void 0&&!c.hasOwnProperty(zt)&&Yh(n,a,zt,void 0,c,N);for(I in c)N=c[I],k=o[I],!c.hasOwnProperty(I)||N===k||N===void 0&&k===void 0||Yh(n,a,I,N,c,k);return}}for(var w in o)N=o[w],o.hasOwnProperty(w)&&N!=null&&!c.hasOwnProperty(w)&&kt(n,a,w,null,c,N);for(j in c)N=c[j],k=o[j],!c.hasOwnProperty(j)||N===k||N==null&&k==null||kt(n,a,j,N,c,k)}var qh=null,Fh=null;function Er(n){return n.nodeType===9?n:n.ownerDocument}function O_(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function R_(n,a){if(n===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&a==="foreignObject"?0:n}function Gh(n,a){return n==="textarea"||n==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Xh=null;function w1(){var n=window.event;return n&&n.type==="popstate"?n===Xh?!1:(Xh=n,!0):(Xh=null,!1)}var N_=typeof setTimeout=="function"?setTimeout:void 0,D1=typeof clearTimeout=="function"?clearTimeout:void 0,k_=typeof Promise=="function"?Promise:void 0,O1=typeof queueMicrotask=="function"?queueMicrotask:typeof k_<"u"?function(n){return k_.resolve(null).then(n).catch(R1)}:N_;function R1(n){setTimeout(function(){throw n})}function _i(n){return n==="head"}function z_(n,a){var o=a,c=0,f=0;do{var p=o.nextSibling;if(n.removeChild(o),p&&p.nodeType===8)if(o=p.data,o==="/$"){if(0<c&&8>c){o=c;var y=n.ownerDocument;if(o&1&&dl(y.documentElement),o&2&&dl(y.body),o&4)for(o=y.head,dl(o),y=o.firstChild;y;){var v=y.nextSibling,E=y.nodeName;y[wa]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&y.rel.toLowerCase()==="stylesheet"||o.removeChild(y),y=v}}if(f===0){n.removeChild(p),Sl(a);return}f--}else o==="$"||o==="$?"||o==="$!"?f++:c=o.charCodeAt(0)-48;else c=0;o=p}while(o);Sl(a)}function Wh(n){var a=n.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var o=a;switch(a=a.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Wh(o),Jc(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function N1(n,a,o,c){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==a.toLowerCase()){if(!c&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(c){if(!n[wa])switch(a){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(p=n.getAttribute("rel"),p==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(p!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(p=n.getAttribute("src"),(p!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&p&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(a==="input"&&n.type==="hidden"){var p=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===p)return n}else return n;if(n=hn(n.nextSibling),n===null)break}return null}function k1(n,a,o){if(a==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=hn(n.nextSibling),n===null))return null;return n}function Qh(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState==="complete"}function z1(n,a){var o=n.ownerDocument;if(n.data!=="$?"||o.readyState==="complete")a();else{var c=function(){a(),o.removeEventListener("DOMContentLoaded",c)};o.addEventListener("DOMContentLoaded",c),n._reactRetry=c}}function hn(n){for(;n!=null;n=n.nextSibling){var a=n.nodeType;if(a===1||a===3)break;if(a===8){if(a=n.data,a==="$"||a==="$!"||a==="$?"||a==="F!"||a==="F")break;if(a==="/$")return null}}return n}var Kh=null;function L_(n){n=n.previousSibling;for(var a=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return n;a--}else o==="/$"&&a++}n=n.previousSibling}return null}function I_(n,a,o){switch(a=Er(o),n){case"html":if(n=a.documentElement,!n)throw Error(s(452));return n;case"head":if(n=a.head,!n)throw Error(s(453));return n;case"body":if(n=a.body,!n)throw Error(s(454));return n;default:throw Error(s(451))}}function dl(n){for(var a=n.attributes;a.length;)n.removeAttributeNode(a[0]);Jc(n)}var sn=new Map,B_=new Set;function Tr(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var jn=P.d;P.d={f:L1,r:I1,D:B1,C:H1,L:U1,m:j1,X:V1,S:P1,M:Y1};function L1(){var n=jn.f(),a=pr();return n||a}function I1(n){var a=ys(n);a!==null&&a.tag===5&&a.type==="form"?im(a):jn.r(n)}var $s=typeof document>"u"?null:document;function H_(n,a,o){var c=$s;if(c&&typeof a=="string"&&a){var f=Ke(a);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),B_.has(f)||(B_.add(f),n={rel:n,crossOrigin:o,href:a},c.querySelector(f)===null&&(a=c.createElement("link"),ye(a,"link",n),re(a),c.head.appendChild(a)))}}function B1(n){jn.D(n),H_("dns-prefetch",n,null)}function H1(n,a){jn.C(n,a),H_("preconnect",n,a)}function U1(n,a,o){jn.L(n,a,o);var c=$s;if(c&&n&&a){var f='link[rel="preload"][as="'+Ke(a)+'"]';a==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+Ke(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+Ke(o.imageSizes)+'"]')):f+='[href="'+Ke(n)+'"]';var p=f;switch(a){case"style":p=Js(n);break;case"script":p=ta(n)}sn.has(p)||(n=m({rel:"preload",href:a==="image"&&o&&o.imageSrcSet?void 0:n,as:a},o),sn.set(p,n),c.querySelector(f)!==null||a==="style"&&c.querySelector(gl(p))||a==="script"&&c.querySelector(pl(p))||(a=c.createElement("link"),ye(a,"link",n),re(a),c.head.appendChild(a)))}}function j1(n,a){jn.m(n,a);var o=$s;if(o&&n){var c=a&&typeof a.as=="string"?a.as:"script",f='link[rel="modulepreload"][as="'+Ke(c)+'"][href="'+Ke(n)+'"]',p=f;switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=ta(n)}if(!sn.has(p)&&(n=m({rel:"modulepreload",href:n},a),sn.set(p,n),o.querySelector(f)===null)){switch(c){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(pl(p)))return}c=o.createElement("link"),ye(c,"link",n),re(c),o.head.appendChild(c)}}}function P1(n,a,o){jn.S(n,a,o);var c=$s;if(c&&n){var f=bs(c).hoistableStyles,p=Js(n);a=a||"default";var y=f.get(p);if(!y){var v={loading:0,preload:null};if(y=c.querySelector(gl(p)))v.loading=5;else{n=m({rel:"stylesheet",href:n,"data-precedence":a},o),(o=sn.get(p))&&Zh(n,o);var E=y=c.createElement("link");re(E),ye(E,"link",n),E._p=new Promise(function(R,I){E.onload=R,E.onerror=I}),E.addEventListener("load",function(){v.loading|=1}),E.addEventListener("error",function(){v.loading|=2}),v.loading|=4,Cr(y,a,c)}y={type:"stylesheet",instance:y,count:1,state:v},f.set(p,y)}}}function V1(n,a){jn.X(n,a);var o=$s;if(o&&n){var c=bs(o).hoistableScripts,f=ta(n),p=c.get(f);p||(p=o.querySelector(pl(f)),p||(n=m({src:n,async:!0},a),(a=sn.get(f))&&$h(n,a),p=o.createElement("script"),re(p),ye(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function Y1(n,a){jn.M(n,a);var o=$s;if(o&&n){var c=bs(o).hoistableScripts,f=ta(n),p=c.get(f);p||(p=o.querySelector(pl(f)),p||(n=m({src:n,async:!0,type:"module"},a),(a=sn.get(f))&&$h(n,a),p=o.createElement("script"),re(p),ye(p,"link",n),o.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},c.set(f,p))}}function U_(n,a,o,c){var f=(f=lt.current)?Tr(f):null;if(!f)throw Error(s(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(a=Js(o.href),o=bs(f).hoistableStyles,c=o.get(a),c||(c={type:"style",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Js(o.href);var p=bs(f).hoistableStyles,y=p.get(n);if(y||(f=f.ownerDocument||f,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(n,y),(p=f.querySelector(gl(n)))&&!p._p&&(y.instance=p,y.state.loading=5),sn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},sn.set(n,o),p||q1(f,n,o,y.state))),a&&c===null)throw Error(s(528,""));return y}if(a&&c!==null)throw Error(s(529,""));return null;case"script":return a=o.async,o=o.src,typeof o=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ta(o),o=bs(f).hoistableScripts,c=o.get(a),c||(c={type:"script",instance:null,count:0,state:null},o.set(a,c)),c):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,n))}}function Js(n){return'href="'+Ke(n)+'"'}function gl(n){return'link[rel="stylesheet"]['+n+"]"}function j_(n){return m({},n,{"data-precedence":n.precedence,precedence:null})}function q1(n,a,o,c){n.querySelector('link[rel="preload"][as="style"]['+a+"]")?c.loading=1:(a=n.createElement("link"),c.preload=a,a.addEventListener("load",function(){return c.loading|=1}),a.addEventListener("error",function(){return c.loading|=2}),ye(a,"link",o),re(a),n.head.appendChild(a))}function ta(n){return'[src="'+Ke(n)+'"]'}function pl(n){return"script[async]"+n}function P_(n,a,o){if(a.count++,a.instance===null)switch(a.type){case"style":var c=n.querySelector('style[data-href~="'+Ke(o.href)+'"]');if(c)return a.instance=c,re(c),c;var f=m({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return c=(n.ownerDocument||n).createElement("style"),re(c),ye(c,"style",f),Cr(c,o.precedence,n),a.instance=c;case"stylesheet":f=Js(o.href);var p=n.querySelector(gl(f));if(p)return a.state.loading|=4,a.instance=p,re(p),p;c=j_(o),(f=sn.get(f))&&Zh(c,f),p=(n.ownerDocument||n).createElement("link"),re(p);var y=p;return y._p=new Promise(function(v,E){y.onload=v,y.onerror=E}),ye(p,"link",c),a.state.loading|=4,Cr(p,o.precedence,n),a.instance=p;case"script":return p=ta(o.src),(f=n.querySelector(pl(p)))?(a.instance=f,re(f),f):(c=o,(f=sn.get(p))&&(c=m({},o),$h(c,f)),n=n.ownerDocument||n,f=n.createElement("script"),re(f),ye(f,"link",c),n.head.appendChild(f),a.instance=f);case"void":return null;default:throw Error(s(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(c=a.instance,a.state.loading|=4,Cr(c,o.precedence,n));return a.instance}function Cr(n,a,o){for(var c=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=c.length?c[c.length-1]:null,p=f,y=0;y<c.length;y++){var v=c[y];if(v.dataset.precedence===a)p=v;else if(p!==f)break}p?p.parentNode.insertBefore(n,p.nextSibling):(a=o.nodeType===9?o.head:o,a.insertBefore(n,a.firstChild))}function Zh(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.title==null&&(n.title=a.title)}function $h(n,a){n.crossOrigin==null&&(n.crossOrigin=a.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=a.referrerPolicy),n.integrity==null&&(n.integrity=a.integrity)}var Ar=null;function V_(n,a,o){if(Ar===null){var c=new Map,f=Ar=new Map;f.set(o,c)}else f=Ar,c=f.get(o),c||(c=new Map,f.set(o,c));if(c.has(n))return c;for(c.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var p=o[f];if(!(p[wa]||p[ve]||n==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var y=p.getAttribute(a)||"";y=n+y;var v=c.get(y);v?v.push(p):c.set(y,[p])}}return c}function Y_(n,a,o){n=n.ownerDocument||n,n.head.insertBefore(o,a==="title"?n.querySelector("head > title"):null)}function F1(n,a,o){if(o===1||a.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return n=a.disabled,typeof a.precedence=="string"&&n==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function q_(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}var ml=null;function G1(){}function X1(n,a,o){if(ml===null)throw Error(s(475));var c=ml;if(a.type==="stylesheet"&&(typeof o.media!="string"||matchMedia(o.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var f=Js(o.href),p=n.querySelector(gl(f));if(p){n=p._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(c.count++,c=Mr.bind(c),n.then(c,c)),a.state.loading|=4,a.instance=p,re(p);return}p=n.ownerDocument||n,o=j_(o),(f=sn.get(f))&&Zh(o,f),p=p.createElement("link"),re(p);var y=p;y._p=new Promise(function(v,E){y.onload=v,y.onerror=E}),ye(p,"link",o),a.instance=p}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(c.count++,a=Mr.bind(c),n.addEventListener("load",a),n.addEventListener("error",a))}}function W1(){if(ml===null)throw Error(s(475));var n=ml;return n.stylesheets&&n.count===0&&Jh(n,n.stylesheets),0<n.count?function(a){var o=setTimeout(function(){if(n.stylesheets&&Jh(n,n.stylesheets),n.unsuspend){var c=n.unsuspend;n.unsuspend=null,c()}},6e4);return n.unsuspend=a,function(){n.unsuspend=null,clearTimeout(o)}}:null}function Mr(){if(this.count--,this.count===0){if(this.stylesheets)Jh(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var wr=null;function Jh(n,a){n.stylesheets=null,n.unsuspend!==null&&(n.count++,wr=new Map,a.forEach(Q1,n),wr=null,Mr.call(n))}function Q1(n,a){if(!(a.state.loading&4)){var o=wr.get(n);if(o)var c=o.get(null);else{o=new Map,wr.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<f.length;p++){var y=f[p];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),c=y)}c&&o.set(null,c)}f=a.instance,y=f.getAttribute("data-precedence"),p=o.get(y)||c,p===c&&o.set(null,f),o.set(y,f),this.count++,c=Mr.bind(this),f.addEventListener("load",c),f.addEventListener("error",c),p?p.parentNode.insertBefore(f,p.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),a.state.loading|=4}}var _l={$$typeof:V,Provider:null,Consumer:null,_currentValue:Z,_currentValue2:Z,_threadCount:0};function K1(n,a,o,c,f,p,y,v){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Qc(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Qc(0),this.hiddenUpdates=Qc(null),this.identifierPrefix=c,this.onUncaughtError=f,this.onCaughtError=p,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function F_(n,a,o,c,f,p,y,v,E,R,I,j){return n=new K1(n,a,o,y,v,E,R,j),a=1,p===!0&&(a|=24),p=Ye(3,null,null,a),n.current=p,p.stateNode=n,a=zu(),a.refCount++,n.pooledCache=a,a.refCount++,p.memoizedState={element:c,isDehydrated:o,cache:a},Hu(p),n}function G_(n){return n?(n=Rs,n):Rs}function X_(n,a,o,c,f,p){f=G_(f),c.context===null?c.context=f:c.pendingContext=f,c=si(a),c.payload={element:o},p=p===void 0?null:p,p!==null&&(c.callback=p),o=ai(n,c,a),o!==null&&(We(o,n,a),Xa(o,n,a))}function W_(n,a){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<a?o:a}}function tf(n,a){W_(n,a),(n=n.alternate)&&W_(n,a)}function Q_(n){if(n.tag===13){var a=Os(n,67108864);a!==null&&We(a,n,67108864),tf(n,67108864)}}var Dr=!0;function Z1(n,a,o,c){var f=D.T;D.T=null;var p=P.p;try{P.p=2,ef(n,a,o,c)}finally{P.p=p,D.T=f}}function $1(n,a,o,c){var f=D.T;D.T=null;var p=P.p;try{P.p=8,ef(n,a,o,c)}finally{P.p=p,D.T=f}}function ef(n,a,o,c){if(Dr){var f=nf(c);if(f===null)Vh(n,a,c,Or,o),Z_(n,c);else if(tE(f,n,a,o,c))c.stopPropagation();else if(Z_(n,c),a&4&&-1<J1.indexOf(n)){for(;f!==null;){var p=ys(f);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var y=zi(p.pendingLanes);if(y!==0){var v=p;for(v.pendingLanes|=2,v.entangledLanes|=2;y;){var E=1<<31-Pe(y);v.entanglements[1]|=E,y&=~E}Sn(p),(Dt&6)===0&&(dr=mn()+500,ul(0))}}break;case 13:v=Os(p,2),v!==null&&We(v,p,2),pr(),tf(p,2)}if(p=nf(c),p===null&&Vh(n,a,c,Or,o),p===f)break;f=p}f!==null&&c.stopPropagation()}else Vh(n,a,c,null,o)}}function nf(n){return n=ou(n),sf(n)}var Or=null;function sf(n){if(Or=null,n=_s(n),n!==null){var a=r(n);if(a===null)n=null;else{var o=a.tag;if(o===13){if(n=u(a),n!==null)return n;n=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;n=null}else a!==n&&(n=null)}}return Or=n,null}function K_(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(HS()){case ug:return 2;case hg:return 8;case xo:case US:return 32;case fg:return 268435456;default:return 32}default:return 32}}var af=!1,yi=null,bi=null,vi=null,yl=new Map,bl=new Map,Si=[],J1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Z_(n,a){switch(n){case"focusin":case"focusout":yi=null;break;case"dragenter":case"dragleave":bi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":yl.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":bl.delete(a.pointerId)}}function vl(n,a,o,c,f,p){return n===null||n.nativeEvent!==p?(n={blockedOn:a,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[f]},a!==null&&(a=ys(a),a!==null&&Q_(a)),n):(n.eventSystemFlags|=c,a=n.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),n)}function tE(n,a,o,c,f){switch(a){case"focusin":return yi=vl(yi,n,a,o,c,f),!0;case"dragenter":return bi=vl(bi,n,a,o,c,f),!0;case"mouseover":return vi=vl(vi,n,a,o,c,f),!0;case"pointerover":var p=f.pointerId;return yl.set(p,vl(yl.get(p)||null,n,a,o,c,f)),!0;case"gotpointercapture":return p=f.pointerId,bl.set(p,vl(bl.get(p)||null,n,a,o,c,f)),!0}return!1}function $_(n){var a=_s(n.target);if(a!==null){var o=r(a);if(o!==null){if(a=o.tag,a===13){if(a=u(o),a!==null){n.blockedOn=a,XS(n.priority,function(){if(o.tag===13){var c=Xe();c=Kc(c);var f=Os(o,c);f!==null&&We(f,o,c),tf(o,c)}});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Rr(n){if(n.blockedOn!==null)return!1;for(var a=n.targetContainers;0<a.length;){var o=nf(n.nativeEvent);if(o===null){o=n.nativeEvent;var c=new o.constructor(o.type,o);lu=c,o.target.dispatchEvent(c),lu=null}else return a=ys(o),a!==null&&Q_(a),n.blockedOn=o,!1;a.shift()}return!0}function J_(n,a,o){Rr(n)&&o.delete(a)}function eE(){af=!1,yi!==null&&Rr(yi)&&(yi=null),bi!==null&&Rr(bi)&&(bi=null),vi!==null&&Rr(vi)&&(vi=null),yl.forEach(J_),bl.forEach(J_)}function Nr(n,a){n.blockedOn===a&&(n.blockedOn=null,af||(af=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,eE)))}var kr=null;function ty(n){kr!==n&&(kr=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){kr===n&&(kr=null);for(var a=0;a<n.length;a+=3){var o=n[a],c=n[a+1],f=n[a+2];if(typeof c!="function"){if(sf(c||o)===null)continue;break}var p=ys(o);p!==null&&(n.splice(a,3),a-=3,ih(p,{pending:!0,data:f,method:o.method,action:c},c,f))}}))}function Sl(n){function a(E){return Nr(E,n)}yi!==null&&Nr(yi,n),bi!==null&&Nr(bi,n),vi!==null&&Nr(vi,n),yl.forEach(a),bl.forEach(a);for(var o=0;o<Si.length;o++){var c=Si[o];c.blockedOn===n&&(c.blockedOn=null)}for(;0<Si.length&&(o=Si[0],o.blockedOn===null);)$_(o),o.blockedOn===null&&Si.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(c=0;c<o.length;c+=3){var f=o[c],p=o[c+1],y=f[we]||null;if(typeof p=="function")y||ty(o);else if(y){var v=null;if(p&&p.hasAttribute("formAction")){if(f=p,y=p[we]||null)v=y.formAction;else if(sf(f)!==null)continue}else v=y.action;typeof v=="function"?o[c+1]=v:(o.splice(c,3),c-=3),ty(o)}}}function lf(n){this._internalRoot=n}zr.prototype.render=lf.prototype.render=function(n){var a=this._internalRoot;if(a===null)throw Error(s(409));var o=a.current,c=Xe();X_(o,c,n,a,null,null)},zr.prototype.unmount=lf.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var a=n.containerInfo;X_(n.current,2,null,n,null,null),pr(),a[ms]=null}};function zr(n){this._internalRoot=n}zr.prototype.unstable_scheduleHydration=function(n){if(n){var a=_g();n={blockedOn:null,target:n,priority:a};for(var o=0;o<Si.length&&a!==0&&a<Si[o].priority;o++);Si.splice(o,0,n),o===0&&$_(n)}};var ey=t.version;if(ey!=="19.1.0")throw Error(s(527,ey,"19.1.0"));P.findDOMNode=function(n){var a=n._reactInternals;if(a===void 0)throw typeof n.render=="function"?Error(s(188)):(n=Object.keys(n).join(","),Error(s(268,n)));return n=d(a),n=n!==null?g(n):null,n=n===null?null:n.stateNode,n};var nE={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:D,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lr=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lr.isDisabled&&Lr.supportsFiber)try{Ca=Lr.inject(nE),je=Lr}catch{}}return El.createRoot=function(n,a){if(!l(n))throw Error(s(299));var o=!1,c="",f=_m,p=ym,y=bm,v=null;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(p=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(v=a.unstable_transitionCallbacks)),a=F_(n,1,!1,null,null,o,c,f,p,y,v,null),n[ms]=a.current,Ph(n),new lf(a)},El.hydrateRoot=function(n,a,o){if(!l(n))throw Error(s(299));var c=!1,f="",p=_m,y=ym,v=bm,E=null,R=null;return o!=null&&(o.unstable_strictMode===!0&&(c=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(p=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(v=o.onRecoverableError),o.unstable_transitionCallbacks!==void 0&&(E=o.unstable_transitionCallbacks),o.formState!==void 0&&(R=o.formState)),a=F_(n,1,!0,a,o??null,c,f,p,y,v,E,R),a.context=G_(null),o=a.current,c=Xe(),c=Kc(c),f=si(c),f.callback=null,ai(o,f,c),o=c,a.current.lanes=o,Ma(a,o),Sn(a),n[ms]=a.current,Ph(n),new zr(a)},El.version="19.1.0",El}var hy;function pE(){if(hy)return cf.exports;hy=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),cf.exports=gE(),cf.exports}var mE=pE();const _E=()=>{};var fy={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F=function(i,t){if(!i)throw ba(t)},ba=function(i){return new Error("Firebase Database ("+b0.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):(l&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(i.charCodeAt(++s)&1023),t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},yE=function(i){const t=[];let e=0,s=0;for(;e<i.length;){const l=i[e++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const r=i[e++];t[s++]=String.fromCharCode((l&31)<<6|r&63)}else if(l>239&&l<365){const r=i[e++],u=i[e++],h=i[e++],d=((l&7)<<18|(r&63)<<12|(u&63)<<6|h&63)-65536;t[s++]=String.fromCharCode(55296+(d>>10)),t[s++]=String.fromCharCode(56320+(d&1023))}else{const r=i[e++],u=i[e++];t[s++]=String.fromCharCode((l&15)<<12|(r&63)<<6|u&63)}}return t.join("")},ud={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,t){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<i.length;l+=3){const r=i[l],u=l+1<i.length,h=u?i[l+1]:0,d=l+2<i.length,g=d?i[l+2]:0,m=r>>2,_=(r&3)<<4|h>>4;let b=(h&15)<<2|g>>6,S=g&63;d||(S=64,u||(b=64)),s.push(e[m],e[_],e[b],e[S])}return s.join("")},encodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(i):this.encodeByteArray(v0(i),t)},decodeString(i,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(i):yE(this.decodeStringToByteArray(i,t))},decodeStringToByteArray(i,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<i.length;){const r=e[i.charAt(l++)],h=l<i.length?e[i.charAt(l)]:0;++l;const g=l<i.length?e[i.charAt(l)]:64;++l;const _=l<i.length?e[i.charAt(l)]:64;if(++l,r==null||h==null||g==null||_==null)throw new bE;const b=r<<2|h>>4;if(s.push(b),g!==64){const S=h<<4&240|g>>2;if(s.push(S),_!==64){const x=g<<6&192|_;s.push(x)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class bE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const S0=function(i){const t=v0(i);return ud.encodeByteArray(t,!0)},ac=function(i){return S0(i).replace(/\./g,"")},kf=function(i){try{return ud.decodeString(i,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vE(i){return x0(void 0,i)}function x0(i,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const e=t;return new Date(e.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return t}for(const e in t)!t.hasOwnProperty(e)||!SE(e)||(i[e]=x0(i[e],t[e]));return i}function SE(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EE=()=>xE().__FIREBASE_DEFAULTS__,TE=()=>{if(typeof process>"u"||typeof fy>"u")return;const i=fy.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},CE=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=i&&kf(i[1]);return t&&JSON.parse(t)},E0=()=>{try{return _E()||EE()||TE()||CE()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},AE=i=>{var t,e;return(e=(t=E0())===null||t===void 0?void 0:t.emulatorHosts)===null||e===void 0?void 0:e[i]},ME=i=>{const t=AE(i);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),s]:[t.substring(0,e),s]},T0=()=>{var i;return(i=E0())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,s)=>{e?this.reject(e):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wE(i,t){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},s=t||"demo-project",l=i.iat||0,r=i.sub||i.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},i);return[ac(JSON.stringify(e)),ac(JSON.stringify(u)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DE(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function C0(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(DE())}function OE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function RE(){return b0.NODE_ADMIN===!0}function NE(){try{return typeof indexedDB=="object"}catch{return!1}}function kE(){return new Promise((i,t)=>{try{let e=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),e||self.indexedDB.deleteDatabase(s),i(!0)},l.onupgradeneeded=()=>{e=!1},l.onerror=()=>{var r;t(((r=l.error)===null||r===void 0?void 0:r.message)||"")}}catch(e){t(e)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zE="FirebaseError";class go extends Error{constructor(t,e,s){super(e),this.code=t,this.customData=s,this.name=zE,Object.setPrototypeOf(this,go.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,A0.prototype.create)}}class A0{constructor(t,e,s){this.service=t,this.serviceName=e,this.errors=s}create(t,...e){const s=e[0]||{},l=`${this.service}/${t}`,r=this.errors[t],u=r?LE(r,s):"Error",h=`${this.serviceName}: ${u} (${l}).`;return new go(l,h,s)}}function LE(i,t){return i.replace(IE,(e,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const IE=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ql(i){return JSON.parse(i)}function ge(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=function(i){let t={},e={},s={},l="";try{const r=i.split(".");t=Ql(kf(r[0])||""),e=Ql(kf(r[1])||""),l=r[2],s=e.d||{},delete e.d}catch{}return{header:t,claims:e,data:s,signature:l}},BE=function(i){const t=M0(i),e=t.claims;return!!e&&typeof e=="object"&&e.hasOwnProperty("iat")},HE=function(i){const t=M0(i).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zn(i,t){return Object.prototype.hasOwnProperty.call(i,t)}function fa(i,t){if(Object.prototype.hasOwnProperty.call(i,t))return i[t]}function dy(i){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t))return!1;return!0}function lc(i,t,e){const s={};for(const l in i)Object.prototype.hasOwnProperty.call(i,l)&&(s[l]=t.call(e,i[l],l,i));return s}function oc(i,t){if(i===t)return!0;const e=Object.keys(i),s=Object.keys(t);for(const l of e){if(!s.includes(l))return!1;const r=i[l],u=t[l];if(gy(r)&&gy(u)){if(!oc(r,u))return!1}else if(r!==u)return!1}for(const l of s)if(!e.includes(l))return!1;return!0}function gy(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(i){const t=[];for(const[e,s]of Object.entries(i))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,e){e||(e=0);const s=this.W_;if(typeof t=="string")for(let _=0;_<16;_++)s[_]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(let _=0;_<16;_++)s[_]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(let _=16;_<80;_++){const b=s[_-3]^s[_-8]^s[_-14]^s[_-16];s[_]=(b<<1|b>>>31)&4294967295}let l=this.chain_[0],r=this.chain_[1],u=this.chain_[2],h=this.chain_[3],d=this.chain_[4],g,m;for(let _=0;_<80;_++){_<40?_<20?(g=h^r&(u^h),m=1518500249):(g=r^u^h,m=1859775393):_<60?(g=r&u|h&(r|u),m=2400959708):(g=r^u^h,m=3395469782);const b=(l<<5|l>>>27)+g+d+m+s[_]&4294967295;d=h,h=u,u=(r<<30|r>>>2)&4294967295,r=l,l=b}this.chain_[0]=this.chain_[0]+l&4294967295,this.chain_[1]=this.chain_[1]+r&4294967295,this.chain_[2]=this.chain_[2]+u&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+d&4294967295}update(t,e){if(t==null)return;e===void 0&&(e=t.length);const s=e-this.blockSize;let l=0;const r=this.buf_;let u=this.inbuf_;for(;l<e;){if(u===0)for(;l<=s;)this.compress_(t,l),l+=this.blockSize;if(typeof t=="string"){for(;l<e;)if(r[u]=t.charCodeAt(l),++u,++l,u===this.blockSize){this.compress_(r),u=0;break}}else for(;l<e;)if(r[u]=t[l],++u,++l,u===this.blockSize){this.compress_(r),u=0;break}}this.inbuf_=u,this.total_+=e}digest(){const t=[];let e=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let l=this.blockSize-1;l>=56;l--)this.buf_[l]=e&255,e/=256;this.compress_(this.buf_);let s=0;for(let l=0;l<5;l++)for(let r=24;r>=0;r-=8)t[s]=this.chain_[l]>>r&255,++s;return t}}function hd(i,t){return`${i} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PE=function(i){const t=[];let e=0;for(let s=0;s<i.length;s++){let l=i.charCodeAt(s);if(l>=55296&&l<=56319){const r=l-55296;s++,F(s<i.length,"Surrogate pair missing trail surrogate.");const u=i.charCodeAt(s)-56320;l=65536+(r<<10)+u}l<128?t[e++]=l:l<2048?(t[e++]=l>>6|192,t[e++]=l&63|128):l<65536?(t[e++]=l>>12|224,t[e++]=l>>6&63|128,t[e++]=l&63|128):(t[e++]=l>>18|240,t[e++]=l>>12&63|128,t[e++]=l>>6&63|128,t[e++]=l&63|128)}return t},Nc=function(i){let t=0;for(let e=0;e<i.length;e++){const s=i.charCodeAt(e);s<128?t++:s<2048?t+=2:s>=55296&&s<=56319?(t+=4,e++):t+=3}return t};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function va(i){return i&&i._delegate?i._delegate:i}class Kl{constructor(t,e,s){this.name=t,this.instanceFactory=e,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const s=new Rc;if(this.instancesDeferred.set(e,s),this.isInitialized(e)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:e});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){var e;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(e=t==null?void 0:t.optional)!==null&&e!==void 0?e:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(l)return null;throw r}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(qE(t))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(const[e,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(e);try{const r=this.getOrInitializeService({instanceIdentifier:l});s.resolve(r)}catch{}}}}clearInstance(t=es){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=es){return this.instances.has(t)}getOptions(t=es){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:e});for(const[r,u]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(r);s===h&&u.resolve(l)}return l}onInit(t,e){var s;const l=this.normalizeInstanceIdentifier(e),r=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;r.add(t),this.onInitCallbacks.set(l,r);const u=this.instances.get(l);return u&&t(u,l),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const s=this.onInitCallbacks.get(e);if(s)for(const l of s)try{l(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:YE(t),options:e}),this.instances.set(t,s),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=es){return this.component?this.component.multipleInstances?t:es:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YE(i){return i===es?void 0:i}function qE(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new VE(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ht;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Ht||(Ht={}));const GE={debug:Ht.DEBUG,verbose:Ht.VERBOSE,info:Ht.INFO,warn:Ht.WARN,error:Ht.ERROR,silent:Ht.SILENT},XE=Ht.INFO,WE={[Ht.DEBUG]:"log",[Ht.VERBOSE]:"log",[Ht.INFO]:"info",[Ht.WARN]:"warn",[Ht.ERROR]:"error"},QE=(i,t,...e)=>{if(t<i.logLevel)return;const s=new Date().toISOString(),l=WE[t];if(l)console[l](`[${s}]  ${i.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class w0{constructor(t){this.name=t,this._logLevel=XE,this._logHandler=QE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ht))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?GE[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ht.DEBUG,...t),this._logHandler(this,Ht.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ht.VERBOSE,...t),this._logHandler(this,Ht.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ht.INFO,...t),this._logHandler(this,Ht.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ht.WARN,...t),this._logHandler(this,Ht.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ht.ERROR,...t),this._logHandler(this,Ht.ERROR,...t)}}const KE=(i,t)=>t.some(e=>i instanceof e);let py,my;function ZE(){return py||(py=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $E(){return my||(my=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const D0=new WeakMap,zf=new WeakMap,O0=new WeakMap,df=new WeakMap,fd=new WeakMap;function JE(i){const t=new Promise((e,s)=>{const l=()=>{i.removeEventListener("success",r),i.removeEventListener("error",u)},r=()=>{e(Ai(i.result)),l()},u=()=>{s(i.error),l()};i.addEventListener("success",r),i.addEventListener("error",u)});return t.then(e=>{e instanceof IDBCursor&&D0.set(e,i)}).catch(()=>{}),fd.set(t,i),t}function tT(i){if(zf.has(i))return;const t=new Promise((e,s)=>{const l=()=>{i.removeEventListener("complete",r),i.removeEventListener("error",u),i.removeEventListener("abort",u)},r=()=>{e(),l()},u=()=>{s(i.error||new DOMException("AbortError","AbortError")),l()};i.addEventListener("complete",r),i.addEventListener("error",u),i.addEventListener("abort",u)});zf.set(i,t)}let Lf={get(i,t,e){if(i instanceof IDBTransaction){if(t==="done")return zf.get(i);if(t==="objectStoreNames")return i.objectStoreNames||O0.get(i);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Ai(i[t])},set(i,t,e){return i[t]=e,!0},has(i,t){return i instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in i}};function eT(i){Lf=i(Lf)}function nT(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const s=i.call(gf(this),t,...e);return O0.set(s,t.sort?t.sort():[t]),Ai(s)}:$E().includes(i)?function(...t){return i.apply(gf(this),t),Ai(D0.get(this))}:function(...t){return Ai(i.apply(gf(this),t))}}function iT(i){return typeof i=="function"?nT(i):(i instanceof IDBTransaction&&tT(i),KE(i,ZE())?new Proxy(i,Lf):i)}function Ai(i){if(i instanceof IDBRequest)return JE(i);if(df.has(i))return df.get(i);const t=iT(i);return t!==i&&(df.set(i,t),fd.set(t,i)),t}const gf=i=>fd.get(i);function sT(i,t,{blocked:e,upgrade:s,blocking:l,terminated:r}={}){const u=indexedDB.open(i,t),h=Ai(u);return s&&u.addEventListener("upgradeneeded",d=>{s(Ai(u.result),d.oldVersion,d.newVersion,Ai(u.transaction),d)}),e&&u.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),h.then(d=>{r&&d.addEventListener("close",()=>r()),l&&d.addEventListener("versionchange",g=>l(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const aT=["get","getKey","getAll","getAllKeys","count"],lT=["put","add","delete","clear"],pf=new Map;function _y(i,t){if(!(i instanceof IDBDatabase&&!(t in i)&&typeof t=="string"))return;if(pf.get(t))return pf.get(t);const e=t.replace(/FromIndex$/,""),s=t!==e,l=lT.includes(e);if(!(e in(s?IDBIndex:IDBObjectStore).prototype)||!(l||aT.includes(e)))return;const r=async function(u,...h){const d=this.transaction(u,l?"readwrite":"readonly");let g=d.store;return s&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),l&&d.done]))[0]};return pf.set(t,r),r}eT(i=>({...i,get:(t,e,s)=>_y(t,e)||i.get(t,e,s),has:(t,e)=>!!_y(t,e)||i.has(t,e)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(rT(e)){const s=e.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(e=>e).join(" ")}}function rT(i){const t=i.getComponent();return(t==null?void 0:t.type)==="VERSION"}const If="@firebase/app",yy="0.11.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wn=new w0("@firebase/app"),cT="@firebase/app-compat",uT="@firebase/analytics-compat",hT="@firebase/analytics",fT="@firebase/app-check-compat",dT="@firebase/app-check",gT="@firebase/auth",pT="@firebase/auth-compat",mT="@firebase/database",_T="@firebase/data-connect",yT="@firebase/database-compat",bT="@firebase/functions",vT="@firebase/functions-compat",ST="@firebase/installations",xT="@firebase/installations-compat",ET="@firebase/messaging",TT="@firebase/messaging-compat",CT="@firebase/performance",AT="@firebase/performance-compat",MT="@firebase/remote-config",wT="@firebase/remote-config-compat",DT="@firebase/storage",OT="@firebase/storage-compat",RT="@firebase/firestore",NT="@firebase/vertexai",kT="@firebase/firestore-compat",zT="firebase",LT="11.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bf="[DEFAULT]",IT={[If]:"fire-core",[cT]:"fire-core-compat",[hT]:"fire-analytics",[uT]:"fire-analytics-compat",[dT]:"fire-app-check",[fT]:"fire-app-check-compat",[gT]:"fire-auth",[pT]:"fire-auth-compat",[mT]:"fire-rtdb",[_T]:"fire-data-connect",[yT]:"fire-rtdb-compat",[bT]:"fire-fn",[vT]:"fire-fn-compat",[ST]:"fire-iid",[xT]:"fire-iid-compat",[ET]:"fire-fcm",[TT]:"fire-fcm-compat",[CT]:"fire-perf",[AT]:"fire-perf-compat",[MT]:"fire-rc",[wT]:"fire-rc-compat",[DT]:"fire-gcs",[OT]:"fire-gcs-compat",[RT]:"fire-fst",[kT]:"fire-fst-compat",[NT]:"fire-vertex","fire-js":"fire-js",[zT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rc=new Map,BT=new Map,Hf=new Map;function by(i,t){try{i.container.addComponent(t)}catch(e){Wn.debug(`Component ${t.name} failed to register with FirebaseApp ${i.name}`,e)}}function cc(i){const t=i.name;if(Hf.has(t))return Wn.debug(`There were multiple attempts to register component ${t}.`),!1;Hf.set(t,i);for(const e of rc.values())by(e,i);for(const e of BT.values())by(e,i);return!0}function HT(i,t){const e=i.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),i.container.getProvider(t)}function UT(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jT={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mi=new A0("app","Firebase",jT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PT{constructor(t,e,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},e),this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Kl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=LT;function R0(i,t={}){let e=i;typeof t!="object"&&(t={name:t});const s=Object.assign({name:Bf,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Mi.create("bad-app-name",{appName:String(l)});if(e||(e=T0()),!e)throw Mi.create("no-options");const r=rc.get(l);if(r){if(oc(e,r.options)&&oc(s,r.config))return r;throw Mi.create("duplicate-app",{appName:l})}const u=new FE(l);for(const d of Hf.values())u.addComponent(d);const h=new PT(e,s,u);return rc.set(l,h),h}function YT(i=Bf){const t=rc.get(i);if(!t&&i===Bf&&T0())return R0();if(!t)throw Mi.create("no-app",{appName:i});return t}function la(i,t,e){var s;let l=(s=IT[i])!==null&&s!==void 0?s:i;e&&(l+=`-${e}`);const r=l.match(/\s|\//),u=t.match(/\s|\//);if(r||u){const h=[`Unable to register library "${l}" with version "${t}":`];r&&h.push(`library name "${l}" contains illegal characters (whitespace or "/")`),r&&u&&h.push("and"),u&&h.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Wn.warn(h.join(" "));return}cc(new Kl(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qT="firebase-heartbeat-database",FT=1,Zl="firebase-heartbeat-store";let mf=null;function N0(){return mf||(mf=sT(qT,FT,{upgrade:(i,t)=>{switch(t){case 0:try{i.createObjectStore(Zl)}catch(e){console.warn(e)}}}}).catch(i=>{throw Mi.create("idb-open",{originalErrorMessage:i.message})})),mf}async function GT(i){try{const e=(await N0()).transaction(Zl),s=await e.objectStore(Zl).get(k0(i));return await e.done,s}catch(t){if(t instanceof go)Wn.warn(t.message);else{const e=Mi.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Wn.warn(e.message)}}}async function vy(i,t){try{const s=(await N0()).transaction(Zl,"readwrite");await s.objectStore(Zl).put(t,k0(i)),await s.done}catch(e){if(e instanceof go)Wn.warn(e.message);else{const s=Mi.create("idb-set",{originalErrorMessage:e==null?void 0:e.message});Wn.warn(s.message)}}}function k0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=1024,WT=30;class QT{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new ZT(e),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,e;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Sy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(u=>u.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:l}),this._heartbeatsCache.heartbeats.length>WT){const u=$T(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Wn.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Sy(),{heartbeatsToSend:s,unsentEntries:l}=KT(this._heartbeatsCache.heartbeats),r=ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(e){return Wn.warn(e),""}}}function Sy(){return new Date().toISOString().substring(0,10)}function KT(i,t=XT){const e=[];let s=i.slice();for(const l of i){const r=e.find(u=>u.agent===l.agent);if(r){if(r.dates.push(l.date),xy(e)>t){r.dates.pop();break}}else if(e.push({agent:l.agent,dates:[l.date]}),xy(e)>t){e.pop();break}s=s.slice(1)}return{heartbeatsToSend:e,unsentEntries:s}}class ZT{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NE()?kE().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await GT(this.app);return e!=null&&e.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return vy(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var e;if(await this._canUseIndexedDBPromise){const l=await this.read();return vy(this.app,{lastSentHeartbeatDate:(e=t.lastSentHeartbeatDate)!==null&&e!==void 0?e:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function xy(i){return ac(JSON.stringify({version:2,heartbeats:i})).length}function $T(i){if(i.length===0)return-1;let t=0,e=i[0].date;for(let s=1;s<i.length;s++)i[s].date<e&&(e=i[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(i){cc(new Kl("platform-logger",t=>new oT(t),"PRIVATE")),cc(new Kl("heartbeat",t=>new QT(t),"PRIVATE")),la(If,yy,i),la(If,yy,"esm2017"),la("fire-js","")}JT("");var tC="firebase",eC="11.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */la(tC,eC,"app");var Ey={};const Ty="@firebase/database",Cy="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let z0="";function nC(i){z0=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,e){e==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),ge(e))}get(t){const e=this.domStorage_.getItem(this.prefixedName_(t));return e==null?null:Ql(e)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sC{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,e){e==null?delete this.cache_[t]:this.cache_[t]=e}get(t){return Zn(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const t=window[i];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new iC(t)}}catch{}return new sC},as=L0("localStorage"),aC=L0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oa=new w0("@firebase/database"),lC=function(){let i=1;return function(){return i++}}(),I0=function(i){const t=PE(i),e=new jE;e.update(t);const s=e.digest();return ud.encodeByteArray(s)},po=function(...i){let t="";for(let e=0;e<i.length;e++){const s=i[e];Array.isArray(s)||s&&typeof s=="object"&&typeof s.length=="number"?t+=po.apply(null,s):typeof s=="object"?t+=ge(s):t+=s,t+=" "}return t};let Ul=null,Ay=!0;const oC=function(i,t){F(!0,"Can't turn on custom loggers persistently."),oa.logLevel=Ht.VERBOSE,Ul=oa.log.bind(oa)},Te=function(...i){if(Ay===!0&&(Ay=!1,Ul===null&&aC.get("logging_enabled")===!0&&oC()),Ul){const t=po.apply(null,i);Ul(t)}},mo=function(i){return function(...t){Te(i,...t)}},Uf=function(...i){const t="FIREBASE INTERNAL ERROR: "+po(...i);oa.error(t)},Qn=function(...i){const t=`FIREBASE FATAL ERROR: ${po(...i)}`;throw oa.error(t),new Error(t)},Be=function(...i){const t="FIREBASE WARNING: "+po(...i);oa.warn(t)},rC=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Be("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},B0=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},cC=function(i){if(document.readyState==="complete")i();else{let t=!1;const e=function(){if(!document.body){setTimeout(e,Math.floor(10));return}t||(t=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",e,!1),window.addEventListener("load",e,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&e()}),window.attachEvent("onload",e))}},da="[MIN_NAME]",cs="[MAX_NAME]",Sa=function(i,t){if(i===t)return 0;if(i===da||t===cs)return-1;if(t===da||i===cs)return 1;{const e=My(i),s=My(t);return e!==null?s!==null?e-s===0?i.length-t.length:e-s:-1:s!==null?1:i<t?-1:1}},uC=function(i,t){return i===t?0:i<t?-1:1},Tl=function(i,t){if(t&&i in t)return t[i];throw new Error("Missing required key ("+i+") in object: "+ge(t))},dd=function(i){if(typeof i!="object"||i===null)return ge(i);const t=[];for(const s in i)t.push(s);t.sort();let e="{";for(let s=0;s<t.length;s++)s!==0&&(e+=","),e+=ge(t[s]),e+=":",e+=dd(i[t[s]]);return e+="}",e},H0=function(i,t){const e=i.length;if(e<=t)return[i];const s=[];for(let l=0;l<e;l+=t)l+t>e?s.push(i.substring(l,e)):s.push(i.substring(l,l+t));return s};function He(i,t){for(const e in i)i.hasOwnProperty(e)&&t(e,i[e])}const U0=function(i){F(!B0(i),"Invalid JSON number");const t=11,e=52,s=(1<<t-1)-1;let l,r,u,h,d;i===0?(r=0,u=0,l=1/i===-1/0?1:0):(l=i<0,i=Math.abs(i),i>=Math.pow(2,1-s)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),s),r=h+s,u=Math.round(i*Math.pow(2,e-h)-Math.pow(2,e))):(r=0,u=Math.round(i/Math.pow(2,1-s-e))));const g=[];for(d=e;d;d-=1)g.push(u%2?1:0),u=Math.floor(u/2);for(d=t;d;d-=1)g.push(r%2?1:0),r=Math.floor(r/2);g.push(l?1:0),g.reverse();const m=g.join("");let _="";for(d=0;d<64;d+=8){let b=parseInt(m.substr(d,8),2).toString(16);b.length===1&&(b="0"+b),_=_+b}return _.toLowerCase()},hC=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},fC=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function dC(i,t){let e="Unknown Error";i==="too_big"?e="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?e="Client doesn't have permission to access the desired data.":i==="unavailable"&&(e="The service is unavailable");const s=new Error(i+" at "+t._path.toString()+": "+e);return s.code=i.toUpperCase(),s}const gC=new RegExp("^-?(0*)\\d{1,10}$"),pC=-2147483648,mC=2147483647,My=function(i){if(gC.test(i)){const t=Number(i);if(t>=pC&&t<=mC)return t}return null},xa=function(i){try{i()}catch(t){setTimeout(()=>{const e=t.stack||"";throw Be("Exception was thrown by user callback.",e),t},Math.floor(0))}},_C=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},jl=function(i,t){const e=setTimeout(i,t);return typeof e=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(e):typeof e=="object"&&e.unref&&e.unref(),e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(t,e){this.appCheckProvider=e,this.appName=t.name,UT(t)&&t.settings.appCheckToken&&(this.serverAppAppCheckToken=t.settings.appCheckToken),this.appCheck=e==null?void 0:e.getImmediate({optional:!0}),this.appCheck||e==null||e.get().then(s=>this.appCheck=s)}getToken(t){if(this.serverAppAppCheckToken){if(t)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(t):new Promise((e,s)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){var e;(e=this.appCheckProvider)===null||e===void 0||e.get().then(s=>s.addTokenListener(t))}notifyForInvalidToken(){Be(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bC{constructor(t,e,s){this.appName_=t,this.firebaseOptions_=e,this.authProvider_=s,this.auth_=null,this.auth_=s.getImmediate({optional:!0}),this.auth_||s.onInit(l=>this.auth_=l)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(e=>e&&e.code==="auth/token-not-initialized"?(Te("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((e,s)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(e,s):e(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(e=>e.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(e=>e.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Be(t)}}class tc{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}tc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gd="5",j0="v",P0="s",V0="r",Y0="f",q0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,F0="ls",G0="p",jf="ac",X0="websocket",W0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t,e,s,l,r=!1,u="",h=!1,d=!1,g=null){this.secure=e,this.namespace=s,this.webSocketOnly=l,this.nodeAdmin=r,this.persistenceKey=u,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=d,this.emulatorOptions=g,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=as.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&as.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",e=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${e}`}}function vC(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function K0(i,t,e){F(typeof t=="string","typeof type must == string"),F(typeof e=="object","typeof params must == object");let s;if(t===X0)s=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(t===W0)s=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);vC(i)&&(e.ns=i.namespace);const l=[];return He(e,(r,u)=>{l.push(r+"="+u)}),s+l.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SC{constructor(){this.counters_={}}incrementCounter(t,e=1){Zn(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e}get(){return vE(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _f={},yf={};function pd(i){const t=i.toString();return _f[t]||(_f[t]=new SC),_f[t]}function xC(i,t){const e=i.toString();return yf[e]||(yf[e]=t()),yf[e]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EC{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,e){for(this.pendingResponses[t]=e;this.pendingResponses[this.currentResponseNum];){const s=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let l=0;l<s.length;++l)s[l]&&xa(()=>{this.onMessage_(s[l])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy="start",TC="close",CC="pLPCommand",AC="pRTLPCB",Z0="id",$0="pw",J0="ser",MC="cb",wC="seg",DC="ts",OC="d",RC="dframe",tv=1870,ev=30,NC=tv-ev,kC=25e3,zC=3e4;class sa{constructor(t,e,s,l,r,u,h){this.connId=t,this.repoInfo=e,this.applicationId=s,this.appCheckToken=l,this.authToken=r,this.transportSessionId=u,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=mo(t),this.stats_=pd(e),this.urlFn=d=>(this.appCheckToken&&(d[jf]=this.appCheckToken),K0(e,W0,d))}open(t,e){this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new EC(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(zC)),cC(()=>{if(this.isClosed_)return;this.scriptTagHolder=new md((...r)=>{const[u,h,d,g,m]=r;if(this.incrementIncomingBytes_(r),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,u===wy)this.id=h,this.password=d;else if(u===TC)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+u)},(...r)=>{const[u,h]=r;this.incrementIncomingBytes_(r),this.myPacketOrderer.handleResponse(u,h)},()=>{this.onClosed_()},this.urlFn);const s={};s[wy]="t",s[J0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(s[MC]=this.scriptTagHolder.uniqueCallbackIdentifier),s[j0]=gd,this.transportSessionId&&(s[P0]=this.transportSessionId),this.lastSessionId&&(s[F0]=this.lastSessionId),this.applicationId&&(s[G0]=this.applicationId),this.appCheckToken&&(s[jf]=this.appCheckToken),typeof location<"u"&&location.hostname&&q0.test(location.hostname)&&(s[V0]=Y0);const l=this.urlFn(s);this.log_("Connecting via long-poll to "+l),this.scriptTagHolder.addTag(l,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){sa.forceAllow_=!0}static forceDisallow(){sa.forceDisallow_=!0}static isAvailable(){return sa.forceAllow_?!0:!sa.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!hC()&&!fC()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const e=ge(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=S0(e),l=H0(s,NC);for(let r=0;r<l.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,l.length,l[r]),this.curSegmentNum++}addDisconnectPingFrame(t,e){this.myDisconnFrame=document.createElement("iframe");const s={};s[RC]="t",s[Z0]=t,s[$0]=e,this.myDisconnFrame.src=this.urlFn(s),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const e=ge(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)}}class md{constructor(t,e,s,l){this.onDisconnect=s,this.urlFn=l,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=lC(),window[CC+this.uniqueCallbackIdentifier]=t,window[AC+this.uniqueCallbackIdentifier]=e,this.myIFrame=md.createIFrame_();let r="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(r='<script>document.domain="'+document.domain+'";<\/script>');const u="<html><body>"+r+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(h){Te("frame writing exception"),h.stack&&Te(h.stack),Te(h)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Te("No IE domain setting required")}catch{const s=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+s+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[Z0]=this.myID,t[$0]=this.myPW,t[J0]=this.currentSerial;let e=this.urlFn(t),s="",l=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+ev+s.length<=tv;){const u=this.pendingSegs.shift();s=s+"&"+wC+l+"="+u.seg+"&"+DC+l+"="+u.ts+"&"+OC+l+"="+u.d,l++}return e=e+s,this.addLongPollTag_(e,this.currentSerial),!0}else return!1}enqueueSegment(t,e,s){this.pendingSegs.push({seg:t,ts:e,d:s}),this.alive&&this.newRequest_()}addLongPollTag_(t,e){this.outstandingRequests.add(e);const s=()=>{this.outstandingRequests.delete(e),this.newRequest_()},l=setTimeout(s,Math.floor(kC)),r=()=>{clearTimeout(l),s()};this.addTag(t,r)}addTag(t,e){setTimeout(()=>{try{if(!this.sendNewPolls)return;const s=this.myIFrame.doc.createElement("script");s.type="text/javascript",s.async=!0,s.src=t,s.onload=s.onreadystatechange=function(){const l=s.readyState;(!l||l==="loaded"||l==="complete")&&(s.onload=s.onreadystatechange=null,s.parentNode&&s.parentNode.removeChild(s),e())},s.onerror=()=>{Te("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(s)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC=16384,IC=45e3;let uc=null;typeof MozWebSocket<"u"?uc=MozWebSocket:typeof WebSocket<"u"&&(uc=WebSocket);class fn{constructor(t,e,s,l,r,u,h){this.connId=t,this.applicationId=s,this.appCheckToken=l,this.authToken=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=mo(this.connId),this.stats_=pd(e),this.connURL=fn.connectionURL_(e,u,h,l,s),this.nodeAdmin=e.nodeAdmin}static connectionURL_(t,e,s,l,r){const u={};return u[j0]=gd,typeof location<"u"&&location.hostname&&q0.test(location.hostname)&&(u[V0]=Y0),e&&(u[P0]=e),s&&(u[F0]=s),l&&(u[jf]=l),r&&(u[G0]=r),K0(t,X0,u)}open(t,e){this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,as.set("previous_websocket_failure",!0);try{let s;RE(),this.mySock=new uc(this.connURL,[],s)}catch(s){this.log_("Error instantiating WebSocket.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=s=>{this.handleIncomingFrame(s)},this.mySock.onerror=s=>{this.log_("WebSocket error.  Closing connection.");const l=s.message||s.data;l&&this.log_(l),this.onClosed_()}}start(){}static forceDisallow(){fn.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const e=/Android ([0-9]{0,}\.[0-9]{0,})/,s=navigator.userAgent.match(e);s&&s.length>1&&parseFloat(s[1])<4.4&&(t=!0)}return!t&&uc!==null&&!fn.forceDisallow_}static previouslyFailed(){return as.isInMemoryStorage||as.get("previous_websocket_failure")===!0}markConnectionHealthy(){as.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const s=Ql(e);this.onMessage(s)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(F(this.frames===null,"We already have a frame buffer"),t.length<=6){const e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(e);else{const s=this.extractFrameCount_(e);s!==null&&this.appendFrame_(s)}}send(t){this.resetKeepAlive();const e=ge(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);const s=H0(e,LC);s.length>1&&this.sendString_(String(s.length));for(let l=0;l<s.length;l++)this.sendString_(s[l])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(IC))}sendString_(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}fn.responsesRequiredToBeHealthy=2;fn.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{static get ALL_TRANSPORTS(){return[sa,fn]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(t){this.initTransports_(t)}initTransports_(t){const e=fn&&fn.isAvailable();let s=e&&!fn.previouslyFailed();if(t.webSocketOnly&&(e||Be("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),s=!0),s)this.transports_=[fn];else{const l=this.transports_=[];for(const r of $l.ALL_TRANSPORTS)r&&r.isAvailable()&&l.push(r);$l.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}$l.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BC=6e4,HC=5e3,UC=10*1024,jC=100*1024,bf="t",Dy="d",PC="s",Oy="r",VC="e",Ry="o",Ny="a",ky="n",zy="p",YC="h";class qC{constructor(t,e,s,l,r,u,h,d,g,m){this.id=t,this.repoInfo_=e,this.applicationId_=s,this.appCheckToken_=l,this.authToken_=r,this.onMessage_=u,this.onReady_=h,this.onDisconnect_=d,this.onKill_=g,this.lastSessionId=m,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=mo("c:"+this.id+":"),this.transportManager_=new $l(e),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.conn_),s=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(e,s)},Math.floor(0));const l=t.healthyTimeout||0;l>0&&(this.healthyTimeout_=jl(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>jC?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>UC?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(l)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return e=>{t===this.conn_?this.onConnectionLost_(e):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return e=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(e):t===this.secondaryConn_?this.onSecondaryMessageReceived_(e):this.log_("message on old connection"))}}sendRequest(t){const e={t:"d",d:t};this.sendData_(e)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(bf in t){const e=t[bf];e===Ny?this.upgradeIfSecondaryHealthy_():e===Oy?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):e===Ry&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const e=Tl("t",t),s=Tl("d",t);if(e==="c")this.onSecondaryControl_(s);else if(e==="d")this.pendingDataMessages.push(s);else throw new Error("Unknown protocol layer: "+e)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:zy,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Ny,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:ky,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const e=Tl("t",t),s=Tl("d",t);e==="c"?this.onControl_(s):e==="d"&&this.onDataMessage_(s)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const e=Tl(bf,t);if(Dy in t){const s=t[Dy];if(e===YC){const l=Object.assign({},s);this.repoInfo_.isUsingEmulator&&(l.h=this.repoInfo_.host),this.onHandshake_(l)}else if(e===ky){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let l=0;l<this.pendingDataMessages.length;++l)this.onDataMessage_(this.pendingDataMessages[l]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===PC?this.onConnectionShutdown_(s):e===Oy?this.onReset_(s):e===VC?Uf("Server Error: "+s):e===Ry?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Uf("Unknown control packet command: "+e)}}onHandshake_(t){const e=t.ts,s=t.v,l=t.h;this.sessionId=t.s,this.repoInfo_.host=l,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),gd!==s&&Be("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const e=this.connReceiver_(this.secondaryConn_),s=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(e,s),jl(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(BC))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,e){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):jl(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(HC))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:zy,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(as.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nv{put(t,e,s,l){}merge(t,e,s,l){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,e,s){}onDisconnectMerge(t,e,s){}onDisconnectCancel(t,e){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iv{constructor(t){this.allowedEvents_=t,this.listeners_={},F(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...e){if(Array.isArray(this.listeners_[t])){const s=[...this.listeners_[t]];for(let l=0;l<s.length;l++)s[l].callback.apply(s[l].context,e)}}on(t,e,s){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:s});const l=this.getInitialEvent(t);l&&e.apply(s,l)}off(t,e,s){this.validateEventType_(t);const l=this.listeners_[t]||[];for(let r=0;r<l.length;r++)if(l[r].callback===e&&(!s||s===l[r].context)){l.splice(r,1);return}}validateEventType_(t){F(this.allowedEvents_.find(e=>e===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends iv{static getInstance(){return new hc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!C0()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(t){return F(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ly=32,Iy=768;class It{constructor(t,e){if(e===void 0){this.pieces_=t.split("/");let s=0;for(let l=0;l<this.pieces_.length;l++)this.pieces_[l].length>0&&(this.pieces_[s]=this.pieces_[l],s++);this.pieces_.length=s,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}toString(){let t="";for(let e=this.pieceNum_;e<this.pieces_.length;e++)this.pieces_[e]!==""&&(t+="/"+this.pieces_[e]);return t||"/"}}function wt(){return new It("")}function mt(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function Oi(i){return i.pieces_.length-i.pieceNum_}function Ut(i){let t=i.pieceNum_;return t<i.pieces_.length&&t++,new It(i.pieces_,t)}function sv(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function FC(i){let t="";for(let e=i.pieceNum_;e<i.pieces_.length;e++)i.pieces_[e]!==""&&(t+="/"+encodeURIComponent(String(i.pieces_[e])));return t||"/"}function av(i,t=0){return i.pieces_.slice(i.pieceNum_+t)}function lv(i){if(i.pieceNum_>=i.pieces_.length)return null;const t=[];for(let e=i.pieceNum_;e<i.pieces_.length-1;e++)t.push(i.pieces_[e]);return new It(t,0)}function le(i,t){const e=[];for(let s=i.pieceNum_;s<i.pieces_.length;s++)e.push(i.pieces_[s]);if(t instanceof It)for(let s=t.pieceNum_;s<t.pieces_.length;s++)e.push(t.pieces_[s]);else{const s=t.split("/");for(let l=0;l<s.length;l++)s[l].length>0&&e.push(s[l])}return new It(e,0)}function vt(i){return i.pieceNum_>=i.pieces_.length}function Le(i,t){const e=mt(i),s=mt(t);if(e===null)return t;if(e===s)return Le(Ut(i),Ut(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+i+")")}function _d(i,t){if(Oi(i)!==Oi(t))return!1;for(let e=i.pieceNum_,s=t.pieceNum_;e<=i.pieces_.length;e++,s++)if(i.pieces_[e]!==t.pieces_[s])return!1;return!0}function dn(i,t){let e=i.pieceNum_,s=t.pieceNum_;if(Oi(i)>Oi(t))return!1;for(;e<i.pieces_.length;){if(i.pieces_[e]!==t.pieces_[s])return!1;++e,++s}return!0}class GC{constructor(t,e){this.errorPrefix_=e,this.parts_=av(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let s=0;s<this.parts_.length;s++)this.byteLength_+=Nc(this.parts_[s]);ov(this)}}function XC(i,t){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(t),i.byteLength_+=Nc(t),ov(i)}function WC(i){const t=i.parts_.pop();i.byteLength_-=Nc(t),i.parts_.length>0&&(i.byteLength_-=1)}function ov(i){if(i.byteLength_>Iy)throw new Error(i.errorPrefix_+"has a key path longer than "+Iy+" bytes ("+i.byteLength_+").");if(i.parts_.length>Ly)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+Ly+") or object contains a cycle "+ns(i))}function ns(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd extends iv{static getInstance(){return new yd}constructor(){super(["visible"]);let t,e;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(e="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(e="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(e="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(e="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,e&&document.addEventListener(e,()=>{const s=!document[t];s!==this.visible_&&(this.visible_=s,this.trigger("visible",s))},!1)}getInitialEvent(t){return F(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl=1e3,QC=60*5*1e3,By=30*1e3,KC=1.3,ZC=3e4,$C="server_kill",Hy=3;class Xn extends nv{constructor(t,e,s,l,r,u,h,d){if(super(),this.repoInfo_=t,this.applicationId_=e,this.onDataUpdate_=s,this.onConnectStatus_=l,this.onServerInfoUpdate_=r,this.authTokenProvider_=u,this.appCheckTokenProvider_=h,this.authOverride_=d,this.id=Xn.nextPersistentConnectionId_++,this.log_=mo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Cl,this.maxReconnectDelay_=QC,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,d)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");yd.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&hc.getInstance().on("online",this.onOnline_,this)}sendRequest(t,e,s){const l=++this.requestNumber_,r={r:l,a:t,b:e};this.log_(ge(r)),F(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),s&&(this.requestCBHash_[l]=s)}get(t){this.initConnection_();const e=new Rc,l={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:u=>{const h=u.d;u.s==="ok"?e.resolve(h):e.reject(h)}};this.outstandingGets_.push(l),this.outstandingGetCount_++;const r=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(r),e.promise}listen(t,e,s,l){this.initConnection_();const r=t._queryIdentifier,u=t._path.toString();this.log_("Listen called for "+u+" "+r),this.listens.has(u)||this.listens.set(u,new Map),F(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),F(!this.listens.get(u).has(r),"listen() called twice for same path/queryId.");const h={onComplete:l,hashFn:e,query:t,tag:s};this.listens.get(u).set(r,h),this.connected_&&this.sendListen_(h)}sendGet_(t){const e=this.outstandingGets_[t];this.sendRequest("g",e.request,s=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),e.onComplete&&e.onComplete(s)})}sendListen_(t){const e=t.query,s=e._path.toString(),l=e._queryIdentifier;this.log_("Listen on "+s+" for "+l);const r={p:s},u="q";t.tag&&(r.q=e._queryObject,r.t=t.tag),r.h=t.hashFn(),this.sendRequest(u,r,h=>{const d=h.d,g=h.s;Xn.warnOnListenWarnings_(d,e),(this.listens.get(s)&&this.listens.get(s).get(l))===t&&(this.log_("listen response",h),g!=="ok"&&this.removeListen_(s,l),t.onComplete&&t.onComplete(g,d))})}static warnOnListenWarnings_(t,e){if(t&&typeof t=="object"&&Zn(t,"w")){const s=fa(t,"w");if(Array.isArray(s)&&~s.indexOf("no_index")){const l='".indexOn": "'+e._queryParams.getIndex().toString()+'"',r=e._path.toString();Be(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${l} at ${r} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||HE(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=By)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,e=BE(t)?"auth":"gauth",s={cred:t};this.authOverride_===null?s.noauth=!0:typeof this.authOverride_=="object"&&(s.authvar=this.authOverride_),this.sendRequest(e,s,l=>{const r=l.s,u=l.d||"error";this.authToken_===t&&(r==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(r,u))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const e=t.s,s=t.d||"error";e==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(e,s)})}unlisten(t,e){const s=t._path.toString(),l=t._queryIdentifier;this.log_("Unlisten called for "+s+" "+l),F(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(s,l)&&this.connected_&&this.sendUnlisten_(s,l,t._queryObject,e)}sendUnlisten_(t,e,s,l){this.log_("Unlisten on "+t+" for "+e);const r={p:t},u="n";l&&(r.q=s,r.t=l),this.sendRequest(u,r)}onDisconnectPut(t,e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,e,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:s})}onDisconnectMerge(t,e,s){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,e,s):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:s})}onDisconnectCancel(t,e){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})}sendOnDisconnect_(t,e,s,l){const r={p:e,d:s};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,u=>{l&&setTimeout(()=>{l(u.s,u.d)},Math.floor(0))})}put(t,e,s,l){this.putInternal("p",t,e,s,l)}merge(t,e,s,l){this.putInternal("m",t,e,s,l)}putInternal(t,e,s,l,r){this.initConnection_();const u={p:e,d:s};r!==void 0&&(u.h=r),this.outstandingPuts_.push({action:t,request:u,onComplete:l}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+e)}sendPut_(t){const e=this.outstandingPuts_[t].action,s=this.outstandingPuts_[t].request,l=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(e,s,r=>{this.log_(e+" response",r),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),l&&l(r.s,r.d)})}reportStats(t){if(this.connected_){const e={c:t};this.log_("reportStats",e),this.sendRequest("s",e,s=>{if(s.s!=="ok"){const r=s.d;this.log_("reportStats","Error sending stats: "+r)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+ge(t));const e=t.r,s=this.requestCBHash_[e];s&&(delete this.requestCBHash_[e],s(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,e){this.log_("handleServerMessage",t,e),t==="d"?this.onDataUpdate_(e.p,e.d,!1,e.t):t==="m"?this.onDataUpdate_(e.p,e.d,!0,e.t):t==="c"?this.onListenRevoked_(e.p,e.q):t==="ac"?this.onAuthRevoked_(e.s,e.d):t==="apc"?this.onAppCheckRevoked_(e.s,e.d):t==="sd"?this.onSecurityDebugPacket_(e):Uf("Unrecognized action received from server: "+ge(t)+`
Are you using the latest client?`)}onReady_(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){F(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Cl,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Cl,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>ZC&&(this.reconnectDelay_=Cl),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*KC)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),e=this.onReady_.bind(this),s=this.onRealtimeDisconnect_.bind(this),l=this.id+":"+Xn.nextConnectionId_++,r=this.lastSessionId;let u=!1,h=null;const d=function(){h?h.close():(u=!0,s())},g=function(_){F(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(_)};this.realtime_={close:d,sendRequest:g};const m=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[_,b]=await Promise.all([this.authTokenProvider_.getToken(m),this.appCheckTokenProvider_.getToken(m)]);u?Te("getToken() completed but was canceled"):(Te("getToken() completed. Creating connection."),this.authToken_=_&&_.accessToken,this.appCheckToken_=b&&b.token,h=new qC(l,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,e,s,S=>{Be(S+" ("+this.repoInfo_.toString()+")"),this.interrupt($C)},r))}catch(_){this.log_("Failed to get token: "+_),u||(this.repoInfo_.nodeAdmin&&Be(_),d())}}}interrupt(t){Te("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Te("Resuming connection for reason: "+t),delete this.interruptReasons_[t],dy(this.interruptReasons_)&&(this.reconnectDelay_=Cl,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const e=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:e})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,e){let s;e?s=e.map(r=>dd(r)).join("$"):s="default";const l=this.removeListen_(t,s);l&&l.onComplete&&l.onComplete("permission_denied")}removeListen_(t,e){const s=new It(t).toString();let l;if(this.listens.has(s)){const r=this.listens.get(s);l=r.get(e),r.delete(e),r.size===0&&this.listens.delete(s)}else l=void 0;return l}onAuthRevoked_(t,e){Te("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=Hy&&(this.reconnectDelay_=By,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,e){Te("App check token revoked: "+t+"/"+e),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=Hy&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const e of t.values())this.sendListen_(e);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let e="js";t["sdk."+e+"."+z0.replace(/\./g,"-")]=1,C0()?t["framework.cordova"]=1:OE()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=hc.getInstance().currentlyOnline();return dy(this.interruptReasons_)&&t}}Xn.nextPersistentConnectionId_=0;Xn.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(t,e){this.name=t,this.node=e}static Wrap(t,e){return new _t(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kc{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,e){const s=new _t(da,t),l=new _t(da,e);return this.compare(s,l)!==0}minPost(){return _t.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ir;class rv extends kc{static get __EMPTY_NODE(){return Ir}static set __EMPTY_NODE(t){Ir=t}compare(t,e){return Sa(t.name,e.name)}isDefinedOn(t){throw ba("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,e){return!1}minPost(){return _t.MIN}maxPost(){return new _t(cs,Ir)}makePost(t,e){return F(typeof t=="string","KeyIndex indexValue must always be a string."),new _t(t,Ir)}toString(){return".key"}}const ra=new rv;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Br{constructor(t,e,s,l,r=null){this.isReverse_=l,this.resultGenerator_=r,this.nodeStack_=[];let u=1;for(;!t.isEmpty();)if(t=t,u=e?s(t.key,e):1,l&&(u*=-1),u<0)this.isReverse_?t=t.left:t=t.right;else if(u===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),e;if(this.resultGenerator_?e=this.resultGenerator_(t.key,t.value):e={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class de{constructor(t,e,s,l,r){this.key=t,this.value=e,this.color=s??de.RED,this.left=l??Ie.EMPTY_NODE,this.right=r??Ie.EMPTY_NODE}copy(t,e,s,l,r){return new de(t??this.key,e??this.value,s??this.color,l??this.left,r??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,s){let l=this;const r=s(t,l.key);return r<0?l=l.copy(null,null,null,l.left.insert(t,e,s),null):r===0?l=l.copy(null,e,null,null,null):l=l.copy(null,null,null,null,l.right.insert(t,e,s)),l.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ie.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,e){let s,l;if(s=this,e(t,s.key)<0)!s.left.isEmpty()&&!s.left.isRed_()&&!s.left.left.isRed_()&&(s=s.moveRedLeft_()),s=s.copy(null,null,null,s.left.remove(t,e),null);else{if(s.left.isRed_()&&(s=s.rotateRight_()),!s.right.isEmpty()&&!s.right.isRed_()&&!s.right.left.isRed_()&&(s=s.moveRedRight_()),e(t,s.key)===0){if(s.right.isEmpty())return Ie.EMPTY_NODE;l=s.right.min_(),s=s.copy(l.key,l.value,null,null,s.right.removeMin_())}s=s.copy(null,null,null,null,s.right.remove(t,e))}return s.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,de.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,de.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}de.RED=!0;de.BLACK=!1;class JC{copy(t,e,s,l,r){return this}insert(t,e,s){return new de(t,e,null)}remove(t,e){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ie{constructor(t,e=Ie.EMPTY_NODE){this.comparator_=t,this.root_=e}insert(t,e){return new Ie(this.comparator_,this.root_.insert(t,e,this.comparator_).copy(null,null,de.BLACK,null,null))}remove(t){return new Ie(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,de.BLACK,null,null))}get(t){let e,s=this.root_;for(;!s.isEmpty();){if(e=this.comparator_(t,s.key),e===0)return s.value;e<0?s=s.left:e>0&&(s=s.right)}return null}getPredecessorKey(t){let e,s=this.root_,l=null;for(;!s.isEmpty();)if(e=this.comparator_(t,s.key),e===0){if(s.left.isEmpty())return l?l.key:null;for(s=s.left;!s.right.isEmpty();)s=s.right;return s.key}else e<0?s=s.left:e>0&&(l=s,s=s.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new Br(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,e){return new Br(this.root_,t,this.comparator_,!1,e)}getReverseIteratorFrom(t,e){return new Br(this.root_,t,this.comparator_,!0,e)}getReverseIterator(t){return new Br(this.root_,null,this.comparator_,!0,t)}}Ie.EMPTY_NODE=new JC;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(i,t){return Sa(i.name,t.name)}function bd(i,t){return Sa(i,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pf;function eA(i){Pf=i}const cv=function(i){return typeof i=="number"?"number:"+U0(i):"string:"+i},uv=function(i){if(i.isLeafNode()){const t=i.val();F(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Zn(t,".sv"),"Priority must be a string or number.")}else F(i===Pf||i.isEmpty(),"priority of unexpected type.");F(i===Pf||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uy;class fe{static set __childrenNodeConstructor(t){Uy=t}static get __childrenNodeConstructor(){return Uy}constructor(t,e=fe.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=e,this.lazyHash_=null,F(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),uv(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new fe(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:fe.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return vt(t)?this:mt(t)===".priority"?this.priorityNode_:fe.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,e){return null}updateImmediateChild(t,e){return t===".priority"?this.updatePriority(e):e.isEmpty()&&t!==".priority"?this:fe.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,e).updatePriority(this.priorityNode_)}updateChild(t,e){const s=mt(t);return s===null?e:e.isEmpty()&&s!==".priority"?this:(F(s!==".priority"||Oi(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(s,fe.__childrenNodeConstructor.EMPTY_NODE.updateChild(Ut(t),e)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,e){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+cv(this.priorityNode_.val())+":");const e=typeof this.value_;t+=e+":",e==="number"?t+=U0(this.value_):t+=this.value_,this.lazyHash_=I0(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===fe.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof fe.__childrenNodeConstructor?-1:(F(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const e=typeof t.value_,s=typeof this.value_,l=fe.VALUE_TYPE_ORDER.indexOf(e),r=fe.VALUE_TYPE_ORDER.indexOf(s);return F(l>=0,"Unknown leaf type: "+e),F(r>=0,"Unknown leaf type: "+s),l===r?s==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:r-l}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}else return!1}}fe.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hv,fv;function nA(i){hv=i}function iA(i){fv=i}class sA extends kc{compare(t,e){const s=t.node.getPriority(),l=e.node.getPriority(),r=s.compareTo(l);return r===0?Sa(t.name,e.name):r}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,e){return!t.getPriority().equals(e.getPriority())}minPost(){return _t.MIN}maxPost(){return new _t(cs,new fe("[PRIORITY-POST]",fv))}makePost(t,e){const s=hv(t);return new _t(e,new fe("[PRIORITY-POST]",s))}toString(){return".priority"}}const Kt=new sA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aA=Math.log(2);class lA{constructor(t){const e=r=>parseInt(Math.log(r)/aA,10),s=r=>parseInt(Array(r+1).join("1"),2);this.count=e(t+1),this.current_=this.count-1;const l=s(this.count);this.bits_=t+1&l}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const fc=function(i,t,e,s){i.sort(t);const l=function(d,g){const m=g-d;let _,b;if(m===0)return null;if(m===1)return _=i[d],b=e?e(_):_,new de(b,_.node,de.BLACK,null,null);{const S=parseInt(m/2,10)+d,x=l(d,S),C=l(S+1,g);return _=i[S],b=e?e(_):_,new de(b,_.node,de.BLACK,x,C)}},r=function(d){let g=null,m=null,_=i.length;const b=function(x,C){const A=_-x,z=_;_-=x;const U=l(A+1,z),V=i[A],Y=e?e(V):V;S(new de(Y,V.node,C,null,U))},S=function(x){g?(g.left=x,g=x):(m=x,g=x)};for(let x=0;x<d.count;++x){const C=d.nextBitIsOne(),A=Math.pow(2,d.count-(x+1));C?b(A,de.BLACK):(b(A,de.BLACK),b(A,de.RED))}return m},u=new lA(i.length),h=r(u);return new Ie(s||t,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf;const ea={};class Fn{static get Default(){return F(ea&&Kt,"ChildrenNode.ts has not been loaded"),vf=vf||new Fn({".priority":ea},{".priority":Kt}),vf}constructor(t,e){this.indexes_=t,this.indexSet_=e}get(t){const e=fa(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Ie?e:null}hasIndex(t){return Zn(this.indexSet_,t.toString())}addIndex(t,e){F(t!==ra,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const s=[];let l=!1;const r=e.getIterator(_t.Wrap);let u=r.getNext();for(;u;)l=l||t.isDefinedOn(u.node),s.push(u),u=r.getNext();let h;l?h=fc(s,t.getCompare()):h=ea;const d=t.toString(),g=Object.assign({},this.indexSet_);g[d]=t;const m=Object.assign({},this.indexes_);return m[d]=h,new Fn(m,g)}addToIndexes(t,e){const s=lc(this.indexes_,(l,r)=>{const u=fa(this.indexSet_,r);if(F(u,"Missing index implementation for "+r),l===ea)if(u.isDefinedOn(t.node)){const h=[],d=e.getIterator(_t.Wrap);let g=d.getNext();for(;g;)g.name!==t.name&&h.push(g),g=d.getNext();return h.push(t),fc(h,u.getCompare())}else return ea;else{const h=e.get(t.name);let d=l;return h&&(d=d.remove(new _t(t.name,h))),d.insert(t,t.node)}});return new Fn(s,this.indexSet_)}removeFromIndexes(t,e){const s=lc(this.indexes_,l=>{if(l===ea)return l;{const r=e.get(t.name);return r?l.remove(new _t(t.name,r)):l}});return new Fn(s,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Al;class ut{static get EMPTY_NODE(){return Al||(Al=new ut(new Ie(bd),null,Fn.Default))}constructor(t,e,s){this.children_=t,this.priorityNode_=e,this.indexMap_=s,this.lazyHash_=null,this.priorityNode_&&uv(this.priorityNode_),this.children_.isEmpty()&&F(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Al}updatePriority(t){return this.children_.isEmpty()?this:new ut(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const e=this.children_.get(t);return e===null?Al:e}}getChild(t){const e=mt(t);return e===null?this:this.getImmediateChild(e).getChild(Ut(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,e){if(F(e,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(e);{const s=new _t(t,e);let l,r;e.isEmpty()?(l=this.children_.remove(t),r=this.indexMap_.removeFromIndexes(s,this.children_)):(l=this.children_.insert(t,e),r=this.indexMap_.addToIndexes(s,this.children_));const u=l.isEmpty()?Al:this.priorityNode_;return new ut(l,u,r)}}updateChild(t,e){const s=mt(t);if(s===null)return e;{F(mt(t)!==".priority"||Oi(t)===1,".priority must be the last token in a path");const l=this.getImmediateChild(s).updateChild(Ut(t),e);return this.updateImmediateChild(s,l)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const e={};let s=0,l=0,r=!0;if(this.forEachChild(Kt,(u,h)=>{e[u]=h.val(t),s++,r&&ut.INTEGER_REGEXP_.test(u)?l=Math.max(l,Number(u)):r=!1}),!t&&r&&l<2*s){const u=[];for(const h in e)u[h]=e[h];return u}else return t&&!this.getPriority().isEmpty()&&(e[".priority"]=this.getPriority().val()),e}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+cv(this.getPriority().val())+":"),this.forEachChild(Kt,(e,s)=>{const l=s.hash();l!==""&&(t+=":"+e+":"+l)}),this.lazyHash_=t===""?"":I0(t)}return this.lazyHash_}getPredecessorChildName(t,e,s){const l=this.resolveIndex_(s);if(l){const r=l.getPredecessorKey(new _t(t,e));return r?r.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const e=this.resolveIndex_(t);if(e){const s=e.minKey();return s&&s.name}else return this.children_.minKey()}getFirstChild(t){const e=this.getFirstChildName(t);return e?new _t(e,this.children_.get(e)):null}getLastChildName(t){const e=this.resolveIndex_(t);if(e){const s=e.maxKey();return s&&s.name}else return this.children_.maxKey()}getLastChild(t){const e=this.getLastChildName(t);return e?new _t(e,this.children_.get(e)):null}forEachChild(t,e){const s=this.resolveIndex_(t);return s?s.inorderTraversal(l=>e(l.name,l.node)):this.children_.inorderTraversal(e)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,e){const s=this.resolveIndex_(e);if(s)return s.getIteratorFrom(t,l=>l);{const l=this.children_.getIteratorFrom(t.name,_t.Wrap);let r=l.peek();for(;r!=null&&e.compare(r,t)<0;)l.getNext(),r=l.peek();return l}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,e){const s=this.resolveIndex_(e);if(s)return s.getReverseIteratorFrom(t,l=>l);{const l=this.children_.getReverseIteratorFrom(t.name,_t.Wrap);let r=l.peek();for(;r!=null&&e.compare(r,t)>0;)l.getNext(),r=l.peek();return l}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===_o?-1:0}withIndex(t){if(t===ra||this.indexMap_.hasIndex(t))return this;{const e=this.indexMap_.addIndex(t,this.children_);return new ut(this.children_,this.priorityNode_,e)}}isIndexed(t){return t===ra||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const e=t;if(this.getPriority().equals(e.getPriority()))if(this.children_.count()===e.children_.count()){const s=this.getIterator(Kt),l=e.getIterator(Kt);let r=s.getNext(),u=l.getNext();for(;r&&u;){if(r.name!==u.name||!r.node.equals(u.node))return!1;r=s.getNext(),u=l.getNext()}return r===null&&u===null}else return!1;else return!1}}resolveIndex_(t){return t===ra?null:this.indexMap_.get(t.toString())}}ut.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class oA extends ut{constructor(){super(new Ie(bd),ut.EMPTY_NODE,Fn.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return ut.EMPTY_NODE}isEmpty(){return!1}}const _o=new oA;Object.defineProperties(_t,{MIN:{value:new _t(da,ut.EMPTY_NODE)},MAX:{value:new _t(cs,_o)}});rv.__EMPTY_NODE=ut.EMPTY_NODE;fe.__childrenNodeConstructor=ut;eA(_o);iA(_o);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rA=!0;function be(i,t=null){if(i===null)return ut.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(t=i[".priority"]),F(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const e=i;return new fe(e,be(t))}if(!(i instanceof Array)&&rA){const e=[];let s=!1;if(He(i,(u,h)=>{if(u.substring(0,1)!=="."){const d=be(h);d.isEmpty()||(s=s||!d.getPriority().isEmpty(),e.push(new _t(u,d)))}}),e.length===0)return ut.EMPTY_NODE;const r=fc(e,tA,u=>u.name,bd);if(s){const u=fc(e,Kt.getCompare());return new ut(r,be(t),new Fn({".priority":u},{".priority":Kt}))}else return new ut(r,be(t),Fn.Default)}else{let e=ut.EMPTY_NODE;return He(i,(s,l)=>{if(Zn(i,s)&&s.substring(0,1)!=="."){const r=be(l);(r.isLeafNode()||!r.isEmpty())&&(e=e.updateImmediateChild(s,r))}}),e.updatePriority(be(t))}}nA(be);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA extends kc{constructor(t){super(),this.indexPath_=t,F(!vt(t)&&mt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,e){const s=this.extractChild(t.node),l=this.extractChild(e.node),r=s.compareTo(l);return r===0?Sa(t.name,e.name):r}makePost(t,e){const s=be(t),l=ut.EMPTY_NODE.updateChild(this.indexPath_,s);return new _t(e,l)}maxPost(){const t=ut.EMPTY_NODE.updateChild(this.indexPath_,_o);return new _t(cs,t)}toString(){return av(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uA extends kc{compare(t,e){const s=t.node.compareTo(e.node);return s===0?Sa(t.name,e.name):s}isDefinedOn(t){return!0}indexedValueChanged(t,e){return!t.equals(e)}minPost(){return _t.MIN}maxPost(){return _t.MAX}makePost(t,e){const s=be(t);return new _t(e,s)}toString(){return".value"}}const hA=new uA;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dv(i){return{type:"value",snapshotNode:i}}function ga(i,t){return{type:"child_added",snapshotNode:t,childName:i}}function Jl(i,t){return{type:"child_removed",snapshotNode:t,childName:i}}function to(i,t,e){return{type:"child_changed",snapshotNode:t,childName:i,oldSnap:e}}function fA(i,t){return{type:"child_moved",snapshotNode:t,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(t){this.index_=t}updateChild(t,e,s,l,r,u){F(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=t.getImmediateChild(e);return h.getChild(l).equals(s.getChild(l))&&h.isEmpty()===s.isEmpty()||(u!=null&&(s.isEmpty()?t.hasChild(e)?u.trackChildChange(Jl(e,h)):F(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?u.trackChildChange(ga(e,s)):u.trackChildChange(to(e,s,h))),t.isLeafNode()&&s.isEmpty())?t:t.updateImmediateChild(e,s).withIndex(this.index_)}updateFullNode(t,e,s){return s!=null&&(t.isLeafNode()||t.forEachChild(Kt,(l,r)=>{e.hasChild(l)||s.trackChildChange(Jl(l,r))}),e.isLeafNode()||e.forEachChild(Kt,(l,r)=>{if(t.hasChild(l)){const u=t.getImmediateChild(l);u.equals(r)||s.trackChildChange(to(l,r,u))}else s.trackChildChange(ga(l,r))})),e.withIndex(this.index_)}updatePriority(t,e){return t.isEmpty()?ut.EMPTY_NODE:t.updatePriority(e)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(t){this.indexedFilter_=new vd(t.getIndex()),this.index_=t.getIndex(),this.startPost_=eo.getStartPost_(t),this.endPost_=eo.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const e=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,s=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return e&&s}updateChild(t,e,s,l,r,u){return this.matches(new _t(e,s))||(s=ut.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,s,l,r,u)}updateFullNode(t,e,s){e.isLeafNode()&&(e=ut.EMPTY_NODE);let l=e.withIndex(this.index_);l=l.updatePriority(ut.EMPTY_NODE);const r=this;return e.forEachChild(Kt,(u,h)=>{r.matches(new _t(u,h))||(l=l.updateImmediateChild(u,ut.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dA{constructor(t){this.withinDirectionalStart=e=>this.reverse_?this.withinEndPost(e):this.withinStartPost(e),this.withinDirectionalEnd=e=>this.reverse_?this.withinStartPost(e):this.withinEndPost(e),this.withinStartPost=e=>{const s=this.index_.compare(this.rangedFilter_.getStartPost(),e);return this.startIsInclusive_?s<=0:s<0},this.withinEndPost=e=>{const s=this.index_.compare(e,this.rangedFilter_.getEndPost());return this.endIsInclusive_?s<=0:s<0},this.rangedFilter_=new eo(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,e,s,l,r,u){return this.rangedFilter_.matches(new _t(e,s))||(s=ut.EMPTY_NODE),t.getImmediateChild(e).equals(s)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,s,l,r,u):this.fullLimitUpdateChild_(t,e,s,r,u)}updateFullNode(t,e,s){let l;if(e.isLeafNode()||e.isEmpty())l=ut.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<e.numChildren()&&e.isIndexed(this.index_)){l=ut.EMPTY_NODE.withIndex(this.index_);let r;this.reverse_?r=e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):r=e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let u=0;for(;r.hasNext()&&u<this.limit_;){const h=r.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))l=l.updateImmediateChild(h.name,h.node),u++;else break;else continue}}else{l=e.withIndex(this.index_),l=l.updatePriority(ut.EMPTY_NODE);let r;this.reverse_?r=l.getReverseIterator(this.index_):r=l.getIterator(this.index_);let u=0;for(;r.hasNext();){const h=r.getNext();u<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?u++:l=l.updateImmediateChild(h.name,ut.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,l,s)}updatePriority(t,e){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,e,s,l,r){let u;if(this.reverse_){const _=this.index_.getCompare();u=(b,S)=>_(S,b)}else u=this.index_.getCompare();const h=t;F(h.numChildren()===this.limit_,"");const d=new _t(e,s),g=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),m=this.rangedFilter_.matches(d);if(h.hasChild(e)){const _=h.getImmediateChild(e);let b=l.getChildAfterChild(this.index_,g,this.reverse_);for(;b!=null&&(b.name===e||h.hasChild(b.name));)b=l.getChildAfterChild(this.index_,b,this.reverse_);const S=b==null?1:u(b,d);if(m&&!s.isEmpty()&&S>=0)return r!=null&&r.trackChildChange(to(e,s,_)),h.updateImmediateChild(e,s);{r!=null&&r.trackChildChange(Jl(e,_));const C=h.updateImmediateChild(e,ut.EMPTY_NODE);return b!=null&&this.rangedFilter_.matches(b)?(r!=null&&r.trackChildChange(ga(b.name,b.node)),C.updateImmediateChild(b.name,b.node)):C}}else return s.isEmpty()?t:m&&u(g,d)>=0?(r!=null&&(r.trackChildChange(Jl(g.name,g.node)),r.trackChildChange(ga(e,s))),h.updateImmediateChild(e,s).updateImmediateChild(g.name,ut.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return F(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return F(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:da}hasEnd(){return this.endSet_}getIndexEndValue(){return F(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return F(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return F(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===Kt}copy(){const t=new Sd;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function gA(i){return i.loadsAllData()?new vd(i.getIndex()):i.hasLimit()?new dA(i):new eo(i)}function jy(i){const t={};if(i.isDefault())return t;let e;if(i.index_===Kt?e="$priority":i.index_===hA?e="$value":i.index_===ra?e="$key":(F(i.index_ instanceof cA,"Unrecognized index type!"),e=i.index_.toString()),t.orderBy=ge(e),i.startSet_){const s=i.startAfterSet_?"startAfter":"startAt";t[s]=ge(i.indexStartValue_),i.startNameSet_&&(t[s]+=","+ge(i.indexStartName_))}if(i.endSet_){const s=i.endBeforeSet_?"endBefore":"endAt";t[s]=ge(i.indexEndValue_),i.endNameSet_&&(t[s]+=","+ge(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?t.limitToFirst=i.limit_:t.limitToLast=i.limit_),t}function Py(i){const t={};if(i.startSet_&&(t.sp=i.indexStartValue_,i.startNameSet_&&(t.sn=i.indexStartName_),t.sin=!i.startAfterSet_),i.endSet_&&(t.ep=i.indexEndValue_,i.endNameSet_&&(t.en=i.indexEndName_),t.ein=!i.endBeforeSet_),i.limitSet_){t.l=i.limit_;let e=i.viewFrom_;e===""&&(i.isViewFromLeft()?e="l":e="r"),t.vf=e}return i.index_!==Kt&&(t.i=i.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc extends nv{reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,e){return e!==void 0?"tag$"+e:(F(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}constructor(t,e,s,l){super(),this.repoInfo_=t,this.onDataUpdate_=e,this.authTokenProvider_=s,this.appCheckTokenProvider_=l,this.log_=mo("p:rest:"),this.listens_={}}listen(t,e,s,l){const r=t._path.toString();this.log_("Listen called for "+r+" "+t._queryIdentifier);const u=dc.getListenId_(t,s),h={};this.listens_[u]=h;const d=jy(t._queryParams);this.restRequest_(r+".json",d,(g,m)=>{let _=m;if(g===404&&(_=null,g=null),g===null&&this.onDataUpdate_(r,_,!1,s),fa(this.listens_,u)===h){let b;g?g===401?b="permission_denied":b="rest_error:"+g:b="ok",l(b,null)}})}unlisten(t,e){const s=dc.getListenId_(t,e);delete this.listens_[s]}get(t){const e=jy(t._queryParams),s=t._path.toString(),l=new Rc;return this.restRequest_(s+".json",e,(r,u)=>{let h=u;r===404&&(h=null,r=null),r===null?(this.onDataUpdate_(s,h,!1,null),l.resolve(h)):l.reject(new Error(h))}),l.promise}refreshAuthToken(t){}restRequest_(t,e={},s){return e.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([l,r])=>{l&&l.accessToken&&(e.auth=l.accessToken),r&&r.token&&(e.ac=r.token);const u=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+UE(e);this.log_("Sending REST request for "+u);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(s&&h.readyState===4){this.log_("REST Response for "+u+" received. status:",h.status,"response:",h.responseText);let d=null;if(h.status>=200&&h.status<300){try{d=Ql(h.responseText)}catch{Be("Failed to parse JSON response for "+u+": "+h.responseText)}s(null,d)}else h.status!==401&&h.status!==404&&Be("Got unsuccessful REST response for "+u+" Status: "+h.status),s(h.status);s=null}},h.open("GET",u,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pA{constructor(){this.rootNode_=ut.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gc(){return{value:null,children:new Map}}function gv(i,t,e){if(vt(t))i.value=e,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(t,e);else{const s=mt(t);i.children.has(s)||i.children.set(s,gc());const l=i.children.get(s);t=Ut(t),gv(l,t,e)}}function Vf(i,t,e){i.value!==null?e(t,i.value):mA(i,(s,l)=>{const r=new It(t.toString()+"/"+s);Vf(l,r,e)})}function mA(i,t){i.children.forEach((e,s)=>{t(s,e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),e=Object.assign({},t);return this.last_&&He(this.last_,(s,l)=>{e[s]=e[s]-l}),this.last_=t,e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vy=10*1e3,yA=30*1e3,bA=5*60*1e3;class vA{constructor(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new _A(t);const s=Vy+(yA-Vy)*Math.random();jl(this.reportStats_.bind(this),Math.floor(s))}reportStats_(){const t=this.statsListener_.get(),e={};let s=!1;He(t,(l,r)=>{r>0&&Zn(this.statsToReport_,l)&&(e[l]=r,s=!0)}),s&&this.server_.reportStats(e),jl(this.reportStats_.bind(this),Math.floor(Math.random()*2*bA))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(gn||(gn={}));function pv(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function xd(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ed(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,e,s){this.path=t,this.affectedTree=e,this.revert=s,this.type=gn.ACK_USER_WRITE,this.source=pv()}operationForChild(t){if(vt(this.path)){if(this.affectedTree.value!=null)return F(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const e=this.affectedTree.subtree(new It(t));return new pc(wt(),e,this.revert)}}else return F(mt(this.path)===t,"operationForChild called for unrelated child."),new pc(Ut(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class no{constructor(t,e){this.source=t,this.path=e,this.type=gn.LISTEN_COMPLETE}operationForChild(t){return vt(this.path)?new no(this.source,wt()):new no(this.source,Ut(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(t,e,s){this.source=t,this.path=e,this.snap=s,this.type=gn.OVERWRITE}operationForChild(t){return vt(this.path)?new us(this.source,wt(),this.snap.getImmediateChild(t)):new us(this.source,Ut(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(t,e,s){this.source=t,this.path=e,this.children=s,this.type=gn.MERGE}operationForChild(t){if(vt(this.path)){const e=this.children.subtree(new It(t));return e.isEmpty()?null:e.value?new us(this.source,wt(),e.value):new io(this.source,wt(),e)}else return F(mt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new io(this.source,Ut(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(t,e,s){this.node_=t,this.fullyInitialized_=e,this.filtered_=s}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(vt(t))return this.isFullyInitialized()&&!this.filtered_;const e=mt(t);return this.isCompleteForChild(e)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SA{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function xA(i,t,e,s){const l=[],r=[];return t.forEach(u=>{u.type==="child_changed"&&i.index_.indexedValueChanged(u.oldSnap,u.snapshotNode)&&r.push(fA(u.childName,u.snapshotNode))}),Ml(i,l,"child_removed",t,s,e),Ml(i,l,"child_added",t,s,e),Ml(i,l,"child_moved",r,s,e),Ml(i,l,"child_changed",t,s,e),Ml(i,l,"value",t,s,e),l}function Ml(i,t,e,s,l,r){const u=s.filter(h=>h.type===e);u.sort((h,d)=>TA(i,h,d)),u.forEach(h=>{const d=EA(i,h,r);l.forEach(g=>{g.respondsTo(h.type)&&t.push(g.createEvent(d,i.query_))})})}function EA(i,t,e){return t.type==="value"||t.type==="child_removed"||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,i.index_)),t}function TA(i,t,e){if(t.childName==null||e.childName==null)throw ba("Should only compare child_ events.");const s=new _t(t.childName,t.snapshotNode),l=new _t(e.childName,e.snapshotNode);return i.index_.compare(s,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zc(i,t){return{eventCache:i,serverCache:t}}function Pl(i,t,e,s){return zc(new hs(t,e,s),i.serverCache)}function mv(i,t,e,s){return zc(i.eventCache,new hs(t,e,s))}function Yf(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function fs(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Sf;const CA=()=>(Sf||(Sf=new Ie(uC)),Sf);class Vt{static fromObject(t){let e=new Vt(null);return He(t,(s,l)=>{e=e.set(new It(s),l)}),e}constructor(t,e=CA()){this.value=t,this.children=e}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,e){if(this.value!=null&&e(this.value))return{path:wt(),value:this.value};if(vt(t))return null;{const s=mt(t),l=this.children.get(s);if(l!==null){const r=l.findRootMostMatchingPathAndValue(Ut(t),e);return r!=null?{path:le(new It(s),r.path),value:r.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(vt(t))return this;{const e=mt(t),s=this.children.get(e);return s!==null?s.subtree(Ut(t)):new Vt(null)}}set(t,e){if(vt(t))return new Vt(e,this.children);{const s=mt(t),r=(this.children.get(s)||new Vt(null)).set(Ut(t),e),u=this.children.insert(s,r);return new Vt(this.value,u)}}remove(t){if(vt(t))return this.children.isEmpty()?new Vt(null):new Vt(null,this.children);{const e=mt(t),s=this.children.get(e);if(s){const l=s.remove(Ut(t));let r;return l.isEmpty()?r=this.children.remove(e):r=this.children.insert(e,l),this.value===null&&r.isEmpty()?new Vt(null):new Vt(this.value,r)}else return this}}get(t){if(vt(t))return this.value;{const e=mt(t),s=this.children.get(e);return s?s.get(Ut(t)):null}}setTree(t,e){if(vt(t))return e;{const s=mt(t),r=(this.children.get(s)||new Vt(null)).setTree(Ut(t),e);let u;return r.isEmpty()?u=this.children.remove(s):u=this.children.insert(s,r),new Vt(this.value,u)}}fold(t){return this.fold_(wt(),t)}fold_(t,e){const s={};return this.children.inorderTraversal((l,r)=>{s[l]=r.fold_(le(t,l),e)}),e(t,this.value,s)}findOnPath(t,e){return this.findOnPath_(t,wt(),e)}findOnPath_(t,e,s){const l=this.value?s(e,this.value):!1;if(l)return l;if(vt(t))return null;{const r=mt(t),u=this.children.get(r);return u?u.findOnPath_(Ut(t),le(e,r),s):null}}foreachOnPath(t,e){return this.foreachOnPath_(t,wt(),e)}foreachOnPath_(t,e,s){if(vt(t))return this;{this.value&&s(e,this.value);const l=mt(t),r=this.children.get(l);return r?r.foreachOnPath_(Ut(t),le(e,l),s):new Vt(null)}}foreach(t){this.foreach_(wt(),t)}foreach_(t,e){this.children.inorderTraversal((s,l)=>{l.foreach_(le(t,s),e)}),this.value&&e(t,this.value)}foreachChild(t){this.children.inorderTraversal((e,s)=>{s.value&&t(e,s.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(t){this.writeTree_=t}static empty(){return new pn(new Vt(null))}}function Vl(i,t,e){if(vt(t))return new pn(new Vt(e));{const s=i.writeTree_.findRootMostValueAndPath(t);if(s!=null){const l=s.path;let r=s.value;const u=Le(l,t);return r=r.updateChild(u,e),new pn(i.writeTree_.set(l,r))}else{const l=new Vt(e),r=i.writeTree_.setTree(t,l);return new pn(r)}}}function Yy(i,t,e){let s=i;return He(e,(l,r)=>{s=Vl(s,le(t,l),r)}),s}function qy(i,t){if(vt(t))return pn.empty();{const e=i.writeTree_.setTree(t,new Vt(null));return new pn(e)}}function qf(i,t){return gs(i,t)!=null}function gs(i,t){const e=i.writeTree_.findRootMostValueAndPath(t);return e!=null?i.writeTree_.get(e.path).getChild(Le(e.path,t)):null}function Fy(i){const t=[],e=i.writeTree_.value;return e!=null?e.isLeafNode()||e.forEachChild(Kt,(s,l)=>{t.push(new _t(s,l))}):i.writeTree_.children.inorderTraversal((s,l)=>{l.value!=null&&t.push(new _t(s,l.value))}),t}function wi(i,t){if(vt(t))return i;{const e=gs(i,t);return e!=null?new pn(new Vt(e)):new pn(i.writeTree_.subtree(t))}}function Ff(i){return i.writeTree_.isEmpty()}function pa(i,t){return _v(wt(),i.writeTree_,t)}function _v(i,t,e){if(t.value!=null)return e.updateChild(i,t.value);{let s=null;return t.children.inorderTraversal((l,r)=>{l===".priority"?(F(r.value!==null,"Priority writes must always be leaf nodes"),s=r.value):e=_v(le(i,l),r,e)}),!e.getChild(i).isEmpty()&&s!==null&&(e=e.updateChild(le(i,".priority"),s)),e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Td(i,t){return Sv(t,i)}function AA(i,t,e,s,l){F(s>i.lastWriteId,"Stacking an older write on top of newer ones"),l===void 0&&(l=!0),i.allWrites.push({path:t,snap:e,writeId:s,visible:l}),l&&(i.visibleWrites=Vl(i.visibleWrites,t,e)),i.lastWriteId=s}function MA(i,t){for(let e=0;e<i.allWrites.length;e++){const s=i.allWrites[e];if(s.writeId===t)return s}return null}function wA(i,t){const e=i.allWrites.findIndex(h=>h.writeId===t);F(e>=0,"removeWrite called with nonexistent writeId.");const s=i.allWrites[e];i.allWrites.splice(e,1);let l=s.visible,r=!1,u=i.allWrites.length-1;for(;l&&u>=0;){const h=i.allWrites[u];h.visible&&(u>=e&&DA(h,s.path)?l=!1:dn(s.path,h.path)&&(r=!0)),u--}if(l){if(r)return OA(i),!0;if(s.snap)i.visibleWrites=qy(i.visibleWrites,s.path);else{const h=s.children;He(h,d=>{i.visibleWrites=qy(i.visibleWrites,le(s.path,d))})}return!0}else return!1}function DA(i,t){if(i.snap)return dn(i.path,t);for(const e in i.children)if(i.children.hasOwnProperty(e)&&dn(le(i.path,e),t))return!0;return!1}function OA(i){i.visibleWrites=yv(i.allWrites,RA,wt()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function RA(i){return i.visible}function yv(i,t,e){let s=pn.empty();for(let l=0;l<i.length;++l){const r=i[l];if(t(r)){const u=r.path;let h;if(r.snap)dn(e,u)?(h=Le(e,u),s=Vl(s,h,r.snap)):dn(u,e)&&(h=Le(u,e),s=Vl(s,wt(),r.snap.getChild(h)));else if(r.children){if(dn(e,u))h=Le(e,u),s=Yy(s,h,r.children);else if(dn(u,e))if(h=Le(u,e),vt(h))s=Yy(s,wt(),r.children);else{const d=fa(r.children,mt(h));if(d){const g=d.getChild(Ut(h));s=Vl(s,wt(),g)}}}else throw ba("WriteRecord should have .snap or .children")}}return s}function bv(i,t,e,s,l){if(!s&&!l){const r=gs(i.visibleWrites,t);if(r!=null)return r;{const u=wi(i.visibleWrites,t);if(Ff(u))return e;if(e==null&&!qf(u,wt()))return null;{const h=e||ut.EMPTY_NODE;return pa(u,h)}}}else{const r=wi(i.visibleWrites,t);if(!l&&Ff(r))return e;if(!l&&e==null&&!qf(r,wt()))return null;{const u=function(g){return(g.visible||l)&&(!s||!~s.indexOf(g.writeId))&&(dn(g.path,t)||dn(t,g.path))},h=yv(i.allWrites,u,t),d=e||ut.EMPTY_NODE;return pa(h,d)}}}function NA(i,t,e){let s=ut.EMPTY_NODE;const l=gs(i.visibleWrites,t);if(l)return l.isLeafNode()||l.forEachChild(Kt,(r,u)=>{s=s.updateImmediateChild(r,u)}),s;if(e){const r=wi(i.visibleWrites,t);return e.forEachChild(Kt,(u,h)=>{const d=pa(wi(r,new It(u)),h);s=s.updateImmediateChild(u,d)}),Fy(r).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}else{const r=wi(i.visibleWrites,t);return Fy(r).forEach(u=>{s=s.updateImmediateChild(u.name,u.node)}),s}}function kA(i,t,e,s,l){F(s||l,"Either existingEventSnap or existingServerSnap must exist");const r=le(t,e);if(qf(i.visibleWrites,r))return null;{const u=wi(i.visibleWrites,r);return Ff(u)?l.getChild(e):pa(u,l.getChild(e))}}function zA(i,t,e,s){const l=le(t,e),r=gs(i.visibleWrites,l);if(r!=null)return r;if(s.isCompleteForChild(e)){const u=wi(i.visibleWrites,l);return pa(u,s.getNode().getImmediateChild(e))}else return null}function LA(i,t){return gs(i.visibleWrites,t)}function IA(i,t,e,s,l,r,u){let h;const d=wi(i.visibleWrites,t),g=gs(d,wt());if(g!=null)h=g;else if(e!=null)h=pa(d,e);else return[];if(h=h.withIndex(u),!h.isEmpty()&&!h.isLeafNode()){const m=[],_=u.getCompare(),b=r?h.getReverseIteratorFrom(s,u):h.getIteratorFrom(s,u);let S=b.getNext();for(;S&&m.length<l;)_(S,s)!==0&&m.push(S),S=b.getNext();return m}else return[]}function BA(){return{visibleWrites:pn.empty(),allWrites:[],lastWriteId:-1}}function mc(i,t,e,s){return bv(i.writeTree,i.treePath,t,e,s)}function Cd(i,t){return NA(i.writeTree,i.treePath,t)}function Gy(i,t,e,s){return kA(i.writeTree,i.treePath,t,e,s)}function _c(i,t){return LA(i.writeTree,le(i.treePath,t))}function HA(i,t,e,s,l,r){return IA(i.writeTree,i.treePath,t,e,s,l,r)}function Ad(i,t,e){return zA(i.writeTree,i.treePath,t,e)}function vv(i,t){return Sv(le(i.treePath,t),i.writeTree)}function Sv(i,t){return{treePath:i,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UA{constructor(){this.changeMap=new Map}trackChildChange(t){const e=t.type,s=t.childName;F(e==="child_added"||e==="child_changed"||e==="child_removed","Only child changes supported for tracking"),F(s!==".priority","Only non-priority child changes can be tracked.");const l=this.changeMap.get(s);if(l){const r=l.type;if(e==="child_added"&&r==="child_removed")this.changeMap.set(s,to(s,t.snapshotNode,l.snapshotNode));else if(e==="child_removed"&&r==="child_added")this.changeMap.delete(s);else if(e==="child_removed"&&r==="child_changed")this.changeMap.set(s,Jl(s,l.oldSnap));else if(e==="child_changed"&&r==="child_added")this.changeMap.set(s,ga(s,t.snapshotNode));else if(e==="child_changed"&&r==="child_changed")this.changeMap.set(s,to(s,t.snapshotNode,l.oldSnap));else throw ba("Illegal combination of changes: "+t+" occurred after "+l)}else this.changeMap.set(s,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jA{getCompleteChild(t){return null}getChildAfterChild(t,e,s){return null}}const xv=new jA;class Md{constructor(t,e,s=null){this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=s}getCompleteChild(t){const e=this.viewCache_.eventCache;if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);{const s=this.optCompleteServerCache_!=null?new hs(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Ad(this.writes_,t,s)}}getChildAfterChild(t,e,s){const l=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:fs(this.viewCache_),r=HA(this.writes_,l,e,1,s,t);return r.length===0?null:r[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(i){return{filter:i}}function VA(i,t){F(t.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),F(t.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function YA(i,t,e,s,l){const r=new UA;let u,h;if(e.type===gn.OVERWRITE){const g=e;g.source.fromUser?u=Gf(i,t,g.path,g.snap,s,l,r):(F(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered()&&!vt(g.path),u=yc(i,t,g.path,g.snap,s,l,h,r))}else if(e.type===gn.MERGE){const g=e;g.source.fromUser?u=FA(i,t,g.path,g.children,s,l,r):(F(g.source.fromServer,"Unknown source."),h=g.source.tagged||t.serverCache.isFiltered(),u=Xf(i,t,g.path,g.children,s,l,h,r))}else if(e.type===gn.ACK_USER_WRITE){const g=e;g.revert?u=WA(i,t,g.path,s,l,r):u=GA(i,t,g.path,g.affectedTree,s,l,r)}else if(e.type===gn.LISTEN_COMPLETE)u=XA(i,t,e.path,s,r);else throw ba("Unknown operation type: "+e.type);const d=r.getChanges();return qA(t,u,d),{viewCache:u,changes:d}}function qA(i,t,e){const s=t.eventCache;if(s.isFullyInitialized()){const l=s.getNode().isLeafNode()||s.getNode().isEmpty(),r=Yf(i);(e.length>0||!i.eventCache.isFullyInitialized()||l&&!s.getNode().equals(r)||!s.getNode().getPriority().equals(r.getPriority()))&&e.push(dv(Yf(t)))}}function Ev(i,t,e,s,l,r){const u=t.eventCache;if(_c(s,e)!=null)return t;{let h,d;if(vt(e))if(F(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const g=fs(t),m=g instanceof ut?g:ut.EMPTY_NODE,_=Cd(s,m);h=i.filter.updateFullNode(t.eventCache.getNode(),_,r)}else{const g=mc(s,fs(t));h=i.filter.updateFullNode(t.eventCache.getNode(),g,r)}else{const g=mt(e);if(g===".priority"){F(Oi(e)===1,"Can't have a priority with additional path components");const m=u.getNode();d=t.serverCache.getNode();const _=Gy(s,e,m,d);_!=null?h=i.filter.updatePriority(m,_):h=u.getNode()}else{const m=Ut(e);let _;if(u.isCompleteForChild(g)){d=t.serverCache.getNode();const b=Gy(s,e,u.getNode(),d);b!=null?_=u.getNode().getImmediateChild(g).updateChild(m,b):_=u.getNode().getImmediateChild(g)}else _=Ad(s,g,t.serverCache);_!=null?h=i.filter.updateChild(u.getNode(),g,_,m,l,r):h=u.getNode()}}return Pl(t,h,u.isFullyInitialized()||vt(e),i.filter.filtersNodes())}}function yc(i,t,e,s,l,r,u,h){const d=t.serverCache;let g;const m=u?i.filter:i.filter.getIndexedFilter();if(vt(e))g=m.updateFullNode(d.getNode(),s,null);else if(m.filtersNodes()&&!d.isFiltered()){const S=d.getNode().updateChild(e,s);g=m.updateFullNode(d.getNode(),S,null)}else{const S=mt(e);if(!d.isCompleteForPath(e)&&Oi(e)>1)return t;const x=Ut(e),A=d.getNode().getImmediateChild(S).updateChild(x,s);S===".priority"?g=m.updatePriority(d.getNode(),A):g=m.updateChild(d.getNode(),S,A,x,xv,null)}const _=mv(t,g,d.isFullyInitialized()||vt(e),m.filtersNodes()),b=new Md(l,_,r);return Ev(i,_,e,l,b,h)}function Gf(i,t,e,s,l,r,u){const h=t.eventCache;let d,g;const m=new Md(l,t,r);if(vt(e))g=i.filter.updateFullNode(t.eventCache.getNode(),s,u),d=Pl(t,g,!0,i.filter.filtersNodes());else{const _=mt(e);if(_===".priority")g=i.filter.updatePriority(t.eventCache.getNode(),s),d=Pl(t,g,h.isFullyInitialized(),h.isFiltered());else{const b=Ut(e),S=h.getNode().getImmediateChild(_);let x;if(vt(b))x=s;else{const C=m.getCompleteChild(_);C!=null?sv(b)===".priority"&&C.getChild(lv(b)).isEmpty()?x=C:x=C.updateChild(b,s):x=ut.EMPTY_NODE}if(S.equals(x))d=t;else{const C=i.filter.updateChild(h.getNode(),_,x,b,m,u);d=Pl(t,C,h.isFullyInitialized(),i.filter.filtersNodes())}}}return d}function Xy(i,t){return i.eventCache.isCompleteForChild(t)}function FA(i,t,e,s,l,r,u){let h=t;return s.foreach((d,g)=>{const m=le(e,d);Xy(t,mt(m))&&(h=Gf(i,h,m,g,l,r,u))}),s.foreach((d,g)=>{const m=le(e,d);Xy(t,mt(m))||(h=Gf(i,h,m,g,l,r,u))}),h}function Wy(i,t,e){return e.foreach((s,l)=>{t=t.updateChild(s,l)}),t}function Xf(i,t,e,s,l,r,u,h){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let d=t,g;vt(e)?g=s:g=new Vt(null).setTree(e,s);const m=t.serverCache.getNode();return g.children.inorderTraversal((_,b)=>{if(m.hasChild(_)){const S=t.serverCache.getNode().getImmediateChild(_),x=Wy(i,S,b);d=yc(i,d,new It(_),x,l,r,u,h)}}),g.children.inorderTraversal((_,b)=>{const S=!t.serverCache.isCompleteForChild(_)&&b.value===null;if(!m.hasChild(_)&&!S){const x=t.serverCache.getNode().getImmediateChild(_),C=Wy(i,x,b);d=yc(i,d,new It(_),C,l,r,u,h)}}),d}function GA(i,t,e,s,l,r,u){if(_c(l,e)!=null)return t;const h=t.serverCache.isFiltered(),d=t.serverCache;if(s.value!=null){if(vt(e)&&d.isFullyInitialized()||d.isCompleteForPath(e))return yc(i,t,e,d.getNode().getChild(e),l,r,h,u);if(vt(e)){let g=new Vt(null);return d.getNode().forEachChild(ra,(m,_)=>{g=g.set(new It(m),_)}),Xf(i,t,e,g,l,r,h,u)}else return t}else{let g=new Vt(null);return s.foreach((m,_)=>{const b=le(e,m);d.isCompleteForPath(b)&&(g=g.set(m,d.getNode().getChild(b)))}),Xf(i,t,e,g,l,r,h,u)}}function XA(i,t,e,s,l){const r=t.serverCache,u=mv(t,r.getNode(),r.isFullyInitialized()||vt(e),r.isFiltered());return Ev(i,u,e,s,xv,l)}function WA(i,t,e,s,l,r){let u;if(_c(s,e)!=null)return t;{const h=new Md(s,t,l),d=t.eventCache.getNode();let g;if(vt(e)||mt(e)===".priority"){let m;if(t.serverCache.isFullyInitialized())m=mc(s,fs(t));else{const _=t.serverCache.getNode();F(_ instanceof ut,"serverChildren would be complete if leaf node"),m=Cd(s,_)}m=m,g=i.filter.updateFullNode(d,m,r)}else{const m=mt(e);let _=Ad(s,m,t.serverCache);_==null&&t.serverCache.isCompleteForChild(m)&&(_=d.getImmediateChild(m)),_!=null?g=i.filter.updateChild(d,m,_,Ut(e),h,r):t.eventCache.getNode().hasChild(m)?g=i.filter.updateChild(d,m,ut.EMPTY_NODE,Ut(e),h,r):g=d,g.isEmpty()&&t.serverCache.isFullyInitialized()&&(u=mc(s,fs(t)),u.isLeafNode()&&(g=i.filter.updateFullNode(g,u,r)))}return u=t.serverCache.isFullyInitialized()||_c(s,wt())!=null,Pl(t,g,u,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QA{constructor(t,e){this.query_=t,this.eventRegistrations_=[];const s=this.query_._queryParams,l=new vd(s.getIndex()),r=gA(s);this.processor_=PA(r);const u=e.serverCache,h=e.eventCache,d=l.updateFullNode(ut.EMPTY_NODE,u.getNode(),null),g=r.updateFullNode(ut.EMPTY_NODE,h.getNode(),null),m=new hs(d,u.isFullyInitialized(),l.filtersNodes()),_=new hs(g,h.isFullyInitialized(),r.filtersNodes());this.viewCache_=zc(_,m),this.eventGenerator_=new SA(this.query_)}get query(){return this.query_}}function KA(i){return i.viewCache_.serverCache.getNode()}function ZA(i,t){const e=fs(i.viewCache_);return e&&(i.query._queryParams.loadsAllData()||!vt(t)&&!e.getImmediateChild(mt(t)).isEmpty())?e.getChild(t):null}function Qy(i){return i.eventRegistrations_.length===0}function $A(i,t){i.eventRegistrations_.push(t)}function Ky(i,t,e){const s=[];if(e){F(t==null,"A cancel should cancel all event registrations.");const l=i.query._path;i.eventRegistrations_.forEach(r=>{const u=r.createCancelEvent(e,l);u&&s.push(u)})}if(t){let l=[];for(let r=0;r<i.eventRegistrations_.length;++r){const u=i.eventRegistrations_[r];if(!u.matches(t))l.push(u);else if(t.hasAnyCallback()){l=l.concat(i.eventRegistrations_.slice(r+1));break}}i.eventRegistrations_=l}else i.eventRegistrations_=[];return s}function Zy(i,t,e,s){t.type===gn.MERGE&&t.source.queryId!==null&&(F(fs(i.viewCache_),"We should always have a full cache before handling merges"),F(Yf(i.viewCache_),"Missing event cache, even though we have a server cache"));const l=i.viewCache_,r=YA(i.processor_,l,t,e,s);return VA(i.processor_,r.viewCache),F(r.viewCache.serverCache.isFullyInitialized()||!l.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=r.viewCache,Tv(i,r.changes,r.viewCache.eventCache.getNode(),null)}function JA(i,t){const e=i.viewCache_.eventCache,s=[];return e.getNode().isLeafNode()||e.getNode().forEachChild(Kt,(r,u)=>{s.push(ga(r,u))}),e.isFullyInitialized()&&s.push(dv(e.getNode())),Tv(i,s,e.getNode(),t)}function Tv(i,t,e,s){const l=s?[s]:i.eventRegistrations_;return xA(i.eventGenerator_,t,e,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bc;class tM{constructor(){this.views=new Map}}function eM(i){F(!bc,"__referenceConstructor has already been defined"),bc=i}function nM(){return F(bc,"Reference.ts has not been loaded"),bc}function iM(i){return i.views.size===0}function wd(i,t,e,s){const l=t.source.queryId;if(l!==null){const r=i.views.get(l);return F(r!=null,"SyncTree gave us an op for an invalid query."),Zy(r,t,e,s)}else{let r=[];for(const u of i.views.values())r=r.concat(Zy(u,t,e,s));return r}}function sM(i,t,e,s,l){const r=t._queryIdentifier,u=i.views.get(r);if(!u){let h=mc(e,l?s:null),d=!1;h?d=!0:s instanceof ut?(h=Cd(e,s),d=!1):(h=ut.EMPTY_NODE,d=!1);const g=zc(new hs(h,d,!1),new hs(s,l,!1));return new QA(t,g)}return u}function aM(i,t,e,s,l,r){const u=sM(i,t,s,l,r);return i.views.has(t._queryIdentifier)||i.views.set(t._queryIdentifier,u),$A(u,e),JA(u,e)}function lM(i,t,e,s){const l=t._queryIdentifier,r=[];let u=[];const h=Ri(i);if(l==="default")for(const[d,g]of i.views.entries())u=u.concat(Ky(g,e,s)),Qy(g)&&(i.views.delete(d),g.query._queryParams.loadsAllData()||r.push(g.query));else{const d=i.views.get(l);d&&(u=u.concat(Ky(d,e,s)),Qy(d)&&(i.views.delete(l),d.query._queryParams.loadsAllData()||r.push(d.query)))}return h&&!Ri(i)&&r.push(new(nM())(t._repo,t._path)),{removed:r,events:u}}function Cv(i){const t=[];for(const e of i.views.values())e.query._queryParams.loadsAllData()||t.push(e);return t}function ca(i,t){let e=null;for(const s of i.views.values())e=e||ZA(s,t);return e}function Av(i,t){if(t._queryParams.loadsAllData())return Lc(i);{const s=t._queryIdentifier;return i.views.get(s)}}function Mv(i,t){return Av(i,t)!=null}function Ri(i){return Lc(i)!=null}function Lc(i){for(const t of i.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vc;function oM(i){F(!vc,"__referenceConstructor has already been defined"),vc=i}function rM(){return F(vc,"Reference.ts has not been loaded"),vc}let cM=1;class $y{constructor(t){this.listenProvider_=t,this.syncPointTree_=new Vt(null),this.pendingWriteTree_=BA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function wv(i,t,e,s,l){return AA(i.pendingWriteTree_,t,e,s,l),l?yo(i,new us(pv(),t,e)):[]}function ls(i,t,e=!1){const s=MA(i.pendingWriteTree_,t);if(wA(i.pendingWriteTree_,t)){let r=new Vt(null);return s.snap!=null?r=r.set(wt(),!0):He(s.children,u=>{r=r.set(new It(u),!0)}),yo(i,new pc(s.path,r,e))}else return[]}function Ic(i,t,e){return yo(i,new us(xd(),t,e))}function uM(i,t,e){const s=Vt.fromObject(e);return yo(i,new io(xd(),t,s))}function hM(i,t){return yo(i,new no(xd(),t))}function fM(i,t,e){const s=Od(i,e);if(s){const l=Rd(s),r=l.path,u=l.queryId,h=Le(r,t),d=new no(Ed(u),h);return Nd(i,r,d)}else return[]}function Wf(i,t,e,s,l=!1){const r=t._path,u=i.syncPointTree_.get(r);let h=[];if(u&&(t._queryIdentifier==="default"||Mv(u,t))){const d=lM(u,t,e,s);iM(u)&&(i.syncPointTree_=i.syncPointTree_.remove(r));const g=d.removed;if(h=d.events,!l){const m=g.findIndex(b=>b._queryParams.loadsAllData())!==-1,_=i.syncPointTree_.findOnPath(r,(b,S)=>Ri(S));if(m&&!_){const b=i.syncPointTree_.subtree(r);if(!b.isEmpty()){const S=pM(b);for(let x=0;x<S.length;++x){const C=S[x],A=C.query,z=Rv(i,C);i.listenProvider_.startListening(Yl(A),Sc(i,A),z.hashFn,z.onComplete)}}}!_&&g.length>0&&!s&&(m?i.listenProvider_.stopListening(Yl(t),null):g.forEach(b=>{const S=i.queryToTagMap.get(Bc(b));i.listenProvider_.stopListening(Yl(b),S)}))}mM(i,g)}return h}function dM(i,t,e,s){const l=Od(i,s);if(l!=null){const r=Rd(l),u=r.path,h=r.queryId,d=Le(u,t),g=new us(Ed(h),d,e);return Nd(i,u,g)}else return[]}function gM(i,t,e,s){const l=Od(i,s);if(l){const r=Rd(l),u=r.path,h=r.queryId,d=Le(u,t),g=Vt.fromObject(e),m=new io(Ed(h),d,g);return Nd(i,u,m)}else return[]}function Jy(i,t,e,s=!1){const l=t._path;let r=null,u=!1;i.syncPointTree_.foreachOnPath(l,(b,S)=>{const x=Le(b,l);r=r||ca(S,x),u=u||Ri(S)});let h=i.syncPointTree_.get(l);h?(u=u||Ri(h),r=r||ca(h,wt())):(h=new tM,i.syncPointTree_=i.syncPointTree_.set(l,h));let d;r!=null?d=!0:(d=!1,r=ut.EMPTY_NODE,i.syncPointTree_.subtree(l).foreachChild((S,x)=>{const C=ca(x,wt());C&&(r=r.updateImmediateChild(S,C))}));const g=Mv(h,t);if(!g&&!t._queryParams.loadsAllData()){const b=Bc(t);F(!i.queryToTagMap.has(b),"View does not exist, but we have a tag");const S=_M();i.queryToTagMap.set(b,S),i.tagToQueryMap.set(S,b)}const m=Td(i.pendingWriteTree_,l);let _=aM(h,t,e,m,r,d);if(!g&&!u&&!s){const b=Av(h,t);_=_.concat(yM(i,t,b))}return _}function Dd(i,t,e){const l=i.pendingWriteTree_,r=i.syncPointTree_.findOnPath(t,(u,h)=>{const d=Le(u,t),g=ca(h,d);if(g)return g});return bv(l,t,r,e,!0)}function yo(i,t){return Dv(t,i.syncPointTree_,null,Td(i.pendingWriteTree_,wt()))}function Dv(i,t,e,s){if(vt(i.path))return Ov(i,t,e,s);{const l=t.get(wt());e==null&&l!=null&&(e=ca(l,wt()));let r=[];const u=mt(i.path),h=i.operationForChild(u),d=t.children.get(u);if(d&&h){const g=e?e.getImmediateChild(u):null,m=vv(s,u);r=r.concat(Dv(h,d,g,m))}return l&&(r=r.concat(wd(l,i,s,e))),r}}function Ov(i,t,e,s){const l=t.get(wt());e==null&&l!=null&&(e=ca(l,wt()));let r=[];return t.children.inorderTraversal((u,h)=>{const d=e?e.getImmediateChild(u):null,g=vv(s,u),m=i.operationForChild(u);m&&(r=r.concat(Ov(m,h,d,g)))}),l&&(r=r.concat(wd(l,i,s,e))),r}function Rv(i,t){const e=t.query,s=Sc(i,e);return{hashFn:()=>(KA(t)||ut.EMPTY_NODE).hash(),onComplete:l=>{if(l==="ok")return s?fM(i,e._path,s):hM(i,e._path);{const r=dC(l,e);return Wf(i,e,null,r)}}}}function Sc(i,t){const e=Bc(t);return i.queryToTagMap.get(e)}function Bc(i){return i._path.toString()+"$"+i._queryIdentifier}function Od(i,t){return i.tagToQueryMap.get(t)}function Rd(i){const t=i.indexOf("$");return F(t!==-1&&t<i.length-1,"Bad queryKey."),{queryId:i.substr(t+1),path:new It(i.substr(0,t))}}function Nd(i,t,e){const s=i.syncPointTree_.get(t);F(s,"Missing sync point for query tag that we're tracking");const l=Td(i.pendingWriteTree_,t);return wd(s,e,l,null)}function pM(i){return i.fold((t,e,s)=>{if(e&&Ri(e))return[Lc(e)];{let l=[];return e&&(l=Cv(e)),He(s,(r,u)=>{l=l.concat(u)}),l}})}function Yl(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(rM())(i._repo,i._path):i}function mM(i,t){for(let e=0;e<t.length;++e){const s=t[e];if(!s._queryParams.loadsAllData()){const l=Bc(s),r=i.queryToTagMap.get(l);i.queryToTagMap.delete(l),i.tagToQueryMap.delete(r)}}}function _M(){return cM++}function yM(i,t,e){const s=t._path,l=Sc(i,t),r=Rv(i,e),u=i.listenProvider_.startListening(Yl(t),l,r.hashFn,r.onComplete),h=i.syncPointTree_.subtree(s);if(l)F(!Ri(h.value),"If we're adding a query, it shouldn't be shadowed");else{const d=h.fold((g,m,_)=>{if(!vt(g)&&m&&Ri(m))return[Lc(m).query];{let b=[];return m&&(b=b.concat(Cv(m).map(S=>S.query))),He(_,(S,x)=>{b=b.concat(x)}),b}});for(let g=0;g<d.length;++g){const m=d[g];i.listenProvider_.stopListening(Yl(m),Sc(i,m))}}return u}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(t){this.node_=t}getImmediateChild(t){const e=this.node_.getImmediateChild(t);return new kd(e)}node(){return this.node_}}class zd{constructor(t,e){this.syncTree_=t,this.path_=e}getImmediateChild(t){const e=le(this.path_,t);return new zd(this.syncTree_,e)}node(){return Dd(this.syncTree_,this.path_)}}const bM=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},tb=function(i,t,e){if(!i||typeof i!="object")return i;if(F(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return vM(i[".sv"],t,e);if(typeof i[".sv"]=="object")return SM(i[".sv"],t);F(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},vM=function(i,t,e){switch(i){case"timestamp":return e.timestamp;default:F(!1,"Unexpected server value: "+i)}},SM=function(i,t,e){i.hasOwnProperty("increment")||F(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const s=i.increment;typeof s!="number"&&F(!1,"Unexpected increment value: "+s);const l=t.node();if(F(l!==null&&typeof l<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!l.isLeafNode())return s;const u=l.getValue();return typeof u!="number"?s:u+s},xM=function(i,t,e,s){return Ld(t,new zd(e,i),s)},Nv=function(i,t,e){return Ld(i,new kd(t),e)};function Ld(i,t,e){const s=i.getPriority().val(),l=tb(s,t.getImmediateChild(".priority"),e);let r;if(i.isLeafNode()){const u=i,h=tb(u.getValue(),t,e);return h!==u.getValue()||l!==u.getPriority().val()?new fe(h,be(l)):i}else{const u=i;return r=u,l!==u.getPriority().val()&&(r=r.updatePriority(new fe(l))),u.forEachChild(Kt,(h,d)=>{const g=Ld(d,t.getImmediateChild(h),e);g!==d&&(r=r.updateImmediateChild(h,g))}),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(t="",e=null,s={children:{},childCount:0}){this.name=t,this.parent=e,this.node=s}}function Bd(i,t){let e=t instanceof It?t:new It(t),s=i,l=mt(e);for(;l!==null;){const r=fa(s.node.children,l)||{children:{},childCount:0};s=new Id(l,s,r),e=Ut(e),l=mt(e)}return s}function Ea(i){return i.node.value}function kv(i,t){i.node.value=t,Qf(i)}function zv(i){return i.node.childCount>0}function EM(i){return Ea(i)===void 0&&!zv(i)}function Hc(i,t){He(i.node.children,(e,s)=>{t(new Id(e,i,s))})}function Lv(i,t,e,s){e&&t(i),Hc(i,l=>{Lv(l,t,!0)})}function TM(i,t,e){let s=i.parent;for(;s!==null;){if(t(s))return!0;s=s.parent}return!1}function bo(i){return new It(i.parent===null?i.name:bo(i.parent)+"/"+i.name)}function Qf(i){i.parent!==null&&CM(i.parent,i.name,i)}function CM(i,t,e){const s=EM(e),l=Zn(i.node.children,t);s&&l?(delete i.node.children[t],i.node.childCount--,Qf(i)):!s&&!l&&(i.node.children[t]=e.node,i.node.childCount++,Qf(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AM=/[\[\].#$\/\u0000-\u001F\u007F]/,MM=/[\[\].#$\u0000-\u001F\u007F]/,xf=10*1024*1024,Iv=function(i){return typeof i=="string"&&i.length!==0&&!AM.test(i)},Bv=function(i){return typeof i=="string"&&i.length!==0&&!MM.test(i)},wM=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),Bv(i)},Hv=function(i,t,e,s){s&&t===void 0||Hd(hd(i,"value"),t,e)},Hd=function(i,t,e){const s=e instanceof It?new GC(e,i):e;if(t===void 0)throw new Error(i+"contains undefined "+ns(s));if(typeof t=="function")throw new Error(i+"contains a function "+ns(s)+" with contents = "+t.toString());if(B0(t))throw new Error(i+"contains "+t.toString()+" "+ns(s));if(typeof t=="string"&&t.length>xf/3&&Nc(t)>xf)throw new Error(i+"contains a string greater than "+xf+" utf8 bytes "+ns(s)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let l=!1,r=!1;if(He(t,(u,h)=>{if(u===".value")l=!0;else if(u!==".priority"&&u!==".sv"&&(r=!0,!Iv(u)))throw new Error(i+" contains an invalid key ("+u+") "+ns(s)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);XC(s,u),Hd(i,h,s),WC(s)}),l&&r)throw new Error(i+' contains ".value" child '+ns(s)+" in addition to actual children.")}},Uv=function(i,t,e,s){if(!Bv(e))throw new Error(hd(i,t)+'was an invalid path = "'+e+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},DM=function(i,t,e,s){e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),Uv(i,t,e)},Ud=function(i,t){if(mt(t)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},OM=function(i,t){const e=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!Iv(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||e.length!==0&&!wM(e))throw new Error(hd(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RM{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function jd(i,t){let e=null;for(let s=0;s<t.length;s++){const l=t[s],r=l.getPath();e!==null&&!_d(r,e.path)&&(i.eventLists_.push(e),e=null),e===null&&(e={events:[],path:r}),e.events.push(l)}e&&i.eventLists_.push(e)}function jv(i,t,e){jd(i,e),Pv(i,s=>_d(s,t))}function Kn(i,t,e){jd(i,e),Pv(i,s=>dn(s,t)||dn(t,s))}function Pv(i,t){i.recursionDepth_++;let e=!0;for(let s=0;s<i.eventLists_.length;s++){const l=i.eventLists_[s];if(l){const r=l.path;t(r)?(NM(i.eventLists_[s]),i.eventLists_[s]=null):e=!1}}e&&(i.eventLists_=[]),i.recursionDepth_--}function NM(i){for(let t=0;t<i.events.length;t++){const e=i.events[t];if(e!==null){i.events[t]=null;const s=e.getEventRunner();Ul&&Te("event: "+e.toString()),xa(s)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kM="repo_interrupt",zM=25;class LM{constructor(t,e,s,l){this.repoInfo_=t,this.forceRestClient_=e,this.authTokenProvider_=s,this.appCheckProvider_=l,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new RM,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=gc(),this.transactionQueueTree_=new Id,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function IM(i,t,e){if(i.stats_=pd(i.repoInfo_),i.forceRestClient_||_C())i.server_=new dc(i.repoInfo_,(s,l,r,u)=>{eb(i,s,l,r,u)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>nb(i,!0),0);else{if(typeof e<"u"&&e!==null){if(typeof e!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{ge(e)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}i.persistentConnection_=new Xn(i.repoInfo_,t,(s,l,r,u)=>{eb(i,s,l,r,u)},s=>{nb(i,s)},s=>{BM(i,s)},i.authTokenProvider_,i.appCheckProvider_,e),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(s=>{i.server_.refreshAuthToken(s)}),i.appCheckProvider_.addTokenChangeListener(s=>{i.server_.refreshAppCheckToken(s.token)}),i.statsReporter_=xC(i.repoInfo_,()=>new vA(i.stats_,i.server_)),i.infoData_=new pA,i.infoSyncTree_=new $y({startListening:(s,l,r,u)=>{let h=[];const d=i.infoData_.getNode(s._path);return d.isEmpty()||(h=Ic(i.infoSyncTree_,s._path,d),setTimeout(()=>{u("ok")},0)),h},stopListening:()=>{}}),Vd(i,"connected",!1),i.serverSyncTree_=new $y({startListening:(s,l,r,u)=>(i.server_.listen(s,r,l,(h,d)=>{const g=u(h,d);Kn(i.eventQueue_,s._path,g)}),[]),stopListening:(s,l)=>{i.server_.unlisten(s,l)}})}function Vv(i){const e=i.infoData_.getNode(new It(".info/serverTimeOffset")).val()||0;return new Date().getTime()+e}function Pd(i){return bM({timestamp:Vv(i)})}function eb(i,t,e,s,l){i.dataUpdateCount++;const r=new It(t);e=i.interceptServerDataCallback_?i.interceptServerDataCallback_(t,e):e;let u=[];if(l)if(s){const d=lc(e,g=>be(g));u=gM(i.serverSyncTree_,r,d,l)}else{const d=be(e);u=dM(i.serverSyncTree_,r,d,l)}else if(s){const d=lc(e,g=>be(g));u=uM(i.serverSyncTree_,r,d)}else{const d=be(e);u=Ic(i.serverSyncTree_,r,d)}let h=r;u.length>0&&(h=Uc(i,r)),Kn(i.eventQueue_,h,u)}function nb(i,t){Vd(i,"connected",t),t===!1&&UM(i)}function BM(i,t){He(t,(e,s)=>{Vd(i,e,s)})}function Vd(i,t,e){const s=new It("/.info/"+t),l=be(e);i.infoData_.updateSnapshot(s,l);const r=Ic(i.infoSyncTree_,s,l);Kn(i.eventQueue_,s,r)}function Yv(i){return i.nextWriteId_++}function HM(i,t,e,s,l){Yd(i,"set",{path:t.toString(),value:e,priority:s});const r=Pd(i),u=be(e,s),h=Dd(i.serverSyncTree_,t),d=Nv(u,h,r),g=Yv(i),m=wv(i.serverSyncTree_,t,d,g,!0);jd(i.eventQueue_,m),i.server_.put(t.toString(),u.val(!0),(b,S)=>{const x=b==="ok";x||Be("set at "+t+" failed: "+b);const C=ls(i.serverSyncTree_,g,!x);Kn(i.eventQueue_,t,C),YM(i,l,b,S)});const _=Wv(i,t);Uc(i,_),Kn(i.eventQueue_,_,[])}function UM(i){Yd(i,"onDisconnectEvents");const t=Pd(i),e=gc();Vf(i.onDisconnect_,wt(),(l,r)=>{const u=xM(l,r,i.serverSyncTree_,t);gv(e,l,u)});let s=[];Vf(e,wt(),(l,r)=>{s=s.concat(Ic(i.serverSyncTree_,l,r));const u=Wv(i,l);Uc(i,u)}),i.onDisconnect_=gc(),Kn(i.eventQueue_,wt(),s)}function jM(i,t,e){let s;mt(t._path)===".info"?s=Jy(i.infoSyncTree_,t,e):s=Jy(i.serverSyncTree_,t,e),jv(i.eventQueue_,t._path,s)}function PM(i,t,e){let s;mt(t._path)===".info"?s=Wf(i.infoSyncTree_,t,e):s=Wf(i.serverSyncTree_,t,e),jv(i.eventQueue_,t._path,s)}function VM(i){i.persistentConnection_&&i.persistentConnection_.interrupt(kM)}function Yd(i,...t){let e="";i.persistentConnection_&&(e=i.persistentConnection_.id+":"),Te(e,...t)}function YM(i,t,e,s){t&&xa(()=>{if(e==="ok")t(null);else{const l=(e||"error").toUpperCase();let r=l;s&&(r+=": "+s);const u=new Error(r);u.code=l,t(u)}})}function qv(i,t,e){return Dd(i.serverSyncTree_,t,e)||ut.EMPTY_NODE}function qd(i,t=i.transactionQueueTree_){if(t||jc(i,t),Ea(t)){const e=Gv(i,t);F(e.length>0,"Sending zero length transaction queue"),e.every(l=>l.status===0)&&qM(i,bo(t),e)}else zv(t)&&Hc(t,e=>{qd(i,e)})}function qM(i,t,e){const s=e.map(g=>g.currentWriteId),l=qv(i,t,s);let r=l;const u=l.hash();for(let g=0;g<e.length;g++){const m=e[g];F(m.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),m.status=1,m.retryCount++;const _=Le(t,m.path);r=r.updateChild(_,m.currentOutputSnapshotRaw)}const h=r.val(!0),d=t;i.server_.put(d.toString(),h,g=>{Yd(i,"transaction put response",{path:d.toString(),status:g});let m=[];if(g==="ok"){const _=[];for(let b=0;b<e.length;b++)e[b].status=2,m=m.concat(ls(i.serverSyncTree_,e[b].currentWriteId)),e[b].onComplete&&_.push(()=>e[b].onComplete(null,!0,e[b].currentOutputSnapshotResolved)),e[b].unwatcher();jc(i,Bd(i.transactionQueueTree_,t)),qd(i,i.transactionQueueTree_),Kn(i.eventQueue_,t,m);for(let b=0;b<_.length;b++)xa(_[b])}else{if(g==="datastale")for(let _=0;_<e.length;_++)e[_].status===3?e[_].status=4:e[_].status=0;else{Be("transaction at "+d.toString()+" failed: "+g);for(let _=0;_<e.length;_++)e[_].status=4,e[_].abortReason=g}Uc(i,t)}},u)}function Uc(i,t){const e=Fv(i,t),s=bo(e),l=Gv(i,e);return FM(i,l,s),s}function FM(i,t,e){if(t.length===0)return;const s=[];let l=[];const u=t.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<t.length;h++){const d=t[h],g=Le(e,d.path);let m=!1,_;if(F(g!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),d.status===4)m=!0,_=d.abortReason,l=l.concat(ls(i.serverSyncTree_,d.currentWriteId,!0));else if(d.status===0)if(d.retryCount>=zM)m=!0,_="maxretry",l=l.concat(ls(i.serverSyncTree_,d.currentWriteId,!0));else{const b=qv(i,d.path,u);d.currentInputSnapshot=b;const S=t[h].update(b.val());if(S!==void 0){Hd("transaction failed: Data returned ",S,d.path);let x=be(S);typeof S=="object"&&S!=null&&Zn(S,".priority")||(x=x.updatePriority(b.getPriority()));const A=d.currentWriteId,z=Pd(i),U=Nv(x,b,z);d.currentOutputSnapshotRaw=x,d.currentOutputSnapshotResolved=U,d.currentWriteId=Yv(i),u.splice(u.indexOf(A),1),l=l.concat(wv(i.serverSyncTree_,d.path,U,d.currentWriteId,d.applyLocally)),l=l.concat(ls(i.serverSyncTree_,A,!0))}else m=!0,_="nodata",l=l.concat(ls(i.serverSyncTree_,d.currentWriteId,!0))}Kn(i.eventQueue_,e,l),l=[],m&&(t[h].status=2,function(b){setTimeout(b,Math.floor(0))}(t[h].unwatcher),t[h].onComplete&&(_==="nodata"?s.push(()=>t[h].onComplete(null,!1,t[h].currentInputSnapshot)):s.push(()=>t[h].onComplete(new Error(_),!1,null))))}jc(i,i.transactionQueueTree_);for(let h=0;h<s.length;h++)xa(s[h]);qd(i,i.transactionQueueTree_)}function Fv(i,t){let e,s=i.transactionQueueTree_;for(e=mt(t);e!==null&&Ea(s)===void 0;)s=Bd(s,e),t=Ut(t),e=mt(t);return s}function Gv(i,t){const e=[];return Xv(i,t,e),e.sort((s,l)=>s.order-l.order),e}function Xv(i,t,e){const s=Ea(t);if(s)for(let l=0;l<s.length;l++)e.push(s[l]);Hc(t,l=>{Xv(i,l,e)})}function jc(i,t){const e=Ea(t);if(e){let s=0;for(let l=0;l<e.length;l++)e[l].status!==2&&(e[s]=e[l],s++);e.length=s,kv(t,e.length>0?e:void 0)}Hc(t,s=>{jc(i,s)})}function Wv(i,t){const e=bo(Fv(i,t)),s=Bd(i.transactionQueueTree_,t);return TM(s,l=>{Ef(i,l)}),Ef(i,s),Lv(s,l=>{Ef(i,l)}),e}function Ef(i,t){const e=Ea(t);if(e){const s=[];let l=[],r=-1;for(let u=0;u<e.length;u++)e[u].status===3||(e[u].status===1?(F(r===u-1,"All SENT items should be at beginning of queue."),r=u,e[u].status=3,e[u].abortReason="set"):(F(e[u].status===0,"Unexpected transaction status in abort"),e[u].unwatcher(),l=l.concat(ls(i.serverSyncTree_,e[u].currentWriteId,!0)),e[u].onComplete&&s.push(e[u].onComplete.bind(null,new Error("set"),!1,null))));r===-1?kv(t,void 0):e.length=r+1,Kn(i.eventQueue_,bo(t),l);for(let u=0;u<s.length;u++)xa(s[u])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GM(i){let t="";const e=i.split("/");for(let s=0;s<e.length;s++)if(e[s].length>0){let l=e[s];try{l=decodeURIComponent(l.replace(/\+/g," "))}catch{}t+="/"+l}return t}function XM(i){const t={};i.charAt(0)==="?"&&(i=i.substring(1));for(const e of i.split("&")){if(e.length===0)continue;const s=e.split("=");s.length===2?t[decodeURIComponent(s[0])]=decodeURIComponent(s[1]):Be(`Invalid query segment '${e}' in query '${i}'`)}return t}const ib=function(i,t){const e=WM(i),s=e.namespace;e.domain==="firebase.com"&&Qn(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!s||s==="undefined")&&e.domain!=="localhost"&&Qn("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||rC();const l=e.scheme==="ws"||e.scheme==="wss";return{repoInfo:new Q0(e.host,e.secure,s,l,t,"",s!==e.subdomain),path:new It(e.pathString)}},WM=function(i){let t="",e="",s="",l="",r="",u=!0,h="https",d=443;if(typeof i=="string"){let g=i.indexOf("//");g>=0&&(h=i.substring(0,g-1),i=i.substring(g+2));let m=i.indexOf("/");m===-1&&(m=i.length);let _=i.indexOf("?");_===-1&&(_=i.length),t=i.substring(0,Math.min(m,_)),m<_&&(l=GM(i.substring(m,_)));const b=XM(i.substring(Math.min(i.length,_)));g=t.indexOf(":"),g>=0?(u=h==="https"||h==="wss",d=parseInt(t.substring(g+1),10)):g=t.length;const S=t.slice(0,g);if(S.toLowerCase()==="localhost")e="localhost";else if(S.split(".").length<=2)e=S;else{const x=t.indexOf(".");s=t.substring(0,x).toLowerCase(),e=t.substring(x+1),r=s}"ns"in b&&(r=b.ns)}return{host:t,port:d,domain:e,subdomain:s,secure:u,scheme:h,pathString:l,namespace:r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sb="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",QM=function(){let i=0;const t=[];return function(e){const s=e===i;i=e;let l;const r=new Array(8);for(l=7;l>=0;l--)r[l]=sb.charAt(e%64),e=Math.floor(e/64);F(e===0,"Cannot push at time == 0");let u=r.join("");if(s){for(l=11;l>=0&&t[l]===63;l--)t[l]=0;t[l]++}else for(l=0;l<12;l++)t[l]=Math.floor(Math.random()*64);for(l=0;l<12;l++)u+=sb.charAt(t[l]);return F(u.length===20,"nextPushId: Length should be 20."),u}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KM{constructor(t,e,s,l){this.eventType=t,this.eventRegistration=e,this.snapshot=s,this.prevName=l}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+ge(this.snapshot.exportVal())}}class ZM{constructor(t,e,s){this.eventRegistration=t,this.error=e,this.path=s}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $M{constructor(t,e){this.snapshotCallback=t,this.cancelCallback=e}onValue(t,e){this.snapshotCallback.call(null,t,e)}onCancel(t){return F(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(t,e,s,l){this._repo=t,this._path=e,this._queryParams=s,this._orderByCalled=l}get key(){return vt(this._path)?null:sv(this._path)}get ref(){return new ki(this._repo,this._path)}get _queryIdentifier(){const t=Py(this._queryParams),e=dd(t);return e==="{}"?"default":e}get _queryObject(){return Py(this._queryParams)}isEqual(t){if(t=va(t),!(t instanceof Fd))return!1;const e=this._repo===t._repo,s=_d(this._path,t._path),l=this._queryIdentifier===t._queryIdentifier;return e&&s&&l}toJSON(){return this.toString()}toString(){return this._repo.toString()+FC(this._path)}}class ki extends Fd{constructor(t,e){super(t,e,new Sd,!1)}get parent(){const t=lv(this._path);return t===null?null:new ki(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class xc{constructor(t,e,s){this._node=t,this.ref=e,this._index=s}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const e=new It(t),s=so(this.ref,t);return new xc(this._node.getChild(e),s,Kt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(s,l)=>t(new xc(l,so(this.ref,s),Kt)))}hasChild(t){const e=new It(t);return!this._node.getChild(e).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Hr(i,t){return i=va(i),i._checkNotDeleted("ref"),t!==void 0?so(i._root,t):i._root}function so(i,t){return i=va(i),mt(i._path)===null?DM("child","path",t):Uv("child","path",t),new ki(i._repo,le(i._path,t))}function JM(i,t){i=va(i),Ud("push",i._path),Hv("push",t,i._path,!0);const e=Vv(i._repo),s=QM(e),l=so(i,s),r=so(i,s);let u;return t!=null?u=Qv(r,t).then(()=>r):u=Promise.resolve(r),l.then=u.then.bind(u),l.catch=u.then.bind(u,void 0),l}function ab(i){return Ud("remove",i._path),Qv(i,null)}function Qv(i,t){i=va(i),Ud("set",i._path),Hv("set",t,i._path,!1);const e=new Rc;return HM(i._repo,i._path,t,null,e.wrapCallback(()=>{})),e.promise}class Gd{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,e){const s=e._queryParams.getIndex();return new KM("value",this,new xc(t.snapshotNode,new ki(e._repo,e._path),s))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,e){return this.callbackContext.hasCancelCallback?new ZM(this,t,e):null}matches(t){return t instanceof Gd?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function tw(i,t,e,s,l){const r=new $M(e,void 0),u=new Gd(r);return jM(i._repo,i,u),()=>PM(i._repo,i,u)}function ew(i,t,e,s){return tw(i,"value",t)}eM(ki);oM(ki);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nw="FIREBASE_DATABASE_EMULATOR_HOST",Kf={};let iw=!1;function sw(i,t,e,s){i.repoInfo_=new Q0(t,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,e),s&&(i.authTokenProvider_=s)}function aw(i,t,e,s,l){let r=s||i.options.databaseURL;r===void 0&&(i.options.projectId||Qn("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Te("Using default host for project ",i.options.projectId),r=`${i.options.projectId}-default-rtdb.firebaseio.com`);let u=ib(r,l),h=u.repoInfo,d;typeof process<"u"&&Ey&&(d=Ey[nw]),d?(r=`http://${d}?ns=${h.namespace}`,u=ib(r,l),h=u.repoInfo):u.repoInfo.secure;const g=new bC(i.name,i.options,t);OM("Invalid Firebase Database URL",u),vt(u.path)||Qn("Database URL must point to the root of a Firebase Database (not including a child path).");const m=ow(h,i,g,new yC(i,e));return new rw(m,i)}function lw(i,t){const e=Kf[t];(!e||e[i.key]!==i)&&Qn(`Database ${t}(${i.repoInfo_}) has already been deleted.`),VM(i),delete e[i.key]}function ow(i,t,e,s){let l=Kf[t.name];l||(l={},Kf[t.name]=l);let r=l[i.toURLString()];return r&&Qn("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new LM(i,iw,e,s),l[i.toURLString()]=r,r}class rw{constructor(t,e){this._repoInternal=t,this.app=e,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(IM(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ki(this._repo,wt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(lw(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&Qn("Cannot call "+t+" on a deleted database.")}}function cw(i=YT(),t){const e=HT(i,"database").getImmediate({identifier:t});if(!e._instanceStarted){const s=ME("database");s&&uw(e,...s)}return e}function uw(i,t,e,s={}){i=va(i),i._checkNotDeleted("useEmulator");const l=`${t}:${e}`,r=i._repoInternal;if(i._instanceStarted){if(l===i._repoInternal.repoInfo_.host&&oc(s,r.repoInfo_.emulatorOptions))return;Qn("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let u;if(r.repoInfo_.nodeAdmin)s.mockUserToken&&Qn('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),u=new tc(tc.OWNER);else if(s.mockUserToken){const h=typeof s.mockUserToken=="string"?s.mockUserToken:wE(s.mockUserToken,i.app.options.projectId);u=new tc(h)}sw(r,l,s,u)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hw(i){nC(VT),cc(new Kl("database",(t,{instanceIdentifier:e})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("auth-internal"),r=t.getProvider("app-check-internal");return aw(s,l,r,e)},"PUBLIC").setMultipleInstances(!0)),la(Ty,Cy,i),la(Ty,Cy,"esm2017")}Xn.prototype.simpleListen=function(i,t){this.sendRequest("q",{p:i},t)};Xn.prototype.echo=function(i,t){this.sendRequest("echo",{d:i},t)};hw();const fw={apiKey:"...",authDomain:"...",databaseURL:"https://moneytechbank-default-rtdb.asia-southeast1.firebasedatabase.app",projectId:"...",storageBucket:"...",messagingSenderId:"...",appId:"..."},dw=R0(fw),Ur=cw(dw);/*!
 * @kurkle/color v0.3.4
 * https://github.com/kurkle/color#readme
 * (c) 2024 Jukka Kurkela
 * Released under the MIT License
 */function vo(i){return i+.5|0}const Ci=(i,t,e)=>Math.max(Math.min(i,e),t);function kl(i){return Ci(vo(i*2.55),0,255)}function Di(i){return Ci(vo(i*255),0,255)}function qn(i){return Ci(vo(i/2.55)/100,0,1)}function lb(i){return Ci(vo(i*100),0,100)}const an={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Zf=[..."0123456789ABCDEF"],gw=i=>Zf[i&15],pw=i=>Zf[(i&240)>>4]+Zf[i&15],jr=i=>(i&240)>>4===(i&15),mw=i=>jr(i.r)&&jr(i.g)&&jr(i.b)&&jr(i.a);function _w(i){var t=i.length,e;return i[0]==="#"&&(t===4||t===5?e={r:255&an[i[1]]*17,g:255&an[i[2]]*17,b:255&an[i[3]]*17,a:t===5?an[i[4]]*17:255}:(t===7||t===9)&&(e={r:an[i[1]]<<4|an[i[2]],g:an[i[3]]<<4|an[i[4]],b:an[i[5]]<<4|an[i[6]],a:t===9?an[i[7]]<<4|an[i[8]]:255})),e}const yw=(i,t)=>i<255?t(i):"";function bw(i){var t=mw(i)?gw:pw;return i?"#"+t(i.r)+t(i.g)+t(i.b)+yw(i.a,t):void 0}const vw=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Kv(i,t,e){const s=t*Math.min(e,1-e),l=(r,u=(r+i/30)%12)=>e-s*Math.max(Math.min(u-3,9-u,1),-1);return[l(0),l(8),l(4)]}function Sw(i,t,e){const s=(l,r=(l+i/60)%6)=>e-e*t*Math.max(Math.min(r,4-r,1),0);return[s(5),s(3),s(1)]}function xw(i,t,e){const s=Kv(i,1,.5);let l;for(t+e>1&&(l=1/(t+e),t*=l,e*=l),l=0;l<3;l++)s[l]*=1-t-e,s[l]+=t;return s}function Ew(i,t,e,s,l){return i===l?(t-e)/s+(t<e?6:0):t===l?(e-i)/s+2:(i-t)/s+4}function Xd(i){const e=i.r/255,s=i.g/255,l=i.b/255,r=Math.max(e,s,l),u=Math.min(e,s,l),h=(r+u)/2;let d,g,m;return r!==u&&(m=r-u,g=h>.5?m/(2-r-u):m/(r+u),d=Ew(e,s,l,m,r),d=d*60+.5),[d|0,g||0,h]}function Wd(i,t,e,s){return(Array.isArray(t)?i(t[0],t[1],t[2]):i(t,e,s)).map(Di)}function Qd(i,t,e){return Wd(Kv,i,t,e)}function Tw(i,t,e){return Wd(xw,i,t,e)}function Cw(i,t,e){return Wd(Sw,i,t,e)}function Zv(i){return(i%360+360)%360}function Aw(i){const t=vw.exec(i);let e=255,s;if(!t)return;t[5]!==s&&(e=t[6]?kl(+t[5]):Di(+t[5]));const l=Zv(+t[2]),r=+t[3]/100,u=+t[4]/100;return t[1]==="hwb"?s=Tw(l,r,u):t[1]==="hsv"?s=Cw(l,r,u):s=Qd(l,r,u),{r:s[0],g:s[1],b:s[2],a:e}}function Mw(i,t){var e=Xd(i);e[0]=Zv(e[0]+t),e=Qd(e),i.r=e[0],i.g=e[1],i.b=e[2]}function ww(i){if(!i)return;const t=Xd(i),e=t[0],s=lb(t[1]),l=lb(t[2]);return i.a<255?`hsla(${e}, ${s}%, ${l}%, ${qn(i.a)})`:`hsl(${e}, ${s}%, ${l}%)`}const ob={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},rb={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function Dw(){const i={},t=Object.keys(rb),e=Object.keys(ob);let s,l,r,u,h;for(s=0;s<t.length;s++){for(u=h=t[s],l=0;l<e.length;l++)r=e[l],h=h.replace(r,ob[r]);r=parseInt(rb[u],16),i[h]=[r>>16&255,r>>8&255,r&255]}return i}let Pr;function Ow(i){Pr||(Pr=Dw(),Pr.transparent=[0,0,0,0]);const t=Pr[i.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const Rw=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Nw(i){const t=Rw.exec(i);let e=255,s,l,r;if(t){if(t[7]!==s){const u=+t[7];e=t[8]?kl(u):Ci(u*255,0,255)}return s=+t[1],l=+t[3],r=+t[5],s=255&(t[2]?kl(s):Ci(s,0,255)),l=255&(t[4]?kl(l):Ci(l,0,255)),r=255&(t[6]?kl(r):Ci(r,0,255)),{r:s,g:l,b:r,a:e}}}function kw(i){return i&&(i.a<255?`rgba(${i.r}, ${i.g}, ${i.b}, ${qn(i.a)})`:`rgb(${i.r}, ${i.g}, ${i.b})`)}const Tf=i=>i<=.0031308?i*12.92:Math.pow(i,1/2.4)*1.055-.055,na=i=>i<=.04045?i/12.92:Math.pow((i+.055)/1.055,2.4);function zw(i,t,e){const s=na(qn(i.r)),l=na(qn(i.g)),r=na(qn(i.b));return{r:Di(Tf(s+e*(na(qn(t.r))-s))),g:Di(Tf(l+e*(na(qn(t.g))-l))),b:Di(Tf(r+e*(na(qn(t.b))-r))),a:i.a+e*(t.a-i.a)}}function Vr(i,t,e){if(i){let s=Xd(i);s[t]=Math.max(0,Math.min(s[t]+s[t]*e,t===0?360:1)),s=Qd(s),i.r=s[0],i.g=s[1],i.b=s[2]}}function $v(i,t){return i&&Object.assign(t||{},i)}function cb(i){var t={r:0,g:0,b:0,a:255};return Array.isArray(i)?i.length>=3&&(t={r:i[0],g:i[1],b:i[2],a:255},i.length>3&&(t.a=Di(i[3]))):(t=$v(i,{r:0,g:0,b:0,a:1}),t.a=Di(t.a)),t}function Lw(i){return i.charAt(0)==="r"?Nw(i):Aw(i)}class ao{constructor(t){if(t instanceof ao)return t;const e=typeof t;let s;e==="object"?s=cb(t):e==="string"&&(s=_w(t)||Ow(t)||Lw(t)),this._rgb=s,this._valid=!!s}get valid(){return this._valid}get rgb(){var t=$v(this._rgb);return t&&(t.a=qn(t.a)),t}set rgb(t){this._rgb=cb(t)}rgbString(){return this._valid?kw(this._rgb):void 0}hexString(){return this._valid?bw(this._rgb):void 0}hslString(){return this._valid?ww(this._rgb):void 0}mix(t,e){if(t){const s=this.rgb,l=t.rgb;let r;const u=e===r?.5:e,h=2*u-1,d=s.a-l.a,g=((h*d===-1?h:(h+d)/(1+h*d))+1)/2;r=1-g,s.r=255&g*s.r+r*l.r+.5,s.g=255&g*s.g+r*l.g+.5,s.b=255&g*s.b+r*l.b+.5,s.a=u*s.a+(1-u)*l.a,this.rgb=s}return this}interpolate(t,e){return t&&(this._rgb=zw(this._rgb,t._rgb,e)),this}clone(){return new ao(this.rgb)}alpha(t){return this._rgb.a=Di(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=vo(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Vr(this._rgb,2,t),this}darken(t){return Vr(this._rgb,2,-t),this}saturate(t){return Vr(this._rgb,1,t),this}desaturate(t){return Vr(this._rgb,1,-t),this}rotate(t){return Mw(this._rgb,t),this}}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */function Pn(){}const Iw=(()=>{let i=0;return()=>i++})();function jt(i){return i==null}function pe(i){if(Array.isArray&&Array.isArray(i))return!0;const t=Object.prototype.toString.call(i);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function At(i){return i!==null&&Object.prototype.toString.call(i)==="[object Object]"}function on(i){return(typeof i=="number"||i instanceof Number)&&isFinite(+i)}function xn(i,t){return on(i)?i:t}function St(i,t){return typeof i>"u"?t:i}const Bw=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100:+i/t,Jv=(i,t)=>typeof i=="string"&&i.endsWith("%")?parseFloat(i)/100*t:+i;function Yt(i,t,e){if(i&&typeof i.call=="function")return i.apply(e,t)}function Rt(i,t,e,s){let l,r,u;if(pe(i))for(r=i.length,l=0;l<r;l++)t.call(e,i[l],l);else if(At(i))for(u=Object.keys(i),r=u.length,l=0;l<r;l++)t.call(e,i[u[l]],u[l])}function Ec(i,t){let e,s,l,r;if(!i||!t||i.length!==t.length)return!1;for(e=0,s=i.length;e<s;++e)if(l=i[e],r=t[e],l.datasetIndex!==r.datasetIndex||l.index!==r.index)return!1;return!0}function Tc(i){if(pe(i))return i.map(Tc);if(At(i)){const t=Object.create(null),e=Object.keys(i),s=e.length;let l=0;for(;l<s;++l)t[e[l]]=Tc(i[e[l]]);return t}return i}function tS(i){return["__proto__","prototype","constructor"].indexOf(i)===-1}function Hw(i,t,e,s){if(!tS(i))return;const l=t[i],r=e[i];At(l)&&At(r)?lo(l,r,s):t[i]=Tc(r)}function lo(i,t,e){const s=pe(t)?t:[t],l=s.length;if(!At(i))return i;e=e||{};const r=e.merger||Hw;let u;for(let h=0;h<l;++h){if(u=s[h],!At(u))continue;const d=Object.keys(u);for(let g=0,m=d.length;g<m;++g)r(d[g],i,u,e)}return i}function ql(i,t){return lo(i,t,{merger:Uw})}function Uw(i,t,e){if(!tS(i))return;const s=t[i],l=e[i];At(s)&&At(l)?ql(s,l):Object.prototype.hasOwnProperty.call(t,i)||(t[i]=Tc(l))}const ub={"":i=>i,x:i=>i.x,y:i=>i.y};function jw(i){const t=i.split("."),e=[];let s="";for(const l of t)s+=l,s.endsWith("\\")?s=s.slice(0,-1)+".":(e.push(s),s="");return e}function Pw(i){const t=jw(i);return e=>{for(const s of t){if(s==="")break;e=e&&e[s]}return e}}function oo(i,t){return(ub[t]||(ub[t]=Pw(t)))(i)}function Kd(i){return i.charAt(0).toUpperCase()+i.slice(1)}const Cc=i=>typeof i<"u",Ni=i=>typeof i=="function",hb=(i,t)=>{if(i.size!==t.size)return!1;for(const e of i)if(!t.has(e))return!1;return!0};function Vw(i){return i.type==="mouseup"||i.type==="click"||i.type==="contextmenu"}const $t=Math.PI,Zt=2*$t,Yw=Zt+$t,Ac=Number.POSITIVE_INFINITY,qw=$t/180,oe=$t/2,$i=$t/4,fb=$t*2/3,eS=Math.log10,ma=Math.sign;function Fl(i,t,e){return Math.abs(i-t)<e}function db(i){const t=Math.round(i);i=Fl(i,t,i/1e3)?t:i;const e=Math.pow(10,Math.floor(eS(i))),s=i/e;return(s<=1?1:s<=2?2:s<=5?5:10)*e}function Fw(i){const t=[],e=Math.sqrt(i);let s;for(s=1;s<e;s++)i%s===0&&(t.push(s),t.push(i/s));return e===(e|0)&&t.push(e),t.sort((l,r)=>l-r).pop(),t}function Gw(i){return typeof i=="symbol"||typeof i=="object"&&i!==null&&!(Symbol.toPrimitive in i||"toString"in i||"valueOf"in i)}function ro(i){return!Gw(i)&&!isNaN(parseFloat(i))&&isFinite(i)}function Xw(i,t){const e=Math.round(i);return e-t<=i&&e+t>=i}function Ww(i,t,e){let s,l,r;for(s=0,l=i.length;s<l;s++)r=i[s][e],isNaN(r)||(t.min=Math.min(t.min,r),t.max=Math.max(t.max,r))}function Gn(i){return i*($t/180)}function Qw(i){return i*(180/$t)}function gb(i){if(!on(i))return;let t=1,e=0;for(;Math.round(i*t)/t!==i;)t*=10,e++;return e}function nS(i,t){const e=t.x-i.x,s=t.y-i.y,l=Math.sqrt(e*e+s*s);let r=Math.atan2(s,e);return r<-.5*$t&&(r+=Zt),{angle:r,distance:l}}function $f(i,t){return Math.sqrt(Math.pow(t.x-i.x,2)+Math.pow(t.y-i.y,2))}function Kw(i,t){return(i-t+Yw)%Zt-$t}function Ti(i){return(i%Zt+Zt)%Zt}function co(i,t,e,s){const l=Ti(i),r=Ti(t),u=Ti(e),h=Ti(r-l),d=Ti(u-l),g=Ti(l-r),m=Ti(l-u);return l===r||l===u||s&&r===u||h>d&&g<m}function Me(i,t,e){return Math.max(t,Math.min(e,i))}function Zw(i){return Me(i,-32768,32767)}function aa(i,t,e,s=1e-6){return i>=Math.min(t,e)-s&&i<=Math.max(t,e)+s}function Zd(i,t,e){e=e||(u=>i[u]<t);let s=i.length-1,l=0,r;for(;s-l>1;)r=l+s>>1,e(r)?l=r:s=r;return{lo:l,hi:s}}const os=(i,t,e,s)=>Zd(i,e,s?l=>{const r=i[l][t];return r<e||r===e&&i[l+1][t]===e}:l=>i[l][t]<e),$w=(i,t,e)=>Zd(i,e,s=>i[s][t]>=e);function Jw(i,t,e){let s=0,l=i.length;for(;s<l&&i[s]<t;)s++;for(;l>s&&i[l-1]>e;)l--;return s>0||l<i.length?i.slice(s,l):i}const iS=["push","pop","shift","splice","unshift"];function tD(i,t){if(i._chartjs){i._chartjs.listeners.push(t);return}Object.defineProperty(i,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),iS.forEach(e=>{const s="_onData"+Kd(e),l=i[e];Object.defineProperty(i,e,{configurable:!0,enumerable:!1,value(...r){const u=l.apply(this,r);return i._chartjs.listeners.forEach(h=>{typeof h[s]=="function"&&h[s](...r)}),u}})})}function pb(i,t){const e=i._chartjs;if(!e)return;const s=e.listeners,l=s.indexOf(t);l!==-1&&s.splice(l,1),!(s.length>0)&&(iS.forEach(r=>{delete i[r]}),delete i._chartjs)}function eD(i){const t=new Set(i);return t.size===i.length?i:Array.from(t)}const sS=function(){return typeof window>"u"?function(i){return i()}:window.requestAnimationFrame}();function aS(i,t){let e=[],s=!1;return function(...l){e=l,s||(s=!0,sS.call(window,()=>{s=!1,i.apply(t,e)}))}}function nD(i,t){let e;return function(...s){return t?(clearTimeout(e),e=setTimeout(i,t,s)):i.apply(this,s),t}}const $d=i=>i==="start"?"left":i==="end"?"right":"center",Ee=(i,t,e)=>i==="start"?t:i==="end"?e:(t+e)/2,iD=(i,t,e,s)=>i===(s?"left":"right")?e:i==="center"?(t+e)/2:t;function sD(i,t,e){const s=t.length;let l=0,r=s;if(i._sorted){const{iScale:u,vScale:h,_parsed:d}=i,g=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null,m=u.axis,{min:_,max:b,minDefined:S,maxDefined:x}=u.getUserBounds();if(S){if(l=Math.min(os(d,m,_).lo,e?s:os(t,m,u.getPixelForValue(_)).lo),g){const C=d.slice(0,l+1).reverse().findIndex(A=>!jt(A[h.axis]));l-=Math.max(0,C)}l=Me(l,0,s-1)}if(x){let C=Math.max(os(d,u.axis,b,!0).hi+1,e?0:os(t,m,u.getPixelForValue(b),!0).hi+1);if(g){const A=d.slice(C-1).findIndex(z=>!jt(z[h.axis]));C+=Math.max(0,A)}r=Me(C,l,s)-l}else r=s-l}return{start:l,count:r}}function aD(i){const{xScale:t,yScale:e,_scaleRanges:s}=i,l={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!s)return i._scaleRanges=l,!0;const r=s.xmin!==t.min||s.xmax!==t.max||s.ymin!==e.min||s.ymax!==e.max;return Object.assign(s,l),r}const Yr=i=>i===0||i===1,mb=(i,t,e)=>-(Math.pow(2,10*(i-=1))*Math.sin((i-t)*Zt/e)),_b=(i,t,e)=>Math.pow(2,-10*i)*Math.sin((i-t)*Zt/e)+1,Gl={linear:i=>i,easeInQuad:i=>i*i,easeOutQuad:i=>-i*(i-2),easeInOutQuad:i=>(i/=.5)<1?.5*i*i:-.5*(--i*(i-2)-1),easeInCubic:i=>i*i*i,easeOutCubic:i=>(i-=1)*i*i+1,easeInOutCubic:i=>(i/=.5)<1?.5*i*i*i:.5*((i-=2)*i*i+2),easeInQuart:i=>i*i*i*i,easeOutQuart:i=>-((i-=1)*i*i*i-1),easeInOutQuart:i=>(i/=.5)<1?.5*i*i*i*i:-.5*((i-=2)*i*i*i-2),easeInQuint:i=>i*i*i*i*i,easeOutQuint:i=>(i-=1)*i*i*i*i+1,easeInOutQuint:i=>(i/=.5)<1?.5*i*i*i*i*i:.5*((i-=2)*i*i*i*i+2),easeInSine:i=>-Math.cos(i*oe)+1,easeOutSine:i=>Math.sin(i*oe),easeInOutSine:i=>-.5*(Math.cos($t*i)-1),easeInExpo:i=>i===0?0:Math.pow(2,10*(i-1)),easeOutExpo:i=>i===1?1:-Math.pow(2,-10*i)+1,easeInOutExpo:i=>Yr(i)?i:i<.5?.5*Math.pow(2,10*(i*2-1)):.5*(-Math.pow(2,-10*(i*2-1))+2),easeInCirc:i=>i>=1?i:-(Math.sqrt(1-i*i)-1),easeOutCirc:i=>Math.sqrt(1-(i-=1)*i),easeInOutCirc:i=>(i/=.5)<1?-.5*(Math.sqrt(1-i*i)-1):.5*(Math.sqrt(1-(i-=2)*i)+1),easeInElastic:i=>Yr(i)?i:mb(i,.075,.3),easeOutElastic:i=>Yr(i)?i:_b(i,.075,.3),easeInOutElastic(i){return Yr(i)?i:i<.5?.5*mb(i*2,.1125,.45):.5+.5*_b(i*2-1,.1125,.45)},easeInBack(i){return i*i*((1.70158+1)*i-1.70158)},easeOutBack(i){return(i-=1)*i*((1.70158+1)*i+1.70158)+1},easeInOutBack(i){let t=1.70158;return(i/=.5)<1?.5*(i*i*(((t*=1.525)+1)*i-t)):.5*((i-=2)*i*(((t*=1.525)+1)*i+t)+2)},easeInBounce:i=>1-Gl.easeOutBounce(1-i),easeOutBounce(i){return i<1/2.75?7.5625*i*i:i<2/2.75?7.5625*(i-=1.5/2.75)*i+.75:i<2.5/2.75?7.5625*(i-=2.25/2.75)*i+.9375:7.5625*(i-=2.625/2.75)*i+.984375},easeInOutBounce:i=>i<.5?Gl.easeInBounce(i*2)*.5:Gl.easeOutBounce(i*2-1)*.5+.5};function Jd(i){if(i&&typeof i=="object"){const t=i.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function yb(i){return Jd(i)?i:new ao(i)}function Cf(i){return Jd(i)?i:new ao(i).saturate(.5).darken(.1).hexString()}const lD=["x","y","borderWidth","radius","tension"],oD=["color","borderColor","backgroundColor"];function rD(i){i.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),i.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),i.set("animations",{colors:{type:"color",properties:oD},numbers:{type:"number",properties:lD}}),i.describe("animations",{_fallback:"animation"}),i.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function cD(i){i.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const bb=new Map;function uD(i,t){t=t||{};const e=i+JSON.stringify(t);let s=bb.get(e);return s||(s=new Intl.NumberFormat(i,t),bb.set(e,s)),s}function tg(i,t,e){return uD(t,e).format(i)}const hD={values(i){return pe(i)?i:""+i},numeric(i,t,e){if(i===0)return"0";const s=this.chart.options.locale;let l,r=i;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(l="scientific"),r=fD(i,e)}const u=eS(Math.abs(r)),h=isNaN(u)?1:Math.max(Math.min(-1*Math.floor(u),20),0),d={notation:l,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(d,this.options.ticks.format),tg(i,s,d)}};function fD(i,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&i!==Math.floor(i)&&(e=i-Math.floor(i)),e}var lS={formatters:hD};function dD(i){i.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:lS.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),i.route("scale.ticks","color","","color"),i.route("scale.grid","color","","borderColor"),i.route("scale.border","color","","borderColor"),i.route("scale.title","color","","color"),i.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),i.describe("scales",{_fallback:"scale"}),i.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const ds=Object.create(null),Jf=Object.create(null);function Xl(i,t){if(!t)return i;const e=t.split(".");for(let s=0,l=e.length;s<l;++s){const r=e[s];i=i[r]||(i[r]=Object.create(null))}return i}function Af(i,t,e){return typeof t=="string"?lo(Xl(i,t),e):lo(Xl(i,""),t)}class gD{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=s=>s.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(s,l)=>Cf(l.backgroundColor),this.hoverBorderColor=(s,l)=>Cf(l.borderColor),this.hoverColor=(s,l)=>Cf(l.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Af(this,t,e)}get(t){return Xl(this,t)}describe(t,e){return Af(Jf,t,e)}override(t,e){return Af(ds,t,e)}route(t,e,s,l){const r=Xl(this,t),u=Xl(this,s),h="_"+e;Object.defineProperties(r,{[h]:{value:r[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[h],g=u[l];return At(d)?Object.assign({},g,d):St(d,g)},set(d){this[h]=d}}})}apply(t){t.forEach(e=>e(this))}}var ee=new gD({_scriptable:i=>!i.startsWith("on"),_indexable:i=>i!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[rD,cD,dD]);function pD(i){return!i||jt(i.size)||jt(i.family)?null:(i.style?i.style+" ":"")+(i.weight?i.weight+" ":"")+i.size+"px "+i.family}function vb(i,t,e,s,l){let r=t[l];return r||(r=t[l]=i.measureText(l).width,e.push(l)),r>s&&(s=r),s}function Ji(i,t,e){const s=i.currentDevicePixelRatio,l=e!==0?Math.max(e/2,.5):0;return Math.round((t-l)*s)/s+l}function Sb(i,t){!t&&!i||(t=t||i.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,i.width,i.height),t.restore())}function td(i,t,e,s){oS(i,t,e,s,null)}function oS(i,t,e,s,l){let r,u,h,d,g,m,_,b;const S=t.pointStyle,x=t.rotation,C=t.radius;let A=(x||0)*qw;if(S&&typeof S=="object"&&(r=S.toString(),r==="[object HTMLImageElement]"||r==="[object HTMLCanvasElement]")){i.save(),i.translate(e,s),i.rotate(A),i.drawImage(S,-S.width/2,-S.height/2,S.width,S.height),i.restore();return}if(!(isNaN(C)||C<=0)){switch(i.beginPath(),S){default:l?i.ellipse(e,s,l/2,C,0,0,Zt):i.arc(e,s,C,0,Zt),i.closePath();break;case"triangle":m=l?l/2:C,i.moveTo(e+Math.sin(A)*m,s-Math.cos(A)*C),A+=fb,i.lineTo(e+Math.sin(A)*m,s-Math.cos(A)*C),A+=fb,i.lineTo(e+Math.sin(A)*m,s-Math.cos(A)*C),i.closePath();break;case"rectRounded":g=C*.516,d=C-g,u=Math.cos(A+$i)*d,_=Math.cos(A+$i)*(l?l/2-g:d),h=Math.sin(A+$i)*d,b=Math.sin(A+$i)*(l?l/2-g:d),i.arc(e-_,s-h,g,A-$t,A-oe),i.arc(e+b,s-u,g,A-oe,A),i.arc(e+_,s+h,g,A,A+oe),i.arc(e-b,s+u,g,A+oe,A+$t),i.closePath();break;case"rect":if(!x){d=Math.SQRT1_2*C,m=l?l/2:d,i.rect(e-m,s-d,2*m,2*d);break}A+=$i;case"rectRot":_=Math.cos(A)*(l?l/2:C),u=Math.cos(A)*C,h=Math.sin(A)*C,b=Math.sin(A)*(l?l/2:C),i.moveTo(e-_,s-h),i.lineTo(e+b,s-u),i.lineTo(e+_,s+h),i.lineTo(e-b,s+u),i.closePath();break;case"crossRot":A+=$i;case"cross":_=Math.cos(A)*(l?l/2:C),u=Math.cos(A)*C,h=Math.sin(A)*C,b=Math.sin(A)*(l?l/2:C),i.moveTo(e-_,s-h),i.lineTo(e+_,s+h),i.moveTo(e+b,s-u),i.lineTo(e-b,s+u);break;case"star":_=Math.cos(A)*(l?l/2:C),u=Math.cos(A)*C,h=Math.sin(A)*C,b=Math.sin(A)*(l?l/2:C),i.moveTo(e-_,s-h),i.lineTo(e+_,s+h),i.moveTo(e+b,s-u),i.lineTo(e-b,s+u),A+=$i,_=Math.cos(A)*(l?l/2:C),u=Math.cos(A)*C,h=Math.sin(A)*C,b=Math.sin(A)*(l?l/2:C),i.moveTo(e-_,s-h),i.lineTo(e+_,s+h),i.moveTo(e+b,s-u),i.lineTo(e-b,s+u);break;case"line":u=l?l/2:Math.cos(A)*C,h=Math.sin(A)*C,i.moveTo(e-u,s-h),i.lineTo(e+u,s+h);break;case"dash":i.moveTo(e,s),i.lineTo(e+Math.cos(A)*(l?l/2:C),s+Math.sin(A)*C);break;case!1:i.closePath();break}i.fill(),t.borderWidth>0&&i.stroke()}}function uo(i,t,e){return e=e||.5,!t||i&&i.x>t.left-e&&i.x<t.right+e&&i.y>t.top-e&&i.y<t.bottom+e}function eg(i,t){i.save(),i.beginPath(),i.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),i.clip()}function ng(i){i.restore()}function mD(i,t,e,s,l){if(!t)return i.lineTo(e.x,e.y);if(l==="middle"){const r=(t.x+e.x)/2;i.lineTo(r,t.y),i.lineTo(r,e.y)}else l==="after"!=!!s?i.lineTo(t.x,e.y):i.lineTo(e.x,t.y);i.lineTo(e.x,e.y)}function _D(i,t,e,s){if(!t)return i.lineTo(e.x,e.y);i.bezierCurveTo(s?t.cp1x:t.cp2x,s?t.cp1y:t.cp2y,s?e.cp2x:e.cp1x,s?e.cp2y:e.cp1y,e.x,e.y)}function yD(i,t){t.translation&&i.translate(t.translation[0],t.translation[1]),jt(t.rotation)||i.rotate(t.rotation),t.color&&(i.fillStyle=t.color),t.textAlign&&(i.textAlign=t.textAlign),t.textBaseline&&(i.textBaseline=t.textBaseline)}function bD(i,t,e,s,l){if(l.strikethrough||l.underline){const r=i.measureText(s),u=t-r.actualBoundingBoxLeft,h=t+r.actualBoundingBoxRight,d=e-r.actualBoundingBoxAscent,g=e+r.actualBoundingBoxDescent,m=l.strikethrough?(d+g)/2:g;i.strokeStyle=i.fillStyle,i.beginPath(),i.lineWidth=l.decorationWidth||2,i.moveTo(u,m),i.lineTo(h,m),i.stroke()}}function vD(i,t){const e=i.fillStyle;i.fillStyle=t.color,i.fillRect(t.left,t.top,t.width,t.height),i.fillStyle=e}function ho(i,t,e,s,l,r={}){const u=pe(t)?t:[t],h=r.strokeWidth>0&&r.strokeColor!=="";let d,g;for(i.save(),i.font=l.string,yD(i,r),d=0;d<u.length;++d)g=u[d],r.backdrop&&vD(i,r.backdrop),h&&(r.strokeColor&&(i.strokeStyle=r.strokeColor),jt(r.strokeWidth)||(i.lineWidth=r.strokeWidth),i.strokeText(g,e,s,r.maxWidth)),i.fillText(g,e,s,r.maxWidth),bD(i,e,s,g,r),s+=Number(l.lineHeight);i.restore()}function ed(i,t){const{x:e,y:s,w:l,h:r,radius:u}=t;i.arc(e+u.topLeft,s+u.topLeft,u.topLeft,1.5*$t,$t,!0),i.lineTo(e,s+r-u.bottomLeft),i.arc(e+u.bottomLeft,s+r-u.bottomLeft,u.bottomLeft,$t,oe,!0),i.lineTo(e+l-u.bottomRight,s+r),i.arc(e+l-u.bottomRight,s+r-u.bottomRight,u.bottomRight,oe,0,!0),i.lineTo(e+l,s+u.topRight),i.arc(e+l-u.topRight,s+u.topRight,u.topRight,0,-oe,!0),i.lineTo(e+u.topLeft,s)}const SD=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,xD=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ED(i,t){const e=(""+i).match(SD);if(!e||e[1]==="normal")return t*1.2;switch(i=+e[2],e[3]){case"px":return i;case"%":i/=100;break}return t*i}const TD=i=>+i||0;function ig(i,t){const e={},s=At(t),l=s?Object.keys(t):t,r=At(i)?s?u=>St(i[u],i[t[u]]):u=>i[u]:()=>i;for(const u of l)e[u]=TD(r(u));return e}function CD(i){return ig(i,{top:"y",right:"x",bottom:"y",left:"x"})}function Wl(i){return ig(i,["topLeft","topRight","bottomLeft","bottomRight"])}function rn(i){const t=CD(i);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Ce(i,t){i=i||{},t=t||ee.font;let e=St(i.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let s=St(i.style,t.style);s&&!(""+s).match(xD)&&(console.warn('Invalid font style specified: "'+s+'"'),s=void 0);const l={family:St(i.family,t.family),lineHeight:ED(St(i.lineHeight,t.lineHeight),e),size:e,style:s,weight:St(i.weight,t.weight),string:""};return l.string=pD(l),l}function qr(i,t,e,s){let l,r,u;for(l=0,r=i.length;l<r;++l)if(u=i[l],u!==void 0&&u!==void 0)return u}function AD(i,t,e){const{min:s,max:l}=i,r=Jv(t,(l-s)/2),u=(h,d)=>e&&h===0?0:h+d;return{min:u(s,-Math.abs(r)),max:u(l,r)}}function ps(i,t){return Object.assign(Object.create(i),t)}function sg(i,t=[""],e,s,l=()=>i[0]){const r=e||i;typeof s>"u"&&(s=hS("_fallback",i));const u={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:i,_rootScopes:r,_fallback:s,_getTarget:l,override:h=>sg([h,...i],t,r,s)};return new Proxy(u,{deleteProperty(h,d){return delete h[d],delete h._keys,delete i[0][d],!0},get(h,d){return cS(h,d,()=>zD(d,t,i,h))},getOwnPropertyDescriptor(h,d){return Reflect.getOwnPropertyDescriptor(h._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(i[0])},has(h,d){return Eb(h).includes(d)},ownKeys(h){return Eb(h)},set(h,d,g){const m=h._storage||(h._storage=l());return h[d]=m[d]=g,delete h._keys,!0}})}function _a(i,t,e,s){const l={_cacheable:!1,_proxy:i,_context:t,_subProxy:e,_stack:new Set,_descriptors:rS(i,s),setContext:r=>_a(i,r,e,s),override:r=>_a(i.override(r),t,e,s)};return new Proxy(l,{deleteProperty(r,u){return delete r[u],delete i[u],!0},get(r,u,h){return cS(r,u,()=>wD(r,u,h))},getOwnPropertyDescriptor(r,u){return r._descriptors.allKeys?Reflect.has(i,u)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(i,u)},getPrototypeOf(){return Reflect.getPrototypeOf(i)},has(r,u){return Reflect.has(i,u)},ownKeys(){return Reflect.ownKeys(i)},set(r,u,h){return i[u]=h,delete r[u],!0}})}function rS(i,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:s=t.indexable,_allKeys:l=t.allKeys}=i;return{allKeys:l,scriptable:e,indexable:s,isScriptable:Ni(e)?e:()=>e,isIndexable:Ni(s)?s:()=>s}}const MD=(i,t)=>i?i+Kd(t):t,ag=(i,t)=>At(t)&&i!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function cS(i,t,e){if(Object.prototype.hasOwnProperty.call(i,t)||t==="constructor")return i[t];const s=e();return i[t]=s,s}function wD(i,t,e){const{_proxy:s,_context:l,_subProxy:r,_descriptors:u}=i;let h=s[t];return Ni(h)&&u.isScriptable(t)&&(h=DD(t,h,i,e)),pe(h)&&h.length&&(h=OD(t,h,i,u.isIndexable)),ag(t,h)&&(h=_a(h,l,r&&r[t],u)),h}function DD(i,t,e,s){const{_proxy:l,_context:r,_subProxy:u,_stack:h}=e;if(h.has(i))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+i);h.add(i);let d=t(r,u||s);return h.delete(i),ag(i,d)&&(d=lg(l._scopes,l,i,d)),d}function OD(i,t,e,s){const{_proxy:l,_context:r,_subProxy:u,_descriptors:h}=e;if(typeof r.index<"u"&&s(i))return t[r.index%t.length];if(At(t[0])){const d=t,g=l._scopes.filter(m=>m!==d);t=[];for(const m of d){const _=lg(g,l,i,m);t.push(_a(_,r,u&&u[i],h))}}return t}function uS(i,t,e){return Ni(i)?i(t,e):i}const RD=(i,t)=>i===!0?t:typeof i=="string"?oo(t,i):void 0;function ND(i,t,e,s,l){for(const r of t){const u=RD(e,r);if(u){i.add(u);const h=uS(u._fallback,e,l);if(typeof h<"u"&&h!==e&&h!==s)return h}else if(u===!1&&typeof s<"u"&&e!==s)return null}return!1}function lg(i,t,e,s){const l=t._rootScopes,r=uS(t._fallback,e,s),u=[...i,...l],h=new Set;h.add(s);let d=xb(h,u,e,r||e,s);return d===null||typeof r<"u"&&r!==e&&(d=xb(h,u,r,d,s),d===null)?!1:sg(Array.from(h),[""],l,r,()=>kD(t,e,s))}function xb(i,t,e,s,l){for(;e;)e=ND(i,t,e,s,l);return e}function kD(i,t,e){const s=i._getTarget();t in s||(s[t]={});const l=s[t];return pe(l)&&At(e)?e:l||{}}function zD(i,t,e,s){let l;for(const r of t)if(l=hS(MD(r,i),e),typeof l<"u")return ag(i,l)?lg(e,s,i,l):l}function hS(i,t){for(const e of t){if(!e)continue;const s=e[i];if(typeof s<"u")return s}}function Eb(i){let t=i._keys;return t||(t=i._keys=LD(i._scopes)),t}function LD(i){const t=new Set;for(const e of i)for(const s of Object.keys(e).filter(l=>!l.startsWith("_")))t.add(s);return Array.from(t)}const ID=Number.EPSILON||1e-14,ya=(i,t)=>t<i.length&&!i[t].skip&&i[t],fS=i=>i==="x"?"y":"x";function BD(i,t,e,s){const l=i.skip?t:i,r=t,u=e.skip?t:e,h=$f(r,l),d=$f(u,r);let g=h/(h+d),m=d/(h+d);g=isNaN(g)?0:g,m=isNaN(m)?0:m;const _=s*g,b=s*m;return{previous:{x:r.x-_*(u.x-l.x),y:r.y-_*(u.y-l.y)},next:{x:r.x+b*(u.x-l.x),y:r.y+b*(u.y-l.y)}}}function HD(i,t,e){const s=i.length;let l,r,u,h,d,g=ya(i,0);for(let m=0;m<s-1;++m)if(d=g,g=ya(i,m+1),!(!d||!g)){if(Fl(t[m],0,ID)){e[m]=e[m+1]=0;continue}l=e[m]/t[m],r=e[m+1]/t[m],h=Math.pow(l,2)+Math.pow(r,2),!(h<=9)&&(u=3/Math.sqrt(h),e[m]=l*u*t[m],e[m+1]=r*u*t[m])}}function UD(i,t,e="x"){const s=fS(e),l=i.length;let r,u,h,d=ya(i,0);for(let g=0;g<l;++g){if(u=h,h=d,d=ya(i,g+1),!h)continue;const m=h[e],_=h[s];u&&(r=(m-u[e])/3,h[`cp1${e}`]=m-r,h[`cp1${s}`]=_-r*t[g]),d&&(r=(d[e]-m)/3,h[`cp2${e}`]=m+r,h[`cp2${s}`]=_+r*t[g])}}function jD(i,t="x"){const e=fS(t),s=i.length,l=Array(s).fill(0),r=Array(s);let u,h,d,g=ya(i,0);for(u=0;u<s;++u)if(h=d,d=g,g=ya(i,u+1),!!d){if(g){const m=g[t]-d[t];l[u]=m!==0?(g[e]-d[e])/m:0}r[u]=h?g?ma(l[u-1])!==ma(l[u])?0:(l[u-1]+l[u])/2:l[u-1]:l[u]}HD(i,l,r),UD(i,r,t)}function Fr(i,t,e){return Math.max(Math.min(i,e),t)}function PD(i,t){let e,s,l,r,u,h=uo(i[0],t);for(e=0,s=i.length;e<s;++e)u=r,r=h,h=e<s-1&&uo(i[e+1],t),r&&(l=i[e],u&&(l.cp1x=Fr(l.cp1x,t.left,t.right),l.cp1y=Fr(l.cp1y,t.top,t.bottom)),h&&(l.cp2x=Fr(l.cp2x,t.left,t.right),l.cp2y=Fr(l.cp2y,t.top,t.bottom)))}function VD(i,t,e,s,l){let r,u,h,d;if(t.spanGaps&&(i=i.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")jD(i,l);else{let g=s?i[i.length-1]:i[0];for(r=0,u=i.length;r<u;++r)h=i[r],d=BD(g,h,i[Math.min(r+1,u-(s?0:1))%u],t.tension),h.cp1x=d.previous.x,h.cp1y=d.previous.y,h.cp2x=d.next.x,h.cp2y=d.next.y,g=h}t.capBezierPoints&&PD(i,e)}function og(){return typeof window<"u"&&typeof document<"u"}function rg(i){let t=i.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Mc(i,t,e){let s;return typeof i=="string"?(s=parseInt(i,10),i.indexOf("%")!==-1&&(s=s/100*t.parentNode[e])):s=i,s}const Pc=i=>i.ownerDocument.defaultView.getComputedStyle(i,null);function YD(i,t){return Pc(i).getPropertyValue(t)}const qD=["top","right","bottom","left"];function rs(i,t,e){const s={};e=e?"-"+e:"";for(let l=0;l<4;l++){const r=qD[l];s[r]=parseFloat(i[t+"-"+r+e])||0}return s.width=s.left+s.right,s.height=s.top+s.bottom,s}const FD=(i,t,e)=>(i>0||t>0)&&(!e||!e.shadowRoot);function GD(i,t){const e=i.touches,s=e&&e.length?e[0]:i,{offsetX:l,offsetY:r}=s;let u=!1,h,d;if(FD(l,r,i.target))h=l,d=r;else{const g=t.getBoundingClientRect();h=s.clientX-g.left,d=s.clientY-g.top,u=!0}return{x:h,y:d,box:u}}function is(i,t){if("native"in i)return i;const{canvas:e,currentDevicePixelRatio:s}=t,l=Pc(e),r=l.boxSizing==="border-box",u=rs(l,"padding"),h=rs(l,"border","width"),{x:d,y:g,box:m}=GD(i,e),_=u.left+(m&&h.left),b=u.top+(m&&h.top);let{width:S,height:x}=t;return r&&(S-=u.width+h.width,x-=u.height+h.height),{x:Math.round((d-_)/S*e.width/s),y:Math.round((g-b)/x*e.height/s)}}function XD(i,t,e){let s,l;if(t===void 0||e===void 0){const r=i&&rg(i);if(!r)t=i.clientWidth,e=i.clientHeight;else{const u=r.getBoundingClientRect(),h=Pc(r),d=rs(h,"border","width"),g=rs(h,"padding");t=u.width-g.width-d.width,e=u.height-g.height-d.height,s=Mc(h.maxWidth,r,"clientWidth"),l=Mc(h.maxHeight,r,"clientHeight")}}return{width:t,height:e,maxWidth:s||Ac,maxHeight:l||Ac}}const Gr=i=>Math.round(i*10)/10;function WD(i,t,e,s){const l=Pc(i),r=rs(l,"margin"),u=Mc(l.maxWidth,i,"clientWidth")||Ac,h=Mc(l.maxHeight,i,"clientHeight")||Ac,d=XD(i,t,e);let{width:g,height:m}=d;if(l.boxSizing==="content-box"){const b=rs(l,"border","width"),S=rs(l,"padding");g-=S.width+b.width,m-=S.height+b.height}return g=Math.max(0,g-r.width),m=Math.max(0,s?g/s:m-r.height),g=Gr(Math.min(g,u,d.maxWidth)),m=Gr(Math.min(m,h,d.maxHeight)),g&&!m&&(m=Gr(g/2)),(t!==void 0||e!==void 0)&&s&&d.height&&m>d.height&&(m=d.height,g=Gr(Math.floor(m*s))),{width:g,height:m}}function Tb(i,t,e){const s=t||1,l=Math.floor(i.height*s),r=Math.floor(i.width*s);i.height=Math.floor(i.height),i.width=Math.floor(i.width);const u=i.canvas;return u.style&&(e||!u.style.height&&!u.style.width)&&(u.style.height=`${i.height}px`,u.style.width=`${i.width}px`),i.currentDevicePixelRatio!==s||u.height!==l||u.width!==r?(i.currentDevicePixelRatio=s,u.height=l,u.width=r,i.ctx.setTransform(s,0,0,s,0,0),!0):!1}const QD=function(){let i=!1;try{const t={get passive(){return i=!0,!1}};og()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return i}();function Cb(i,t){const e=YD(i,t),s=e&&e.match(/^(\d+)(\.\d+)?px$/);return s?+s[1]:void 0}function ss(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:i.y+e*(t.y-i.y)}}function KD(i,t,e,s){return{x:i.x+e*(t.x-i.x),y:s==="middle"?e<.5?i.y:t.y:s==="after"?e<1?i.y:t.y:e>0?t.y:i.y}}function ZD(i,t,e,s){const l={x:i.cp2x,y:i.cp2y},r={x:t.cp1x,y:t.cp1y},u=ss(i,l,e),h=ss(l,r,e),d=ss(r,t,e),g=ss(u,h,e),m=ss(h,d,e);return ss(g,m,e)}const $D=function(i,t){return{x(e){return i+i+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,s){return e-s},leftForLtr(e,s){return e-s}}},JD=function(){return{x(i){return i},setWidth(i){},textAlign(i){return i},xPlus(i,t){return i+t},leftForLtr(i,t){return i}}};function ua(i,t,e){return i?$D(t,e):JD()}function dS(i,t){let e,s;(t==="ltr"||t==="rtl")&&(e=i.canvas.style,s=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),i.prevTextDirection=s)}function gS(i,t){t!==void 0&&(delete i.prevTextDirection,i.canvas.style.setProperty("direction",t[0],t[1]))}function pS(i){return i==="angle"?{between:co,compare:Kw,normalize:Ti}:{between:aa,compare:(t,e)=>t-e,normalize:t=>t}}function Ab({start:i,end:t,count:e,loop:s,style:l}){return{start:i%e,end:t%e,loop:s&&(t-i+1)%e===0,style:l}}function tO(i,t,e){const{property:s,start:l,end:r}=e,{between:u,normalize:h}=pS(s),d=t.length;let{start:g,end:m,loop:_}=i,b,S;if(_){for(g+=d,m+=d,b=0,S=d;b<S&&u(h(t[g%d][s]),l,r);++b)g--,m--;g%=d,m%=d}return m<g&&(m+=d),{start:g,end:m,loop:_,style:i.style}}function eO(i,t,e){if(!e)return[i];const{property:s,start:l,end:r}=e,u=t.length,{compare:h,between:d,normalize:g}=pS(s),{start:m,end:_,loop:b,style:S}=tO(i,t,e),x=[];let C=!1,A=null,z,U,V;const Y=()=>d(l,V,z)&&h(l,V)!==0,L=()=>h(r,z)===0||d(r,V,z),W=()=>C||Y(),X=()=>!C||L();for(let G=m,J=m;G<=_;++G)U=t[G%u],!U.skip&&(z=g(U[s]),z!==V&&(C=d(z,l,r),A===null&&W()&&(A=h(z,l)===0?G:J),A!==null&&X()&&(x.push(Ab({start:A,end:G,loop:b,count:u,style:S})),A=null),J=G,V=z));return A!==null&&x.push(Ab({start:A,end:_,loop:b,count:u,style:S})),x}function nO(i,t){const e=[],s=i.segments;for(let l=0;l<s.length;l++){const r=eO(s[l],i.points,t);r.length&&e.push(...r)}return e}function iO(i,t,e,s){let l=0,r=t-1;if(e&&!s)for(;l<t&&!i[l].skip;)l++;for(;l<t&&i[l].skip;)l++;for(l%=t,e&&(r+=l);r>l&&i[r%t].skip;)r--;return r%=t,{start:l,end:r}}function sO(i,t,e,s){const l=i.length,r=[];let u=t,h=i[t],d;for(d=t+1;d<=e;++d){const g=i[d%l];g.skip||g.stop?h.skip||(s=!1,r.push({start:t%l,end:(d-1)%l,loop:s}),t=u=g.stop?d:null):(u=d,h.skip&&(t=d)),h=g}return u!==null&&r.push({start:t%l,end:u%l,loop:s}),r}function aO(i,t){const e=i.points,s=i.options.spanGaps,l=e.length;if(!l)return[];const r=!!i._loop,{start:u,end:h}=iO(e,l,r,s);if(s===!0)return Mb(i,[{start:u,end:h,loop:r}],e,t);const d=h<u?h+l:h,g=!!i._fullLoop&&u===0&&h===l-1;return Mb(i,sO(e,u,d,g),e,t)}function Mb(i,t,e,s){return!s||!s.setContext||!e?t:lO(i,t,e,s)}function lO(i,t,e,s){const l=i._chart.getContext(),r=wb(i.options),{_datasetIndex:u,options:{spanGaps:h}}=i,d=e.length,g=[];let m=r,_=t[0].start,b=_;function S(x,C,A,z){const U=h?-1:1;if(x!==C){for(x+=d;e[x%d].skip;)x-=U;for(;e[C%d].skip;)C+=U;x%d!==C%d&&(g.push({start:x%d,end:C%d,loop:A,style:z}),m=z,_=C%d)}}for(const x of t){_=h?_:x.start;let C=e[_%d],A;for(b=_+1;b<=x.end;b++){const z=e[b%d];A=wb(s.setContext(ps(l,{type:"segment",p0:C,p1:z,p0DataIndex:(b-1)%d,p1DataIndex:b%d,datasetIndex:u}))),oO(A,m)&&S(_,b-1,x.loop,m),C=z,m=A}_<b-1&&S(_,b-1,x.loop,m)}return g}function wb(i){return{backgroundColor:i.backgroundColor,borderCapStyle:i.borderCapStyle,borderDash:i.borderDash,borderDashOffset:i.borderDashOffset,borderJoinStyle:i.borderJoinStyle,borderWidth:i.borderWidth,borderColor:i.borderColor}}function oO(i,t){if(!t)return!1;const e=[],s=function(l,r){return Jd(r)?(e.includes(r)||e.push(r),e.indexOf(r)):r};return JSON.stringify(i,s)!==JSON.stringify(t,s)}/*!
 * Chart.js v4.4.8
 * https://www.chartjs.org
 * (c) 2025 Chart.js Contributors
 * Released under the MIT License
 */class rO{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,s,l){const r=e.listeners[l],u=e.duration;r.forEach(h=>h({chart:t,initial:e.initial,numSteps:u,currentStep:Math.min(s-e.start,u)}))}_refresh(){this._request||(this._running=!0,this._request=sS.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((s,l)=>{if(!s.running||!s.items.length)return;const r=s.items;let u=r.length-1,h=!1,d;for(;u>=0;--u)d=r[u],d._active?(d._total>s.duration&&(s.duration=d._total),d.tick(t),h=!0):(r[u]=r[r.length-1],r.pop());h&&(l.draw(),this._notify(l,s,t,"progress")),r.length||(s.running=!1,this._notify(l,s,t,"complete"),s.initial=!1),e+=r.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let s=e.get(t);return s||(s={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,s)),s}listen(t,e,s){this._getAnims(t).listeners[e].push(s)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((s,l)=>Math.max(s,l._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const s=e.items;let l=s.length-1;for(;l>=0;--l)s[l].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Vn=new rO;const Db="transparent",cO={boolean(i,t,e){return e>.5?t:i},color(i,t,e){const s=yb(i||Db),l=s.valid&&yb(t||Db);return l&&l.valid?l.mix(s,e).hexString():t},number(i,t,e){return i+(t-i)*e}};class uO{constructor(t,e,s,l){const r=e[s];l=qr([t.to,l,r,t.from]);const u=qr([t.from,r,l]);this._active=!0,this._fn=t.fn||cO[t.type||typeof u],this._easing=Gl[t.easing]||Gl.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=s,this._from=u,this._to=l,this._promises=void 0}active(){return this._active}update(t,e,s){if(this._active){this._notify(!1);const l=this._target[this._prop],r=s-this._start,u=this._duration-r;this._start=s,this._duration=Math.floor(Math.max(u,t.duration)),this._total+=r,this._loop=!!t.loop,this._to=qr([t.to,e,l,t.from]),this._from=qr([t.from,l,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,s=this._duration,l=this._prop,r=this._from,u=this._loop,h=this._to;let d;if(this._active=r!==h&&(u||e<s),!this._active){this._target[l]=h,this._notify(!0);return}if(e<0){this._target[l]=r;return}d=e/s%2,d=u&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[l]=this._fn(r,h,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,s)=>{t.push({res:e,rej:s})})}_notify(t){const e=t?"res":"rej",s=this._promises||[];for(let l=0;l<s.length;l++)s[l][e]()}}class mS{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!At(t))return;const e=Object.keys(ee.animation),s=this._properties;Object.getOwnPropertyNames(t).forEach(l=>{const r=t[l];if(!At(r))return;const u={};for(const h of e)u[h]=r[h];(pe(r.properties)&&r.properties||[l]).forEach(h=>{(h===l||!s.has(h))&&s.set(h,u)})})}_animateOptions(t,e){const s=e.options,l=fO(t,s);if(!l)return[];const r=this._createAnimations(l,s);return s.$shared&&hO(t.options.$animations,s).then(()=>{t.options=s},()=>{}),r}_createAnimations(t,e){const s=this._properties,l=[],r=t.$animations||(t.$animations={}),u=Object.keys(e),h=Date.now();let d;for(d=u.length-1;d>=0;--d){const g=u[d];if(g.charAt(0)==="$")continue;if(g==="options"){l.push(...this._animateOptions(t,e));continue}const m=e[g];let _=r[g];const b=s.get(g);if(_)if(b&&_.active()){_.update(b,m,h);continue}else _.cancel();if(!b||!b.duration){t[g]=m;continue}r[g]=_=new uO(b,t,g,m),l.push(_)}return l}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const s=this._createAnimations(t,e);if(s.length)return Vn.add(this._chart,s),!0}}function hO(i,t){const e=[],s=Object.keys(t);for(let l=0;l<s.length;l++){const r=i[s[l]];r&&r.active()&&e.push(r.wait())}return Promise.all(e)}function fO(i,t){if(!t)return;let e=i.options;if(!e){i.options=t;return}return e.$shared&&(i.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Ob(i,t){const e=i&&i.options||{},s=e.reverse,l=e.min===void 0?t:0,r=e.max===void 0?t:0;return{start:s?r:l,end:s?l:r}}function dO(i,t,e){if(e===!1)return!1;const s=Ob(i,e),l=Ob(t,e);return{top:l.end,right:s.end,bottom:l.start,left:s.start}}function gO(i){let t,e,s,l;return At(i)?(t=i.top,e=i.right,s=i.bottom,l=i.left):t=e=s=l=i,{top:t,right:e,bottom:s,left:l,disabled:i===!1}}function _S(i,t){const e=[],s=i._getSortedDatasetMetas(t);let l,r;for(l=0,r=s.length;l<r;++l)e.push(s[l].index);return e}function Rb(i,t,e,s={}){const l=i.keys,r=s.mode==="single";let u,h,d,g;if(t===null)return;let m=!1;for(u=0,h=l.length;u<h;++u){if(d=+l[u],d===e){if(m=!0,s.all)continue;break}g=i.values[d],on(g)&&(r||t===0||ma(t)===ma(g))&&(t+=g)}return!m&&!s.all?0:t}function pO(i,t){const{iScale:e,vScale:s}=t,l=e.axis==="x"?"x":"y",r=s.axis==="x"?"x":"y",u=Object.keys(i),h=new Array(u.length);let d,g,m;for(d=0,g=u.length;d<g;++d)m=u[d],h[d]={[l]:m,[r]:i[m]};return h}function Mf(i,t){const e=i&&i.options.stacked;return e||e===void 0&&t.stack!==void 0}function mO(i,t,e){return`${i.id}.${t.id}.${e.stack||e.type}`}function _O(i){const{min:t,max:e,minDefined:s,maxDefined:l}=i.getUserBounds();return{min:s?t:Number.NEGATIVE_INFINITY,max:l?e:Number.POSITIVE_INFINITY}}function yO(i,t,e){const s=i[t]||(i[t]={});return s[e]||(s[e]={})}function Nb(i,t,e,s){for(const l of t.getMatchingVisibleMetas(s).reverse()){const r=i[l.index];if(e&&r>0||!e&&r<0)return l.index}return null}function kb(i,t){const{chart:e,_cachedMeta:s}=i,l=e._stacks||(e._stacks={}),{iScale:r,vScale:u,index:h}=s,d=r.axis,g=u.axis,m=mO(r,u,s),_=t.length;let b;for(let S=0;S<_;++S){const x=t[S],{[d]:C,[g]:A}=x,z=x._stacks||(x._stacks={});b=z[g]=yO(l,m,C),b[h]=A,b._top=Nb(b,u,!0,s.type),b._bottom=Nb(b,u,!1,s.type);const U=b._visualValues||(b._visualValues={});U[h]=A}}function wf(i,t){const e=i.scales;return Object.keys(e).filter(s=>e[s].axis===t).shift()}function bO(i,t){return ps(i,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function vO(i,t,e){return ps(i,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function wl(i,t){const e=i.controller.index,s=i.vScale&&i.vScale.axis;if(s){t=t||i._parsed;for(const l of t){const r=l._stacks;if(!r||r[s]===void 0||r[s][e]===void 0)return;delete r[s][e],r[s]._visualValues!==void 0&&r[s]._visualValues[e]!==void 0&&delete r[s]._visualValues[e]}}}const Df=i=>i==="reset"||i==="none",zb=(i,t)=>t?i:Object.assign({},i),SO=(i,t,e)=>i&&!t.hidden&&t._stacked&&{keys:_S(e,!0),values:null};class ha{constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Mf(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&wl(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,s=this.getDataset(),l=(_,b,S,x)=>_==="x"?b:_==="r"?x:S,r=e.xAxisID=St(s.xAxisID,wf(t,"x")),u=e.yAxisID=St(s.yAxisID,wf(t,"y")),h=e.rAxisID=St(s.rAxisID,wf(t,"r")),d=e.indexAxis,g=e.iAxisID=l(d,r,u,h),m=e.vAxisID=l(d,u,r,h);e.xScale=this.getScaleForId(r),e.yScale=this.getScaleForId(u),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&pb(this._data,this),t._stacked&&wl(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),s=this._data;if(At(e)){const l=this._cachedMeta;this._data=pO(e,l)}else if(s!==e){if(s){pb(s,this);const l=this._cachedMeta;wl(l),l._parsed=[]}e&&Object.isExtensible(e)&&tD(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,s=this.getDataset();let l=!1;this._dataCheck();const r=e._stacked;e._stacked=Mf(e.vScale,e),e.stack!==s.stack&&(l=!0,wl(e),e.stack=s.stack),this._resyncElements(t),(l||r!==e._stacked)&&(kb(this,e._parsed),e._stacked=Mf(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),s=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(s,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:s,_data:l}=this,{iScale:r,_stacked:u}=s,h=r.axis;let d=t===0&&e===l.length?!0:s._sorted,g=t>0&&s._parsed[t-1],m,_,b;if(this._parsing===!1)s._parsed=l,s._sorted=!0,b=l;else{pe(l[t])?b=this.parseArrayData(s,l,t,e):At(l[t])?b=this.parseObjectData(s,l,t,e):b=this.parsePrimitiveData(s,l,t,e);const S=()=>_[h]===null||g&&_[h]<g[h];for(m=0;m<e;++m)s._parsed[m+t]=_=b[m],d&&(S()&&(d=!1),g=_);s._sorted=d}u&&kb(this,b)}parsePrimitiveData(t,e,s,l){const{iScale:r,vScale:u}=t,h=r.axis,d=u.axis,g=r.getLabels(),m=r===u,_=new Array(l);let b,S,x;for(b=0,S=l;b<S;++b)x=b+s,_[b]={[h]:m||r.parse(g[x],x),[d]:u.parse(e[x],x)};return _}parseArrayData(t,e,s,l){const{xScale:r,yScale:u}=t,h=new Array(l);let d,g,m,_;for(d=0,g=l;d<g;++d)m=d+s,_=e[m],h[d]={x:r.parse(_[0],m),y:u.parse(_[1],m)};return h}parseObjectData(t,e,s,l){const{xScale:r,yScale:u}=t,{xAxisKey:h="x",yAxisKey:d="y"}=this._parsing,g=new Array(l);let m,_,b,S;for(m=0,_=l;m<_;++m)b=m+s,S=e[b],g[m]={x:r.parse(oo(S,h),b),y:u.parse(oo(S,d),b)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,s){const l=this.chart,r=this._cachedMeta,u=e[t.axis],h={keys:_S(l,!0),values:e._stacks[t.axis]._visualValues};return Rb(h,u,r.index,{mode:s})}updateRangeFromParsed(t,e,s,l){const r=s[e.axis];let u=r===null?NaN:r;const h=l&&s._stacks[e.axis];l&&h&&(l.values=h,u=Rb(l,r,this._cachedMeta.index)),t.min=Math.min(t.min,u),t.max=Math.max(t.max,u)}getMinMax(t,e){const s=this._cachedMeta,l=s._parsed,r=s._sorted&&t===s.iScale,u=l.length,h=this._getOtherScale(t),d=SO(e,s,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:_}=_O(h);let b,S;function x(){S=l[b];const C=S[h.axis];return!on(S[t.axis])||m>C||_<C}for(b=0;b<u&&!(!x()&&(this.updateRangeFromParsed(g,t,S,d),r));++b);if(r){for(b=u-1;b>=0;--b)if(!x()){this.updateRangeFromParsed(g,t,S,d);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,s=[];let l,r,u;for(l=0,r=e.length;l<r;++l)u=e[l][t.axis],on(u)&&s.push(u);return s}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,s=e.iScale,l=e.vScale,r=this.getParsed(t);return{label:s?""+s.getLabelForValue(r[s.axis]):"",value:l?""+l.getLabelForValue(r[l.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=gO(St(this.options.clip,dO(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,s=this._cachedMeta,l=s.data||[],r=e.chartArea,u=[],h=this._drawStart||0,d=this._drawCount||l.length-h,g=this.options.drawActiveElementsOnTop;let m;for(s.dataset&&s.dataset.draw(t,r,h,d),m=h;m<h+d;++m){const _=l[m];_.hidden||(_.active&&g?u.push(_):_.draw(t,r))}for(m=0;m<u.length;++m)u[m].draw(t,r)}getStyle(t,e){const s=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(s):this.resolveDataElementOptions(t||0,s)}getContext(t,e,s){const l=this.getDataset();let r;if(t>=0&&t<this._cachedMeta.data.length){const u=this._cachedMeta.data[t];r=u.$context||(u.$context=vO(this.getContext(),t,u)),r.parsed=this.getParsed(t),r.raw=l.data[t],r.index=r.dataIndex=t}else r=this.$context||(this.$context=bO(this.chart.getContext(),this.index)),r.dataset=l,r.index=r.datasetIndex=this.index;return r.active=!!e,r.mode=s,r}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",s){const l=e==="active",r=this._cachedDataOpts,u=t+"-"+e,h=r[u],d=this.enableOptionSharing&&Cc(s);if(h)return zb(h,d);const g=this.chart.config,m=g.datasetElementScopeKeys(this._type,t),_=l?[`${t}Hover`,"hover",t,""]:[t,""],b=g.getOptionScopes(this.getDataset(),m),S=Object.keys(ee.elements[t]),x=()=>this.getContext(s,l,e),C=g.resolveNamedOptions(b,S,x,_);return C.$shared&&(C.$shared=d,r[u]=Object.freeze(zb(C,d))),C}_resolveAnimations(t,e,s){const l=this.chart,r=this._cachedDataOpts,u=`animation-${e}`,h=r[u];if(h)return h;let d;if(l.options.animation!==!1){const m=this.chart.config,_=m.datasetAnimationScopeKeys(this._type,e),b=m.getOptionScopes(this.getDataset(),_);d=m.createResolver(b,this.getContext(t,s,e))}const g=new mS(l,d&&d.animations);return d&&d._cacheable&&(r[u]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Df(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const s=this.resolveDataElementOptions(t,e),l=this._sharedOptions,r=this.getSharedOptions(s),u=this.includeOptions(e,r)||r!==l;return this.updateSharedOptions(r,e,s),{sharedOptions:r,includeOptions:u}}updateElement(t,e,s,l){Df(l)?Object.assign(t,s):this._resolveAnimations(e,l).update(t,s)}updateSharedOptions(t,e,s){t&&!Df(e)&&this._resolveAnimations(void 0,e).update(t,s)}_setStyle(t,e,s,l){t.active=l;const r=this.getStyle(e,l);this._resolveAnimations(e,s,l).update(t,{options:!l&&this.getSharedOptions(r)||r})}removeHoverStyle(t,e,s){this._setStyle(t,s,"active",!1)}setHoverStyle(t,e,s){this._setStyle(t,s,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,s=this._cachedMeta.data;for(const[h,d,g]of this._syncList)this[h](d,g);this._syncList=[];const l=s.length,r=e.length,u=Math.min(r,l);u&&this.parse(0,u),r>l?this._insertElements(l,r-l,t):r<l&&this._removeElements(r,l-r)}_insertElements(t,e,s=!0){const l=this._cachedMeta,r=l.data,u=t+e;let h;const d=g=>{for(g.length+=e,h=g.length-1;h>=u;h--)g[h]=g[h-e]};for(d(r),h=t;h<u;++h)r[h]=new this.dataElementType;this._parsing&&d(l._parsed),this.parse(t,e),s&&this.updateElements(r,t,e,"reset")}updateElements(t,e,s,l){}_removeElements(t,e){const s=this._cachedMeta;if(this._parsing){const l=s._parsed.splice(t,e);s._stacked&&wl(s,l)}s.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,s,l]=t;this[e](s,l)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const s=arguments.length-2;s&&this._sync(["_insertElements",t,s])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}it(ha,"defaults",{}),it(ha,"datasetElementType",null),it(ha,"dataElementType",null);function xO(i,t,e){let s=1,l=1,r=0,u=0;if(t<Zt){const h=i,d=h+t,g=Math.cos(h),m=Math.sin(h),_=Math.cos(d),b=Math.sin(d),S=(V,Y,L)=>co(V,h,d,!0)?1:Math.max(Y,Y*e,L,L*e),x=(V,Y,L)=>co(V,h,d,!0)?-1:Math.min(Y,Y*e,L,L*e),C=S(0,g,_),A=S(oe,m,b),z=x($t,g,_),U=x($t+oe,m,b);s=(C-z)/2,l=(A-U)/2,r=-(C+z)/2,u=-(A+U)/2}return{ratioX:s,ratioY:l,offsetX:r,offsetY:u}}class zl extends ha{constructor(t,e){super(t,e),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(t,e){const s=this.getDataset().data,l=this._cachedMeta;if(this._parsing===!1)l._parsed=s;else{let r=d=>+s[d];if(At(s[t])){const{key:d="value"}=this._parsing;r=g=>+oo(s[g],d)}let u,h;for(u=t,h=t+e;u<h;++u)l._parsed[u]=r(u)}}_getRotation(){return Gn(this.options.rotation-90)}_getCircumference(){return Gn(this.options.circumference)}_getRotationExtents(){let t=Zt,e=-Zt;for(let s=0;s<this.chart.data.datasets.length;++s)if(this.chart.isDatasetVisible(s)&&this.chart.getDatasetMeta(s).type===this._type){const l=this.chart.getDatasetMeta(s).controller,r=l._getRotation(),u=l._getCircumference();t=Math.min(t,r),e=Math.max(e,r+u)}return{rotation:t,circumference:e-t}}update(t){const e=this.chart,{chartArea:s}=e,l=this._cachedMeta,r=l.data,u=this.getMaxBorderWidth()+this.getMaxOffset(r)+this.options.spacing,h=Math.max((Math.min(s.width,s.height)-u)/2,0),d=Math.min(Bw(this.options.cutout,h),1),g=this._getRingWeight(this.index),{circumference:m,rotation:_}=this._getRotationExtents(),{ratioX:b,ratioY:S,offsetX:x,offsetY:C}=xO(_,m,d),A=(s.width-u)/b,z=(s.height-u)/S,U=Math.max(Math.min(A,z)/2,0),V=Jv(this.options.radius,U),Y=Math.max(V*d,0),L=(V-Y)/this._getVisibleDatasetWeightTotal();this.offsetX=x*V,this.offsetY=C*V,l.total=this.calculateTotal(),this.outerRadius=V-L*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-L*g,0),this.updateElements(r,0,r.length,t)}_circumference(t,e){const s=this.options,l=this._cachedMeta,r=this._getCircumference();return e&&s.animation.animateRotate||!this.chart.getDataVisibility(t)||l._parsed[t]===null||l.data[t].hidden?0:this.calculateCircumference(l._parsed[t]*r/Zt)}updateElements(t,e,s,l){const r=l==="reset",u=this.chart,h=u.chartArea,g=u.options.animation,m=(h.left+h.right)/2,_=(h.top+h.bottom)/2,b=r&&g.animateScale,S=b?0:this.innerRadius,x=b?0:this.outerRadius,{sharedOptions:C,includeOptions:A}=this._getSharedOptions(e,l);let z=this._getRotation(),U;for(U=0;U<e;++U)z+=this._circumference(U,r);for(U=e;U<e+s;++U){const V=this._circumference(U,r),Y=t[U],L={x:m+this.offsetX,y:_+this.offsetY,startAngle:z,endAngle:z+V,circumference:V,outerRadius:x,innerRadius:S};A&&(L.options=C||this.resolveDataElementOptions(U,Y.active?"active":l)),z+=V,this.updateElement(Y,U,L,l)}}calculateTotal(){const t=this._cachedMeta,e=t.data;let s=0,l;for(l=0;l<e.length;l++){const r=t._parsed[l];r!==null&&!isNaN(r)&&this.chart.getDataVisibility(l)&&!e[l].hidden&&(s+=Math.abs(r))}return s}calculateCircumference(t){const e=this._cachedMeta.total;return e>0&&!isNaN(t)?Zt*(Math.abs(t)/e):0}getLabelAndValue(t){const e=this._cachedMeta,s=this.chart,l=s.data.labels||[],r=tg(e._parsed[t],s.options.locale);return{label:l[t]||"",value:r}}getMaxBorderWidth(t){let e=0;const s=this.chart;let l,r,u,h,d;if(!t){for(l=0,r=s.data.datasets.length;l<r;++l)if(s.isDatasetVisible(l)){u=s.getDatasetMeta(l),t=u.data,h=u.controller;break}}if(!t)return 0;for(l=0,r=t.length;l<r;++l)d=h.resolveDataElementOptions(l),d.borderAlign!=="inner"&&(e=Math.max(e,d.borderWidth||0,d.hoverBorderWidth||0));return e}getMaxOffset(t){let e=0;for(let s=0,l=t.length;s<l;++s){const r=this.resolveDataElementOptions(s);e=Math.max(e,r.offset||0,r.hoverOffset||0)}return e}_getRingWeightOffset(t){let e=0;for(let s=0;s<t;++s)this.chart.isDatasetVisible(s)&&(e+=this._getRingWeight(s));return e}_getRingWeight(t){return Math.max(St(this.chart.data.datasets[t].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}it(zl,"id","doughnut"),it(zl,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),it(zl,"descriptors",{_scriptable:t=>t!=="spacing",_indexable:t=>t!=="spacing"&&!t.startsWith("borderDash")&&!t.startsWith("hoverBorderDash")}),it(zl,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(t){const e=t.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:s,color:l}}=t.legend.options;return e.labels.map((r,u)=>{const d=t.getDatasetMeta(0).controller.getStyle(u);return{text:r,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:l,lineWidth:d.borderWidth,pointStyle:s,hidden:!t.getDataVisibility(u),index:u}})}return[]}},onClick(t,e,s){s.chart.toggleDataVisibility(e.index),s.chart.update()}}}});class ec extends ha{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:s,data:l=[],_dataset:r}=e,u=this.chart._animationsDisabled;let{start:h,count:d}=sD(e,l,u);this._drawStart=h,this._drawCount=d,aD(e)&&(h=0,d=l.length),s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!r._decimated,s.points=l;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(s,void 0,{animated:!u,options:g},t),this.updateElements(l,h,d,t)}updateElements(t,e,s,l){const r=l==="reset",{iScale:u,vScale:h,_stacked:d,_dataset:g}=this._cachedMeta,{sharedOptions:m,includeOptions:_}=this._getSharedOptions(e,l),b=u.axis,S=h.axis,{spanGaps:x,segment:C}=this.options,A=ro(x)?x:Number.POSITIVE_INFINITY,z=this.chart._animationsDisabled||r||l==="none",U=e+s,V=t.length;let Y=e>0&&this.getParsed(e-1);for(let L=0;L<V;++L){const W=t[L],X=z?W:{};if(L<e||L>=U){X.skip=!0;continue}const G=this.getParsed(L),J=jt(G[S]),ht=X[b]=u.getPixelForValue(G[b],L),at=X[S]=r||J?h.getBasePixel():h.getPixelForValue(d?this.applyStack(h,G,d):G[S],L);X.skip=isNaN(ht)||isNaN(at)||J,X.stop=L>0&&Math.abs(G[b]-Y[b])>A,C&&(X.parsed=G,X.raw=g.data[L]),_&&(X.options=m||this.resolveDataElementOptions(L,W.active?"active":l)),z||this.updateElement(W,L,X,l),Y=G}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,s=e.options&&e.options.borderWidth||0,l=t.data||[];if(!l.length)return s;const r=l[0].size(this.resolveDataElementOptions(0)),u=l[l.length-1].size(this.resolveDataElementOptions(l.length-1));return Math.max(s,r,u)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}it(ec,"id","line"),it(ec,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),it(ec,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class nd extends zl{}it(nd,"id","pie"),it(nd,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});function ts(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class cg{constructor(t){it(this,"options");this.options=t||{}}static override(t){Object.assign(cg.prototype,t)}init(){}formats(){return ts()}parse(){return ts()}format(){return ts()}add(){return ts()}diff(){return ts()}startOf(){return ts()}endOf(){return ts()}}var EO={_date:cg};function TO(i,t,e,s){const{controller:l,data:r,_sorted:u}=i,h=l._cachedMeta.iScale,d=i.dataset&&i.dataset.options?i.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&u&&r.length){const g=h._reversePixels?$w:os;if(s){if(l._sharedOptions){const m=r[0],_=typeof m.getRange=="function"&&m.getRange(t);if(_){const b=g(r,t,e-_),S=g(r,t,e+_);return{lo:b.lo,hi:S.hi}}}}else{const m=g(r,t,e);if(d){const{vScale:_}=l._cachedMeta,{_parsed:b}=i,S=b.slice(0,m.lo+1).reverse().findIndex(C=>!jt(C[_.axis]));m.lo-=Math.max(0,S);const x=b.slice(m.hi).findIndex(C=>!jt(C[_.axis]));m.hi+=Math.max(0,x)}return m}}return{lo:0,hi:r.length-1}}function Vc(i,t,e,s,l){const r=i.getSortedVisibleDatasetMetas(),u=e[t];for(let h=0,d=r.length;h<d;++h){const{index:g,data:m}=r[h],{lo:_,hi:b}=TO(r[h],t,u,l);for(let S=_;S<=b;++S){const x=m[S];x.skip||s(x,g,S)}}}function CO(i){const t=i.indexOf("x")!==-1,e=i.indexOf("y")!==-1;return function(s,l){const r=t?Math.abs(s.x-l.x):0,u=e?Math.abs(s.y-l.y):0;return Math.sqrt(Math.pow(r,2)+Math.pow(u,2))}}function Of(i,t,e,s,l){const r=[];return!l&&!i.isPointInArea(t)||Vc(i,e,t,function(h,d,g){!l&&!uo(h,i.chartArea,0)||h.inRange(t.x,t.y,s)&&r.push({element:h,datasetIndex:d,index:g})},!0),r}function AO(i,t,e,s){let l=[];function r(u,h,d){const{startAngle:g,endAngle:m}=u.getProps(["startAngle","endAngle"],s),{angle:_}=nS(u,{x:t.x,y:t.y});co(_,g,m)&&l.push({element:u,datasetIndex:h,index:d})}return Vc(i,e,t,r),l}function MO(i,t,e,s,l,r){let u=[];const h=CO(e);let d=Number.POSITIVE_INFINITY;function g(m,_,b){const S=m.inRange(t.x,t.y,l);if(s&&!S)return;const x=m.getCenterPoint(l);if(!(!!r||i.isPointInArea(x))&&!S)return;const A=h(t,x);A<d?(u=[{element:m,datasetIndex:_,index:b}],d=A):A===d&&u.push({element:m,datasetIndex:_,index:b})}return Vc(i,e,t,g),u}function Rf(i,t,e,s,l,r){return!r&&!i.isPointInArea(t)?[]:e==="r"&&!s?AO(i,t,e,l):MO(i,t,e,s,l,r)}function Lb(i,t,e,s,l){const r=[],u=e==="x"?"inXRange":"inYRange";let h=!1;return Vc(i,e,t,(d,g,m)=>{d[u]&&d[u](t[e],l)&&(r.push({element:d,datasetIndex:g,index:m}),h=h||d.inRange(t.x,t.y,l))}),s&&!h?[]:r}var wO={modes:{index(i,t,e,s){const l=is(t,i),r=e.axis||"x",u=e.includeInvisible||!1,h=e.intersect?Of(i,l,r,s,u):Rf(i,l,r,!1,s,u),d=[];return h.length?(i.getSortedVisibleDatasetMetas().forEach(g=>{const m=h[0].index,_=g.data[m];_&&!_.skip&&d.push({element:_,datasetIndex:g.index,index:m})}),d):[]},dataset(i,t,e,s){const l=is(t,i),r=e.axis||"xy",u=e.includeInvisible||!1;let h=e.intersect?Of(i,l,r,s,u):Rf(i,l,r,!1,s,u);if(h.length>0){const d=h[0].datasetIndex,g=i.getDatasetMeta(d).data;h=[];for(let m=0;m<g.length;++m)h.push({element:g[m],datasetIndex:d,index:m})}return h},point(i,t,e,s){const l=is(t,i),r=e.axis||"xy",u=e.includeInvisible||!1;return Of(i,l,r,s,u)},nearest(i,t,e,s){const l=is(t,i),r=e.axis||"xy",u=e.includeInvisible||!1;return Rf(i,l,r,e.intersect,s,u)},x(i,t,e,s){const l=is(t,i);return Lb(i,l,"x",e.intersect,s)},y(i,t,e,s){const l=is(t,i);return Lb(i,l,"y",e.intersect,s)}}};const yS=["left","top","right","bottom"];function Dl(i,t){return i.filter(e=>e.pos===t)}function Ib(i,t){return i.filter(e=>yS.indexOf(e.pos)===-1&&e.box.axis===t)}function Ol(i,t){return i.sort((e,s)=>{const l=t?s:e,r=t?e:s;return l.weight===r.weight?l.index-r.index:l.weight-r.weight})}function DO(i){const t=[];let e,s,l,r,u,h;for(e=0,s=(i||[]).length;e<s;++e)l=i[e],{position:r,options:{stack:u,stackWeight:h=1}}=l,t.push({index:e,box:l,pos:r,horizontal:l.isHorizontal(),weight:l.weight,stack:u&&r+u,stackWeight:h});return t}function OO(i){const t={};for(const e of i){const{stack:s,pos:l,stackWeight:r}=e;if(!s||!yS.includes(l))continue;const u=t[s]||(t[s]={count:0,placed:0,weight:0,size:0});u.count++,u.weight+=r}return t}function RO(i,t){const e=OO(i),{vBoxMaxWidth:s,hBoxMaxHeight:l}=t;let r,u,h;for(r=0,u=i.length;r<u;++r){h=i[r];const{fullSize:d}=h.box,g=e[h.stack],m=g&&h.stackWeight/g.weight;h.horizontal?(h.width=m?m*s:d&&t.availableWidth,h.height=l):(h.width=s,h.height=m?m*l:d&&t.availableHeight)}return e}function NO(i){const t=DO(i),e=Ol(t.filter(g=>g.box.fullSize),!0),s=Ol(Dl(t,"left"),!0),l=Ol(Dl(t,"right")),r=Ol(Dl(t,"top"),!0),u=Ol(Dl(t,"bottom")),h=Ib(t,"x"),d=Ib(t,"y");return{fullSize:e,leftAndTop:s.concat(r),rightAndBottom:l.concat(d).concat(u).concat(h),chartArea:Dl(t,"chartArea"),vertical:s.concat(l).concat(d),horizontal:r.concat(u).concat(h)}}function Bb(i,t,e,s){return Math.max(i[e],t[e])+Math.max(i[s],t[s])}function bS(i,t){i.top=Math.max(i.top,t.top),i.left=Math.max(i.left,t.left),i.bottom=Math.max(i.bottom,t.bottom),i.right=Math.max(i.right,t.right)}function kO(i,t,e,s){const{pos:l,box:r}=e,u=i.maxPadding;if(!At(l)){e.size&&(i[l]-=e.size);const _=s[e.stack]||{size:0,count:1};_.size=Math.max(_.size,e.horizontal?r.height:r.width),e.size=_.size/_.count,i[l]+=e.size}r.getPadding&&bS(u,r.getPadding());const h=Math.max(0,t.outerWidth-Bb(u,i,"left","right")),d=Math.max(0,t.outerHeight-Bb(u,i,"top","bottom")),g=h!==i.w,m=d!==i.h;return i.w=h,i.h=d,e.horizontal?{same:g,other:m}:{same:m,other:g}}function zO(i){const t=i.maxPadding;function e(s){const l=Math.max(t[s]-i[s],0);return i[s]+=l,l}i.y+=e("top"),i.x+=e("left"),e("right"),e("bottom")}function LO(i,t){const e=t.maxPadding;function s(l){const r={left:0,top:0,right:0,bottom:0};return l.forEach(u=>{r[u]=Math.max(t[u],e[u])}),r}return s(i?["left","right"]:["top","bottom"])}function Ll(i,t,e,s){const l=[];let r,u,h,d,g,m;for(r=0,u=i.length,g=0;r<u;++r){h=i[r],d=h.box,d.update(h.width||t.w,h.height||t.h,LO(h.horizontal,t));const{same:_,other:b}=kO(t,e,h,s);g|=_&&l.length,m=m||b,d.fullSize||l.push(h)}return g&&Ll(l,t,e,s)||m}function Xr(i,t,e,s,l){i.top=e,i.left=t,i.right=t+s,i.bottom=e+l,i.width=s,i.height=l}function Hb(i,t,e,s){const l=e.padding;let{x:r,y:u}=t;for(const h of i){const d=h.box,g=s[h.stack]||{placed:0,weight:1},m=h.stackWeight/g.weight||1;if(h.horizontal){const _=t.w*m,b=g.size||d.height;Cc(g.start)&&(u=g.start),d.fullSize?Xr(d,l.left,u,e.outerWidth-l.right-l.left,b):Xr(d,t.left+g.placed,u,_,b),g.start=u,g.placed+=_,u=d.bottom}else{const _=t.h*m,b=g.size||d.width;Cc(g.start)&&(r=g.start),d.fullSize?Xr(d,r,l.top,b,e.outerHeight-l.bottom-l.top):Xr(d,r,t.top+g.placed,b,_),g.start=r,g.placed+=_,r=d.right}}t.x=r,t.y=u}var ln={addBox(i,t){i.boxes||(i.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},i.boxes.push(t)},removeBox(i,t){const e=i.boxes?i.boxes.indexOf(t):-1;e!==-1&&i.boxes.splice(e,1)},configure(i,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(i,t,e,s){if(!i)return;const l=rn(i.options.layout.padding),r=Math.max(t-l.width,0),u=Math.max(e-l.height,0),h=NO(i.boxes),d=h.vertical,g=h.horizontal;Rt(i.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const m=d.reduce((C,A)=>A.box.options&&A.box.options.display===!1?C:C+1,0)||1,_=Object.freeze({outerWidth:t,outerHeight:e,padding:l,availableWidth:r,availableHeight:u,vBoxMaxWidth:r/2/m,hBoxMaxHeight:u/2}),b=Object.assign({},l);bS(b,rn(s));const S=Object.assign({maxPadding:b,w:r,h:u,x:l.left,y:l.top},l),x=RO(d.concat(g),_);Ll(h.fullSize,S,_,x),Ll(d,S,_,x),Ll(g,S,_,x)&&Ll(d,S,_,x),zO(S),Hb(h.leftAndTop,S,_,x),S.x+=S.w,S.y+=S.h,Hb(h.rightAndBottom,S,_,x),i.chartArea={left:S.left,top:S.top,right:S.left+S.w,bottom:S.top+S.h,height:S.h,width:S.w},Rt(h.chartArea,C=>{const A=C.box;Object.assign(A,i.chartArea),A.update(S.w,S.h,{left:0,top:0,right:0,bottom:0})})}};class vS{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,s){}removeEventListener(t,e,s){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,s,l){return e=Math.max(0,e||t.width),s=s||t.height,{width:e,height:Math.max(0,l?Math.floor(e/l):s)}}isAttached(t){return!0}updateConfig(t){}}class IO extends vS{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const nc="$chartjs",BO={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Ub=i=>i===null||i==="";function HO(i,t){const e=i.style,s=i.getAttribute("height"),l=i.getAttribute("width");if(i[nc]={initial:{height:s,width:l,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Ub(l)){const r=Cb(i,"width");r!==void 0&&(i.width=r)}if(Ub(s))if(i.style.height==="")i.height=i.width/(t||2);else{const r=Cb(i,"height");r!==void 0&&(i.height=r)}return i}const SS=QD?{passive:!0}:!1;function UO(i,t,e){i&&i.addEventListener(t,e,SS)}function jO(i,t,e){i&&i.canvas&&i.canvas.removeEventListener(t,e,SS)}function PO(i,t){const e=BO[i.type]||i.type,{x:s,y:l}=is(i,t);return{type:e,chart:t,native:i,x:s!==void 0?s:null,y:l!==void 0?l:null}}function wc(i,t){for(const e of i)if(e===t||e.contains(t))return!0}function VO(i,t,e){const s=i.canvas,l=new MutationObserver(r=>{let u=!1;for(const h of r)u=u||wc(h.addedNodes,s),u=u&&!wc(h.removedNodes,s);u&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}function YO(i,t,e){const s=i.canvas,l=new MutationObserver(r=>{let u=!1;for(const h of r)u=u||wc(h.removedNodes,s),u=u&&!wc(h.addedNodes,s);u&&e()});return l.observe(document,{childList:!0,subtree:!0}),l}const fo=new Map;let jb=0;function xS(){const i=window.devicePixelRatio;i!==jb&&(jb=i,fo.forEach((t,e)=>{e.currentDevicePixelRatio!==i&&t()}))}function qO(i,t){fo.size||window.addEventListener("resize",xS),fo.set(i,t)}function FO(i){fo.delete(i),fo.size||window.removeEventListener("resize",xS)}function GO(i,t,e){const s=i.canvas,l=s&&rg(s);if(!l)return;const r=aS((h,d)=>{const g=l.clientWidth;e(h,d),g<l.clientWidth&&e()},window),u=new ResizeObserver(h=>{const d=h[0],g=d.contentRect.width,m=d.contentRect.height;g===0&&m===0||r(g,m)});return u.observe(l),qO(i,r),u}function Nf(i,t,e){e&&e.disconnect(),t==="resize"&&FO(i)}function XO(i,t,e){const s=i.canvas,l=aS(r=>{i.ctx!==null&&e(PO(r,i))},i);return UO(s,t,l),l}class WO extends vS{acquireContext(t,e){const s=t&&t.getContext&&t.getContext("2d");return s&&s.canvas===t?(HO(t,e),s):null}releaseContext(t){const e=t.canvas;if(!e[nc])return!1;const s=e[nc].initial;["height","width"].forEach(r=>{const u=s[r];jt(u)?e.removeAttribute(r):e.setAttribute(r,u)});const l=s.style||{};return Object.keys(l).forEach(r=>{e.style[r]=l[r]}),e.width=e.width,delete e[nc],!0}addEventListener(t,e,s){this.removeEventListener(t,e);const l=t.$proxies||(t.$proxies={}),u={attach:VO,detach:YO,resize:GO}[e]||XO;l[e]=u(t,e,s)}removeEventListener(t,e){const s=t.$proxies||(t.$proxies={}),l=s[e];if(!l)return;({attach:Nf,detach:Nf,resize:Nf}[e]||jO)(t,e,l),s[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,s,l){return WD(t,e,s,l)}isAttached(t){const e=t&&rg(t);return!!(e&&e.isConnected)}}function QO(i){return!og()||typeof OffscreenCanvas<"u"&&i instanceof OffscreenCanvas?IO:WO}class Cn{constructor(){it(this,"x");it(this,"y");it(this,"active",!1);it(this,"options");it(this,"$animations")}tooltipPosition(t){const{x:e,y:s}=this.getProps(["x","y"],t);return{x:e,y:s}}hasValue(){return ro(this.x)&&ro(this.y)}getProps(t,e){const s=this.$animations;if(!e||!s)return this;const l={};return t.forEach(r=>{l[r]=s[r]&&s[r].active()?s[r]._to:this[r]}),l}}it(Cn,"defaults",{}),it(Cn,"defaultRoutes");function KO(i,t){const e=i.options.ticks,s=ZO(i),l=Math.min(e.maxTicksLimit||s,s),r=e.major.enabled?JO(t):[],u=r.length,h=r[0],d=r[u-1],g=[];if(u>l)return tR(t,g,r,u/l),g;const m=$O(r,t,l);if(u>0){let _,b;const S=u>1?Math.round((d-h)/(u-1)):null;for(Wr(t,g,m,jt(S)?0:h-S,h),_=0,b=u-1;_<b;_++)Wr(t,g,m,r[_],r[_+1]);return Wr(t,g,m,d,jt(S)?t.length:d+S),g}return Wr(t,g,m),g}function ZO(i){const t=i.options.offset,e=i._tickSize(),s=i._length/e+(t?0:1),l=i._maxLength/e;return Math.floor(Math.min(s,l))}function $O(i,t,e){const s=eR(i),l=t.length/e;if(!s)return Math.max(l,1);const r=Fw(s);for(let u=0,h=r.length-1;u<h;u++){const d=r[u];if(d>l)return d}return Math.max(l,1)}function JO(i){const t=[];let e,s;for(e=0,s=i.length;e<s;e++)i[e].major&&t.push(e);return t}function tR(i,t,e,s){let l=0,r=e[0],u;for(s=Math.ceil(s),u=0;u<i.length;u++)u===r&&(t.push(i[u]),l++,r=e[l*s])}function Wr(i,t,e,s,l){const r=St(s,0),u=Math.min(St(l,i.length),i.length);let h=0,d,g,m;for(e=Math.ceil(e),l&&(d=l-s,e=d/Math.floor(d/e)),m=r;m<0;)h++,m=Math.round(r+h*e);for(g=Math.max(r,0);g<u;g++)g===m&&(t.push(i[g]),h++,m=Math.round(r+h*e))}function eR(i){const t=i.length;let e,s;if(t<2)return!1;for(s=i[0],e=1;e<t;++e)if(i[e]-i[e-1]!==s)return!1;return s}const nR=i=>i==="left"?"right":i==="right"?"left":i,Pb=(i,t,e)=>t==="top"||t==="left"?i[t]+e:i[t]-e,Vb=(i,t)=>Math.min(t||i,i);function Yb(i,t){const e=[],s=i.length/t,l=i.length;let r=0;for(;r<l;r+=s)e.push(i[Math.floor(r)]);return e}function iR(i,t,e){const s=i.ticks.length,l=Math.min(t,s-1),r=i._startPixel,u=i._endPixel,h=1e-6;let d=i.getPixelForTick(l),g;if(!(e&&(s===1?g=Math.max(d-r,u-d):t===0?g=(i.getPixelForTick(1)-d)/2:g=(d-i.getPixelForTick(l-1))/2,d+=l<t?g:-g,d<r-h||d>u+h)))return d}function sR(i,t){Rt(i,e=>{const s=e.gc,l=s.length/2;let r;if(l>t){for(r=0;r<l;++r)delete e.data[s[r]];s.splice(0,l)}})}function Rl(i){return i.drawTicks?i.tickLength:0}function qb(i,t){if(!i.display)return 0;const e=Ce(i.font,t),s=rn(i.padding);return(pe(i.text)?i.text.length:1)*e.lineHeight+s.height}function aR(i,t){return ps(i,{scale:t,type:"scale"})}function lR(i,t,e){return ps(i,{tick:e,index:t,type:"tick"})}function oR(i,t,e){let s=$d(i);return(e&&t!=="right"||!e&&t==="right")&&(s=nR(s)),s}function rR(i,t,e,s){const{top:l,left:r,bottom:u,right:h,chart:d}=i,{chartArea:g,scales:m}=d;let _=0,b,S,x;const C=u-l,A=h-r;if(i.isHorizontal()){if(S=Ee(s,r,h),At(e)){const z=Object.keys(e)[0],U=e[z];x=m[z].getPixelForValue(U)+C-t}else e==="center"?x=(g.bottom+g.top)/2+C-t:x=Pb(i,e,t);b=h-r}else{if(At(e)){const z=Object.keys(e)[0],U=e[z];S=m[z].getPixelForValue(U)-A+t}else e==="center"?S=(g.left+g.right)/2-A+t:S=Pb(i,e,t);x=Ee(s,u,l),_=e==="left"?-oe:oe}return{titleX:S,titleY:x,maxWidth:b,rotation:_}}class Ta extends Cn{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:s,_suggestedMax:l}=this;return t=xn(t,Number.POSITIVE_INFINITY),e=xn(e,Number.NEGATIVE_INFINITY),s=xn(s,Number.POSITIVE_INFINITY),l=xn(l,Number.NEGATIVE_INFINITY),{min:xn(t,s),max:xn(e,l),minDefined:on(t),maxDefined:on(e)}}getMinMax(t){let{min:e,max:s,minDefined:l,maxDefined:r}=this.getUserBounds(),u;if(l&&r)return{min:e,max:s};const h=this.getMatchingVisibleMetas();for(let d=0,g=h.length;d<g;++d)u=h[d].controller.getMinMax(this,t),l||(e=Math.min(e,u.min)),r||(s=Math.max(s,u.max));return e=r&&e>s?s:e,s=l&&e>s?e:s,{min:xn(e,xn(s,e)),max:xn(s,xn(e,s))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Yt(this.options.beforeUpdate,[this])}update(t,e,s){const{beginAtZero:l,grace:r,ticks:u}=this.options,h=u.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=s=Object.assign({left:0,right:0,top:0,bottom:0},s),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+s.left+s.right:this.height+s.top+s.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=AD(this,r,l),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=h<this.ticks.length;this._convertTicksToLabels(d?Yb(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),u.display&&(u.autoSkip||u.source==="auto")&&(this.ticks=KO(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,s;this.isHorizontal()?(e=this.left,s=this.right):(e=this.top,s=this.bottom,t=!t),this._startPixel=e,this._endPixel=s,this._reversePixels=t,this._length=s-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Yt(this.options.afterUpdate,[this])}beforeSetDimensions(){Yt(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Yt(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Yt(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Yt(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let s,l,r;for(s=0,l=t.length;s<l;s++)r=t[s],r.label=Yt(e.callback,[r.value,s,t],this)}afterTickToLabelConversion(){Yt(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Yt(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,s=Vb(this.ticks.length,t.ticks.maxTicksLimit),l=e.minRotation||0,r=e.maxRotation;let u=l,h,d,g;if(!this._isVisible()||!e.display||l>=r||s<=1||!this.isHorizontal()){this.labelRotation=l;return}const m=this._getLabelSizes(),_=m.widest.width,b=m.highest.height,S=Me(this.chart.width-_,0,this.maxWidth);h=t.offset?this.maxWidth/s:S/(s-1),_+6>h&&(h=S/(s-(t.offset?.5:1)),d=this.maxHeight-Rl(t.grid)-e.padding-qb(t.title,this.chart.options.font),g=Math.sqrt(_*_+b*b),u=Qw(Math.min(Math.asin(Me((m.highest.height+6)/h,-1,1)),Math.asin(Me(d/g,-1,1))-Math.asin(Me(b/g,-1,1)))),u=Math.max(l,Math.min(r,u))),this.labelRotation=u}afterCalculateLabelRotation(){Yt(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Yt(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:s,title:l,grid:r}}=this,u=this._isVisible(),h=this.isHorizontal();if(u){const d=qb(l,e.options.font);if(h?(t.width=this.maxWidth,t.height=Rl(r)+d):(t.height=this.maxHeight,t.width=Rl(r)+d),s.display&&this.ticks.length){const{first:g,last:m,widest:_,highest:b}=this._getLabelSizes(),S=s.padding*2,x=Gn(this.labelRotation),C=Math.cos(x),A=Math.sin(x);if(h){const z=s.mirror?0:A*_.width+C*b.height;t.height=Math.min(this.maxHeight,t.height+z+S)}else{const z=s.mirror?0:C*_.width+A*b.height;t.width=Math.min(this.maxWidth,t.width+z+S)}this._calculatePadding(g,m,A,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,s,l){const{ticks:{align:r,padding:u},position:h}=this.options,d=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,_=this.right-this.getPixelForTick(this.ticks.length-1);let b=0,S=0;d?g?(b=l*t.width,S=s*e.height):(b=s*t.height,S=l*e.width):r==="start"?S=e.width:r==="end"?b=t.width:r!=="inner"&&(b=t.width/2,S=e.width/2),this.paddingLeft=Math.max((b-m+u)*this.width/(this.width-m),0),this.paddingRight=Math.max((S-_+u)*this.width/(this.width-_),0)}else{let m=e.height/2,_=t.height/2;r==="start"?(m=0,_=t.height):r==="end"&&(m=e.height,_=0),this.paddingTop=m+u,this.paddingBottom=_+u}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Yt(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,s;for(e=0,s=t.length;e<s;e++)jt(t[e].label)&&(t.splice(e,1),s--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let s=this.ticks;e<s.length&&(s=Yb(s,e)),this._labelSizes=t=this._computeLabelSizes(s,s.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,s){const{ctx:l,_longestTextCache:r}=this,u=[],h=[],d=Math.floor(e/Vb(e,s));let g=0,m=0,_,b,S,x,C,A,z,U,V,Y,L;for(_=0;_<e;_+=d){if(x=t[_].label,C=this._resolveTickFontOptions(_),l.font=A=C.string,z=r[A]=r[A]||{data:{},gc:[]},U=C.lineHeight,V=Y=0,!jt(x)&&!pe(x))V=vb(l,z.data,z.gc,V,x),Y=U;else if(pe(x))for(b=0,S=x.length;b<S;++b)L=x[b],!jt(L)&&!pe(L)&&(V=vb(l,z.data,z.gc,V,L),Y+=U);u.push(V),h.push(Y),g=Math.max(V,g),m=Math.max(Y,m)}sR(r,e);const W=u.indexOf(g),X=h.indexOf(m),G=J=>({width:u[J]||0,height:h[J]||0});return{first:G(0),last:G(e-1),widest:G(W),highest:G(X),widths:u,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return Zw(this._alignToPixels?Ji(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const s=e[t];return s.$context||(s.$context=lR(this.getContext(),t,s))}return this.$context||(this.$context=aR(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Gn(this.labelRotation),s=Math.abs(Math.cos(e)),l=Math.abs(Math.sin(e)),r=this._getLabelSizes(),u=t.autoSkipPadding||0,h=r?r.widest.width+u:0,d=r?r.highest.height+u:0;return this.isHorizontal()?d*s>h*l?h/s:d/l:d*l<h*s?d/s:h/l}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,s=this.chart,l=this.options,{grid:r,position:u,border:h}=l,d=r.offset,g=this.isHorizontal(),_=this.ticks.length+(d?1:0),b=Rl(r),S=[],x=h.setContext(this.getContext()),C=x.display?x.width:0,A=C/2,z=function(D){return Ji(s,D,C)};let U,V,Y,L,W,X,G,J,ht,at,st,Tt;if(u==="top")U=z(this.bottom),X=this.bottom-b,J=U-A,at=z(t.top)+A,Tt=t.bottom;else if(u==="bottom")U=z(this.top),at=t.top,Tt=z(t.bottom)-A,X=U+A,J=this.top+b;else if(u==="left")U=z(this.right),W=this.right-b,G=U-A,ht=z(t.left)+A,st=t.right;else if(u==="right")U=z(this.left),ht=t.left,st=z(t.right)-A,W=U+A,G=this.left+b;else if(e==="x"){if(u==="center")U=z((t.top+t.bottom)/2+.5);else if(At(u)){const D=Object.keys(u)[0],P=u[D];U=z(this.chart.scales[D].getPixelForValue(P))}at=t.top,Tt=t.bottom,X=U+A,J=X+b}else if(e==="y"){if(u==="center")U=z((t.left+t.right)/2);else if(At(u)){const D=Object.keys(u)[0],P=u[D];U=z(this.chart.scales[D].getPixelForValue(P))}W=U-A,G=W-b,ht=t.left,st=t.right}const Pt=St(l.ticks.maxTicksLimit,_),q=Math.max(1,Math.ceil(_/Pt));for(V=0;V<_;V+=q){const D=this.getContext(V),P=r.setContext(D),Z=h.setContext(D),et=P.lineWidth,T=P.color,H=Z.dash||[],K=Z.dashOffset,Q=P.tickWidth,tt=P.tickColor,gt=P.tickBorderDash||[],lt=P.tickBorderDashOffset;Y=iR(this,V,d),Y!==void 0&&(L=Ji(s,Y,et),g?W=G=ht=st=L:X=J=at=Tt=L,S.push({tx1:W,ty1:X,tx2:G,ty2:J,x1:ht,y1:at,x2:st,y2:Tt,width:et,color:T,borderDash:H,borderDashOffset:K,tickWidth:Q,tickColor:tt,tickBorderDash:gt,tickBorderDashOffset:lt}))}return this._ticksLength=_,this._borderValue=U,S}_computeLabelItems(t){const e=this.axis,s=this.options,{position:l,ticks:r}=s,u=this.isHorizontal(),h=this.ticks,{align:d,crossAlign:g,padding:m,mirror:_}=r,b=Rl(s.grid),S=b+m,x=_?-m:S,C=-Gn(this.labelRotation),A=[];let z,U,V,Y,L,W,X,G,J,ht,at,st,Tt="middle";if(l==="top")W=this.bottom-x,X=this._getXAxisLabelAlignment();else if(l==="bottom")W=this.top+x,X=this._getXAxisLabelAlignment();else if(l==="left"){const q=this._getYAxisLabelAlignment(b);X=q.textAlign,L=q.x}else if(l==="right"){const q=this._getYAxisLabelAlignment(b);X=q.textAlign,L=q.x}else if(e==="x"){if(l==="center")W=(t.top+t.bottom)/2+S;else if(At(l)){const q=Object.keys(l)[0],D=l[q];W=this.chart.scales[q].getPixelForValue(D)+S}X=this._getXAxisLabelAlignment()}else if(e==="y"){if(l==="center")L=(t.left+t.right)/2-S;else if(At(l)){const q=Object.keys(l)[0],D=l[q];L=this.chart.scales[q].getPixelForValue(D)}X=this._getYAxisLabelAlignment(b).textAlign}e==="y"&&(d==="start"?Tt="top":d==="end"&&(Tt="bottom"));const Pt=this._getLabelSizes();for(z=0,U=h.length;z<U;++z){V=h[z],Y=V.label;const q=r.setContext(this.getContext(z));G=this.getPixelForTick(z)+r.labelOffset,J=this._resolveTickFontOptions(z),ht=J.lineHeight,at=pe(Y)?Y.length:1;const D=at/2,P=q.color,Z=q.textStrokeColor,et=q.textStrokeWidth;let T=X;u?(L=G,X==="inner"&&(z===U-1?T=this.options.reverse?"left":"right":z===0?T=this.options.reverse?"right":"left":T="center"),l==="top"?g==="near"||C!==0?st=-at*ht+ht/2:g==="center"?st=-Pt.highest.height/2-D*ht+ht:st=-Pt.highest.height+ht/2:g==="near"||C!==0?st=ht/2:g==="center"?st=Pt.highest.height/2-D*ht:st=Pt.highest.height-at*ht,_&&(st*=-1),C!==0&&!q.showLabelBackdrop&&(L+=ht/2*Math.sin(C))):(W=G,st=(1-at)*ht/2);let H;if(q.showLabelBackdrop){const K=rn(q.backdropPadding),Q=Pt.heights[z],tt=Pt.widths[z];let gt=st-K.top,lt=0-K.left;switch(Tt){case"middle":gt-=Q/2;break;case"bottom":gt-=Q;break}switch(X){case"center":lt-=tt/2;break;case"right":lt-=tt;break;case"inner":z===U-1?lt-=tt:z>0&&(lt-=tt/2);break}H={left:lt,top:gt,width:tt+K.width,height:Q+K.height,color:q.backdropColor}}A.push({label:Y,font:J,textOffset:st,options:{rotation:C,color:P,strokeColor:Z,strokeWidth:et,textAlign:T,textBaseline:Tt,translation:[L,W],backdrop:H}})}return A}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Gn(this.labelRotation))return t==="top"?"left":"right";let l="center";return e.align==="start"?l="left":e.align==="end"?l="right":e.align==="inner"&&(l="inner"),l}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:s,mirror:l,padding:r}}=this.options,u=this._getLabelSizes(),h=t+r,d=u.widest.width;let g,m;return e==="left"?l?(m=this.right+r,s==="near"?g="left":s==="center"?(g="center",m+=d/2):(g="right",m+=d)):(m=this.right-h,s==="near"?g="right":s==="center"?(g="center",m-=d/2):(g="left",m=this.left)):e==="right"?l?(m=this.left+r,s==="near"?g="right":s==="center"?(g="center",m-=d/2):(g="left",m-=d)):(m=this.left+h,s==="near"?g="left":s==="center"?(g="center",m+=d/2):(g="right",m=this.right)):g="right",{textAlign:g,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:s,top:l,width:r,height:u}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(s,l,r,u),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const l=this.ticks.findIndex(r=>r.value===t);return l>=0?e.setContext(this.getContext(l)).lineWidth:0}drawGrid(t){const e=this.options.grid,s=this.ctx,l=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let r,u;const h=(d,g,m)=>{!m.width||!m.color||(s.save(),s.lineWidth=m.width,s.strokeStyle=m.color,s.setLineDash(m.borderDash||[]),s.lineDashOffset=m.borderDashOffset,s.beginPath(),s.moveTo(d.x,d.y),s.lineTo(g.x,g.y),s.stroke(),s.restore())};if(e.display)for(r=0,u=l.length;r<u;++r){const d=l[r];e.drawOnChartArea&&h({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&h({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:s,grid:l}}=this,r=s.setContext(this.getContext()),u=s.display?r.width:0;if(!u)return;const h=l.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let g,m,_,b;this.isHorizontal()?(g=Ji(t,this.left,u)-u/2,m=Ji(t,this.right,h)+h/2,_=b=d):(_=Ji(t,this.top,u)-u/2,b=Ji(t,this.bottom,h)+h/2,g=m=d),e.save(),e.lineWidth=r.width,e.strokeStyle=r.color,e.beginPath(),e.moveTo(g,_),e.lineTo(m,b),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const s=this.ctx,l=this._computeLabelArea();l&&eg(s,l);const r=this.getLabelItems(t);for(const u of r){const h=u.options,d=u.font,g=u.label,m=u.textOffset;ho(s,g,0,m,d,h)}l&&ng(s)}drawTitle(){const{ctx:t,options:{position:e,title:s,reverse:l}}=this;if(!s.display)return;const r=Ce(s.font),u=rn(s.padding),h=s.align;let d=r.lineHeight/2;e==="bottom"||e==="center"||At(e)?(d+=u.bottom,pe(s.text)&&(d+=r.lineHeight*(s.text.length-1))):d+=u.top;const{titleX:g,titleY:m,maxWidth:_,rotation:b}=rR(this,d,e,h);ho(t,s.text,0,0,r,{color:s.color,maxWidth:_,rotation:b,textAlign:oR(h,e,l),textBaseline:"middle",translation:[g,m]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,s=St(t.grid&&t.grid.z,-1),l=St(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Ta.prototype.draw?[{z:e,draw:r=>{this.draw(r)}}]:[{z:s,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:l,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),s=this.axis+"AxisID",l=[];let r,u;for(r=0,u=e.length;r<u;++r){const h=e[r];h[s]===this.id&&(!t||h.type===t)&&l.push(h)}return l}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Ce(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Qr{constructor(t,e,s){this.type=t,this.scope=e,this.override=s,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let s;hR(e)&&(s=this.register(e));const l=this.items,r=t.id,u=this.scope+"."+r;if(!r)throw new Error("class does not have id: "+t);return r in l||(l[r]=t,cR(t,u,s),this.override&&ee.override(t.id,t.overrides)),u}get(t){return this.items[t]}unregister(t){const e=this.items,s=t.id,l=this.scope;s in e&&delete e[s],l&&s in ee[l]&&(delete ee[l][s],this.override&&delete ds[s])}}function cR(i,t,e){const s=lo(Object.create(null),[e?ee.get(e):{},ee.get(t),i.defaults]);ee.set(t,s),i.defaultRoutes&&uR(t,i.defaultRoutes),i.descriptors&&ee.describe(t,i.descriptors)}function uR(i,t){Object.keys(t).forEach(e=>{const s=e.split("."),l=s.pop(),r=[i].concat(s).join("."),u=t[e].split("."),h=u.pop(),d=u.join(".");ee.route(r,l,d,h)})}function hR(i){return"id"in i&&"defaults"in i}class fR{constructor(){this.controllers=new Qr(ha,"datasets",!0),this.elements=new Qr(Cn,"elements"),this.plugins=new Qr(Object,"plugins"),this.scales=new Qr(Ta,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,s){[...e].forEach(l=>{const r=s||this._getRegistryForType(l);s||r.isForType(l)||r===this.plugins&&l.id?this._exec(t,r,l):Rt(l,u=>{const h=s||this._getRegistryForType(u);this._exec(t,h,u)})})}_exec(t,e,s){const l=Kd(t);Yt(s["before"+l],[],s),e[t](s),Yt(s["after"+l],[],s)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const s=this._typedRegistries[e];if(s.isForType(t))return s}return this.plugins}_get(t,e,s){const l=e.get(t);if(l===void 0)throw new Error('"'+t+'" is not a registered '+s+".");return l}}var Tn=new fR;class dR{constructor(){this._init=[]}notify(t,e,s,l){e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install"));const r=l?this._descriptors(t).filter(l):this._descriptors(t),u=this._notify(r,t,e,s);return e==="afterDestroy"&&(this._notify(r,t,"stop"),this._notify(this._init,t,"uninstall")),u}_notify(t,e,s,l){l=l||{};for(const r of t){const u=r.plugin,h=u[s],d=[e,l,r.options];if(Yt(h,d,u)===!1&&l.cancelable)return!1}return!0}invalidate(){jt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const s=t&&t.config,l=St(s.options&&s.options.plugins,{}),r=gR(s);return l===!1&&!e?[]:mR(t,r,l,e)}_notifyStateChanges(t){const e=this._oldCache||[],s=this._cache,l=(r,u)=>r.filter(h=>!u.some(d=>h.plugin.id===d.plugin.id));this._notify(l(e,s),t,"stop"),this._notify(l(s,e),t,"start")}}function gR(i){const t={},e=[],s=Object.keys(Tn.plugins.items);for(let r=0;r<s.length;r++)e.push(Tn.getPlugin(s[r]));const l=i.plugins||[];for(let r=0;r<l.length;r++){const u=l[r];e.indexOf(u)===-1&&(e.push(u),t[u.id]=!0)}return{plugins:e,localIds:t}}function pR(i,t){return!t&&i===!1?null:i===!0?{}:i}function mR(i,{plugins:t,localIds:e},s,l){const r=[],u=i.getContext();for(const h of t){const d=h.id,g=pR(s[d],l);g!==null&&r.push({plugin:h,options:_R(i.config,{plugin:h,local:e[d]},g,u)})}return r}function _R(i,{plugin:t,local:e},s,l){const r=i.pluginScopeKeys(t),u=i.getOptionScopes(s,r);return e&&t.defaults&&u.push(t.defaults),i.createResolver(u,l,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function id(i,t){const e=ee.datasets[i]||{};return((t.datasets||{})[i]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function yR(i,t){let e=i;return i==="_index_"?e=t:i==="_value_"&&(e=t==="x"?"y":"x"),e}function bR(i,t){return i===t?"_index_":"_value_"}function Fb(i){if(i==="x"||i==="y"||i==="r")return i}function vR(i){if(i==="top"||i==="bottom")return"x";if(i==="left"||i==="right")return"y"}function sd(i,...t){if(Fb(i))return i;for(const e of t){const s=e.axis||vR(e.position)||i.length>1&&Fb(i[0].toLowerCase());if(s)return s}throw new Error(`Cannot determine type of '${i}' axis. Please provide 'axis' or 'position' option.`)}function Gb(i,t,e){if(e[t+"AxisID"]===i)return{axis:t}}function SR(i,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(s=>s.xAxisID===i||s.yAxisID===i);if(e.length)return Gb(i,"x",e[0])||Gb(i,"y",e[0])}return{}}function xR(i,t){const e=ds[i.type]||{scales:{}},s=t.scales||{},l=id(i.type,t),r=Object.create(null);return Object.keys(s).forEach(u=>{const h=s[u];if(!At(h))return console.error(`Invalid scale configuration for scale: ${u}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${u}`);const d=sd(u,h,SR(u,i),ee.scales[h.type]),g=bR(d,l),m=e.scales||{};r[u]=ql(Object.create(null),[{axis:d},h,m[d],m[g]])}),i.data.datasets.forEach(u=>{const h=u.type||i.type,d=u.indexAxis||id(h,t),m=(ds[h]||{}).scales||{};Object.keys(m).forEach(_=>{const b=yR(_,d),S=u[b+"AxisID"]||b;r[S]=r[S]||Object.create(null),ql(r[S],[{axis:b},s[S],m[_]])})}),Object.keys(r).forEach(u=>{const h=r[u];ql(h,[ee.scales[h.type],ee.scale])}),r}function ES(i){const t=i.options||(i.options={});t.plugins=St(t.plugins,{}),t.scales=xR(i,t)}function TS(i){return i=i||{},i.datasets=i.datasets||[],i.labels=i.labels||[],i}function ER(i){return i=i||{},i.data=TS(i.data),ES(i),i}const Xb=new Map,CS=new Set;function Kr(i,t){let e=Xb.get(i);return e||(e=t(),Xb.set(i,e),CS.add(e)),e}const Nl=(i,t,e)=>{const s=oo(t,e);s!==void 0&&i.add(s)};class TR{constructor(t){this._config=ER(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=TS(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),ES(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Kr(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Kr(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Kr(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,s=this.type;return Kr(`${s}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const s=this._scopeCache;let l=s.get(t);return(!l||e)&&(l=new Map,s.set(t,l)),l}getOptionScopes(t,e,s){const{options:l,type:r}=this,u=this._cachedScopes(t,s),h=u.get(e);if(h)return h;const d=new Set;e.forEach(m=>{t&&(d.add(t),m.forEach(_=>Nl(d,t,_))),m.forEach(_=>Nl(d,l,_)),m.forEach(_=>Nl(d,ds[r]||{},_)),m.forEach(_=>Nl(d,ee,_)),m.forEach(_=>Nl(d,Jf,_))});const g=Array.from(d);return g.length===0&&g.push(Object.create(null)),CS.has(e)&&u.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,ds[e]||{},ee.datasets[e]||{},{type:e},ee,Jf]}resolveNamedOptions(t,e,s,l=[""]){const r={$shared:!0},{resolver:u,subPrefixes:h}=Wb(this._resolverCache,t,l);let d=u;if(AR(u,e)){r.$shared=!1,s=Ni(s)?s():s;const g=this.createResolver(t,s,h);d=_a(u,s,g)}for(const g of e)r[g]=d[g];return r}createResolver(t,e,s=[""],l){const{resolver:r}=Wb(this._resolverCache,t,s);return At(e)?_a(r,e,void 0,l):r}}function Wb(i,t,e){let s=i.get(t);s||(s=new Map,i.set(t,s));const l=e.join();let r=s.get(l);return r||(r={resolver:sg(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},s.set(l,r)),r}const CR=i=>At(i)&&Object.getOwnPropertyNames(i).some(t=>Ni(i[t]));function AR(i,t){const{isScriptable:e,isIndexable:s}=rS(i);for(const l of t){const r=e(l),u=s(l),h=(u||r)&&i[l];if(r&&(Ni(h)||CR(h))||u&&pe(h))return!0}return!1}var MR="4.4.8";const wR=["top","bottom","left","right","chartArea"];function Qb(i,t){return i==="top"||i==="bottom"||wR.indexOf(i)===-1&&t==="x"}function Kb(i,t){return function(e,s){return e[i]===s[i]?e[t]-s[t]:e[i]-s[i]}}function Zb(i){const t=i.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Yt(e&&e.onComplete,[i],t)}function DR(i){const t=i.chart,e=t.options.animation;Yt(e&&e.onProgress,[i],t)}function AS(i){return og()&&typeof i=="string"?i=document.getElementById(i):i&&i.length&&(i=i[0]),i&&i.canvas&&(i=i.canvas),i}const ic={},$b=i=>{const t=AS(i);return Object.values(ic).filter(e=>e.canvas===t).pop()};function OR(i,t,e){const s=Object.keys(i);for(const l of s){const r=+l;if(r>=t){const u=i[l];delete i[l],(e>0||r>t)&&(i[r+e]=u)}}}function RR(i,t,e,s){return!e||i.type==="mouseout"?null:s?t:i}function Zr(i,t,e){return i.options.clip?i[e]:t[e]}function NR(i,t){const{xScale:e,yScale:s}=i;return e&&s?{left:Zr(e,t,"left"),right:Zr(e,t,"right"),top:Zr(s,t,"top"),bottom:Zr(s,t,"bottom")}:t}var Ei;let Yc=(Ei=class{static register(...t){Tn.add(...t),Jb()}static unregister(...t){Tn.remove(...t),Jb()}constructor(t,e){const s=this.config=new TR(e),l=AS(t),r=$b(l);if(r)throw new Error("Canvas is already in use. Chart with ID '"+r.id+"' must be destroyed before the canvas with ID '"+r.canvas.id+"' can be reused.");const u=s.createResolver(s.chartOptionScopes(),this.getContext());this.platform=new(s.platform||QO(l)),this.platform.updateConfig(s);const h=this.platform.acquireContext(l,u.aspectRatio),d=h&&h.canvas,g=d&&d.height,m=d&&d.width;if(this.id=Iw(),this.ctx=h,this.canvas=d,this.width=m,this.height=g,this._options=u,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new dR,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=nD(_=>this.update(_),u.resizeDelay||0),this._dataChanges=[],ic[this.id]=this,!h||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Vn.listen(this,"complete",Zb),Vn.listen(this,"progress",DR),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:s,height:l,_aspectRatio:r}=this;return jt(t)?e&&r?r:l?s/l:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Tn}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Tb(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Sb(this.canvas,this.ctx),this}stop(){return Vn.stop(this),this}resize(t,e){Vn.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const s=this.options,l=this.canvas,r=s.maintainAspectRatio&&this.aspectRatio,u=this.platform.getMaximumSize(l,t,e,r),h=s.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=u.width,this.height=u.height,this._aspectRatio=this.aspectRatio,Tb(this,h,!0)&&(this.notifyPlugins("resize",{size:u}),Yt(s.onResize,[this,u],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Rt(e,(s,l)=>{s.id=l})}buildOrUpdateScales(){const t=this.options,e=t.scales,s=this.scales,l=Object.keys(s).reduce((u,h)=>(u[h]=!1,u),{});let r=[];e&&(r=r.concat(Object.keys(e).map(u=>{const h=e[u],d=sd(u,h),g=d==="r",m=d==="x";return{options:h,dposition:g?"chartArea":m?"bottom":"left",dtype:g?"radialLinear":m?"category":"linear"}}))),Rt(r,u=>{const h=u.options,d=h.id,g=sd(d,h),m=St(h.type,u.dtype);(h.position===void 0||Qb(h.position,g)!==Qb(u.dposition))&&(h.position=u.dposition),l[d]=!0;let _=null;if(d in s&&s[d].type===m)_=s[d];else{const b=Tn.getScale(m);_=new b({id:d,type:m,ctx:this.ctx,chart:this}),s[_.id]=_}_.init(h,t)}),Rt(l,(u,h)=>{u||delete s[h]}),Rt(s,u=>{ln.configure(this,u,u.options),ln.addBox(this,u)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,s=t.length;if(t.sort((l,r)=>l.index-r.index),s>e){for(let l=e;l<s;++l)this._destroyDatasetMeta(l);t.splice(e,s-e)}this._sortedMetasets=t.slice(0).sort(Kb("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((s,l)=>{e.filter(r=>r===s._dataset).length===0&&this._destroyDatasetMeta(l)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let s,l;for(this._removeUnreferencedMetasets(),s=0,l=e.length;s<l;s++){const r=e[s];let u=this.getDatasetMeta(s);const h=r.type||this.config.type;if(u.type&&u.type!==h&&(this._destroyDatasetMeta(s),u=this.getDatasetMeta(s)),u.type=h,u.indexAxis=r.indexAxis||id(h,this.options),u.order=r.order||0,u.index=s,u.label=""+r.label,u.visible=this.isDatasetVisible(s),u.controller)u.controller.updateIndex(s),u.controller.linkScales();else{const d=Tn.getController(h),{datasetElementType:g,dataElementType:m}=ee.datasets[h];Object.assign(d,{dataElementType:Tn.getElement(m),datasetElementType:g&&Tn.getElement(g)}),u.controller=new d(this,s),t.push(u.controller)}}return this._updateMetasets(),t}_resetElements(){Rt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const s=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),l=this._animationsDisabled=!s.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const r=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let u=0;for(let g=0,m=this.data.datasets.length;g<m;g++){const{controller:_}=this.getDatasetMeta(g),b=!l&&r.indexOf(_)===-1;_.buildOrUpdateElements(b),u=Math.max(+_.getMaxOverflow(),u)}u=this._minPadding=s.layout.autoPadding?u:0,this._updateLayout(u),l||Rt(r,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Kb("z","_idx"));const{_active:h,_lastEvent:d}=this;d?this._eventHandler(d,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Rt(this.scales,t=>{ln.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),s=new Set(t.events);(!hb(e,s)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:s,start:l,count:r}of e){const u=s==="_removeElements"?-r:r;OR(t,l,u)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,s=r=>new Set(t.filter(u=>u[0]===r).map((u,h)=>h+","+u.splice(1).join(","))),l=s(0);for(let r=1;r<e;r++)if(!hb(l,s(r)))return;return Array.from(l).map(r=>r.split(",")).map(r=>({method:r[1],start:+r[2],count:+r[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ln.update(this,this.width,this.height,t);const e=this.chartArea,s=e.width<=0||e.height<=0;this._layers=[],Rt(this.boxes,l=>{s&&l.position==="chartArea"||(l.configure&&l.configure(),this._layers.push(...l._layers()))},this),this._layers.forEach((l,r)=>{l._idx=r}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,s=this.data.datasets.length;e<s;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,s=this.data.datasets.length;e<s;++e)this._updateDataset(e,Ni(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const s=this.getDatasetMeta(t),l={meta:s,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",l)!==!1&&(s.controller._update(e),l.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",l))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Vn.has(this)?this.attached&&!Vn.running(this)&&Vn.start(this):(this.draw(),Zb({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:s,height:l}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(s,l)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,s=[];let l,r;for(l=0,r=e.length;l<r;++l){const u=e[l];(!t||u.visible)&&s.push(u)}return s}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,s=t._clip,l=!s.disabled,r=NR(t,this.chartArea),u={meta:t,index:t.index,cancelable:!0};this.notifyPlugins("beforeDatasetDraw",u)!==!1&&(l&&eg(e,{left:s.left===!1?0:r.left-s.left,right:s.right===!1?this.width:r.right+s.right,top:s.top===!1?0:r.top-s.top,bottom:s.bottom===!1?this.height:r.bottom+s.bottom}),t.controller.draw(),l&&ng(e),u.cancelable=!1,this.notifyPlugins("afterDatasetDraw",u))}isPointInArea(t){return uo(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,s,l){const r=wO.modes[e];return typeof r=="function"?r(this,t,s,l):[]}getDatasetMeta(t){const e=this.data.datasets[t],s=this._metasets;let l=s.filter(r=>r&&r._dataset===e).pop();return l||(l={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},s.push(l)),l}getContext(){return this.$context||(this.$context=ps(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const s=this.getDatasetMeta(t);return typeof s.hidden=="boolean"?!s.hidden:!e.hidden}setDatasetVisibility(t,e){const s=this.getDatasetMeta(t);s.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,s){const l=s?"show":"hide",r=this.getDatasetMeta(t),u=r.controller._resolveAnimations(void 0,l);Cc(e)?(r.data[e].hidden=!s,this.update()):(this.setDatasetVisibility(t,s),u.update(r,{visible:s}),this.update(h=>h.datasetIndex===t?l:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Vn.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Sb(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete ic[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,s=(r,u)=>{e.addEventListener(this,r,u),t[r]=u},l=(r,u,h)=>{r.offsetX=u,r.offsetY=h,this._eventHandler(r)};Rt(this.options.events,r=>s(r,l))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,s=(d,g)=>{e.addEventListener(this,d,g),t[d]=g},l=(d,g)=>{t[d]&&(e.removeEventListener(this,d,g),delete t[d])},r=(d,g)=>{this.canvas&&this.resize(d,g)};let u;const h=()=>{l("attach",h),this.attached=!0,this.resize(),s("resize",r),s("detach",u)};u=()=>{this.attached=!1,l("resize",r),this._stop(),this._resize(0,0),s("attach",h)},e.isAttached(this.canvas)?h():u()}unbindEvents(){Rt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Rt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,s){const l=s?"set":"remove";let r,u,h,d;for(e==="dataset"&&(r=this.getDatasetMeta(t[0].datasetIndex),r.controller["_"+l+"DatasetHoverStyle"]()),h=0,d=t.length;h<d;++h){u=t[h];const g=u&&this.getDatasetMeta(u.datasetIndex).controller;g&&g[l+"HoverStyle"](u.element,u.datasetIndex,u.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],s=t.map(({datasetIndex:r,index:u})=>{const h=this.getDatasetMeta(r);if(!h)throw new Error("No dataset found at index "+r);return{datasetIndex:r,element:h.data[u],index:u}});!Ec(s,e)&&(this._active=s,this._lastEvent=null,this._updateHoverStyles(s,e))}notifyPlugins(t,e,s){return this._plugins.notify(this,t,e,s)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,s){const l=this.options.hover,r=(d,g)=>d.filter(m=>!g.some(_=>m.datasetIndex===_.datasetIndex&&m.index===_.index)),u=r(e,t),h=s?t:r(t,e);u.length&&this.updateHoverStyle(u,l.mode,!1),h.length&&l.mode&&this.updateHoverStyle(h,l.mode,!0)}_eventHandler(t,e){const s={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},l=u=>(u.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",s,l)===!1)return;const r=this._handleEvent(t,e,s.inChartArea);return s.cancelable=!1,this.notifyPlugins("afterEvent",s,l),(r||s.changed)&&this.render(),this}_handleEvent(t,e,s){const{_active:l=[],options:r}=this,u=e,h=this._getActiveElements(t,l,s,u),d=Vw(t),g=RR(t,this._lastEvent,s,d);s&&(this._lastEvent=null,Yt(r.onHover,[t,h,this],this),d&&Yt(r.onClick,[t,h,this],this));const m=!Ec(h,l);return(m||e)&&(this._active=h,this._updateHoverStyles(h,l,e)),this._lastEvent=g,m}_getActiveElements(t,e,s,l){if(t.type==="mouseout")return[];if(!s)return e;const r=this.options.hover;return this.getElementsAtEventForMode(t,r.mode,r,l)}},it(Ei,"defaults",ee),it(Ei,"instances",ic),it(Ei,"overrides",ds),it(Ei,"registry",Tn),it(Ei,"version",MR),it(Ei,"getChart",$b),Ei);function Jb(){return Rt(Yc.instances,i=>i._plugins.invalidate())}function kR(i,t,e){const{startAngle:s,pixelMargin:l,x:r,y:u,outerRadius:h,innerRadius:d}=t;let g=l/h;i.beginPath(),i.arc(r,u,h,s-g,e+g),d>l?(g=l/d,i.arc(r,u,d,e+g,s-g,!0)):i.arc(r,u,l,e+oe,s-oe),i.closePath(),i.clip()}function zR(i){return ig(i,["outerStart","outerEnd","innerStart","innerEnd"])}function LR(i,t,e,s){const l=zR(i.options.borderRadius),r=(e-t)/2,u=Math.min(r,s*t/2),h=d=>{const g=(e-Math.min(r,d))*s/2;return Me(d,0,Math.min(r,g))};return{outerStart:h(l.outerStart),outerEnd:h(l.outerEnd),innerStart:Me(l.innerStart,0,u),innerEnd:Me(l.innerEnd,0,u)}}function ia(i,t,e,s){return{x:e+i*Math.cos(t),y:s+i*Math.sin(t)}}function Dc(i,t,e,s,l,r){const{x:u,y:h,startAngle:d,pixelMargin:g,innerRadius:m}=t,_=Math.max(t.outerRadius+s+e-g,0),b=m>0?m+s+e+g:0;let S=0;const x=l-d;if(s){const q=m>0?m-s:0,D=_>0?_-s:0,P=(q+D)/2,Z=P!==0?x*P/(P+s):x;S=(x-Z)/2}const C=Math.max(.001,x*_-e/$t)/_,A=(x-C)/2,z=d+A+S,U=l-A-S,{outerStart:V,outerEnd:Y,innerStart:L,innerEnd:W}=LR(t,b,_,U-z),X=_-V,G=_-Y,J=z+V/X,ht=U-Y/G,at=b+L,st=b+W,Tt=z+L/at,Pt=U-W/st;if(i.beginPath(),r){const q=(J+ht)/2;if(i.arc(u,h,_,J,q),i.arc(u,h,_,q,ht),Y>0){const et=ia(G,ht,u,h);i.arc(et.x,et.y,Y,ht,U+oe)}const D=ia(st,U,u,h);if(i.lineTo(D.x,D.y),W>0){const et=ia(st,Pt,u,h);i.arc(et.x,et.y,W,U+oe,Pt+Math.PI)}const P=(U-W/b+(z+L/b))/2;if(i.arc(u,h,b,U-W/b,P,!0),i.arc(u,h,b,P,z+L/b,!0),L>0){const et=ia(at,Tt,u,h);i.arc(et.x,et.y,L,Tt+Math.PI,z-oe)}const Z=ia(X,z,u,h);if(i.lineTo(Z.x,Z.y),V>0){const et=ia(X,J,u,h);i.arc(et.x,et.y,V,z-oe,J)}}else{i.moveTo(u,h);const q=Math.cos(J)*_+u,D=Math.sin(J)*_+h;i.lineTo(q,D);const P=Math.cos(ht)*_+u,Z=Math.sin(ht)*_+h;i.lineTo(P,Z)}i.closePath()}function IR(i,t,e,s,l){const{fullCircles:r,startAngle:u,circumference:h}=t;let d=t.endAngle;if(r){Dc(i,t,e,s,d,l);for(let g=0;g<r;++g)i.fill();isNaN(h)||(d=u+(h%Zt||Zt))}return Dc(i,t,e,s,d,l),i.fill(),d}function BR(i,t,e,s,l){const{fullCircles:r,startAngle:u,circumference:h,options:d}=t,{borderWidth:g,borderJoinStyle:m,borderDash:_,borderDashOffset:b}=d,S=d.borderAlign==="inner";if(!g)return;i.setLineDash(_||[]),i.lineDashOffset=b,S?(i.lineWidth=g*2,i.lineJoin=m||"round"):(i.lineWidth=g,i.lineJoin=m||"bevel");let x=t.endAngle;if(r){Dc(i,t,e,s,x,l);for(let C=0;C<r;++C)i.stroke();isNaN(h)||(x=u+(h%Zt||Zt))}S&&kR(i,t,x),r||(Dc(i,t,e,s,x,l),i.stroke())}class Il extends Cn{constructor(e){super();it(this,"circumference");it(this,"endAngle");it(this,"fullCircles");it(this,"innerRadius");it(this,"outerRadius");it(this,"pixelMargin");it(this,"startAngle");this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,s,l){const r=this.getProps(["x","y"],l),{angle:u,distance:h}=nS(r,{x:e,y:s}),{startAngle:d,endAngle:g,innerRadius:m,outerRadius:_,circumference:b}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],l),S=(this.options.spacing+this.options.borderWidth)/2,x=St(b,g-d),C=co(u,d,g)&&d!==g,A=x>=Zt||C,z=aa(h,m+S,_+S);return A&&z}getCenterPoint(e){const{x:s,y:l,startAngle:r,endAngle:u,innerRadius:h,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:g,spacing:m}=this.options,_=(r+u)/2,b=(h+d+m+g)/2;return{x:s+Math.cos(_)*b,y:l+Math.sin(_)*b}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:s,circumference:l}=this,r=(s.offset||0)/4,u=(s.spacing||0)/2,h=s.circular;if(this.pixelMargin=s.borderAlign==="inner"?.33:0,this.fullCircles=l>Zt?Math.floor(l/Zt):0,l===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const d=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(d)*r,Math.sin(d)*r);const g=1-Math.sin(Math.min($t,l||0)),m=r*g;e.fillStyle=s.backgroundColor,e.strokeStyle=s.borderColor,IR(e,this,m,u,h),BR(e,this,m,u,h),e.restore()}}it(Il,"id","arc"),it(Il,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0}),it(Il,"defaultRoutes",{backgroundColor:"backgroundColor"}),it(Il,"descriptors",{_scriptable:!0,_indexable:e=>e!=="borderDash"});function MS(i,t,e=t){i.lineCap=St(e.borderCapStyle,t.borderCapStyle),i.setLineDash(St(e.borderDash,t.borderDash)),i.lineDashOffset=St(e.borderDashOffset,t.borderDashOffset),i.lineJoin=St(e.borderJoinStyle,t.borderJoinStyle),i.lineWidth=St(e.borderWidth,t.borderWidth),i.strokeStyle=St(e.borderColor,t.borderColor)}function HR(i,t,e){i.lineTo(e.x,e.y)}function UR(i){return i.stepped?mD:i.tension||i.cubicInterpolationMode==="monotone"?_D:HR}function wS(i,t,e={}){const s=i.length,{start:l=0,end:r=s-1}=e,{start:u,end:h}=t,d=Math.max(l,u),g=Math.min(r,h),m=l<u&&r<u||l>h&&r>h;return{count:s,start:d,loop:t.loop,ilen:g<d&&!m?s+g-d:g-d}}function jR(i,t,e,s){const{points:l,options:r}=t,{count:u,start:h,loop:d,ilen:g}=wS(l,e,s),m=UR(r);let{move:_=!0,reverse:b}=s||{},S,x,C;for(S=0;S<=g;++S)x=l[(h+(b?g-S:S))%u],!x.skip&&(_?(i.moveTo(x.x,x.y),_=!1):m(i,C,x,b,r.stepped),C=x);return d&&(x=l[(h+(b?g:0))%u],m(i,C,x,b,r.stepped)),!!d}function PR(i,t,e,s){const l=t.points,{count:r,start:u,ilen:h}=wS(l,e,s),{move:d=!0,reverse:g}=s||{};let m=0,_=0,b,S,x,C,A,z;const U=Y=>(u+(g?h-Y:Y))%r,V=()=>{C!==A&&(i.lineTo(m,A),i.lineTo(m,C),i.lineTo(m,z))};for(d&&(S=l[U(0)],i.moveTo(S.x,S.y)),b=0;b<=h;++b){if(S=l[U(b)],S.skip)continue;const Y=S.x,L=S.y,W=Y|0;W===x?(L<C?C=L:L>A&&(A=L),m=(_*m+Y)/++_):(V(),i.lineTo(Y,L),x=W,_=0,C=A=L),z=L}V()}function ad(i){const t=i.options,e=t.borderDash&&t.borderDash.length;return!i._decimated&&!i._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?PR:jR}function VR(i){return i.stepped?KD:i.tension||i.cubicInterpolationMode==="monotone"?ZD:ss}function YR(i,t,e,s){let l=t._path;l||(l=t._path=new Path2D,t.path(l,e,s)&&l.closePath()),MS(i,t.options),i.stroke(l)}function qR(i,t,e,s){const{segments:l,options:r}=t,u=ad(t);for(const h of l)MS(i,r,h.style),i.beginPath(),u(i,t,h,{start:e,end:e+s-1})&&i.closePath(),i.stroke()}const FR=typeof Path2D=="function";function GR(i,t,e,s){FR&&!t.options.segment?YR(i,t,e,s):qR(i,t,e,s)}class Bl extends Cn{constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const s=this.options;if((s.tension||s.cubicInterpolationMode==="monotone")&&!s.stepped&&!this._pointsUpdated){const l=s.spanGaps?this._loop:this._fullLoop;VD(this._points,s,t,l,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=aO(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,s=t.length;return s&&e[t[s-1].end]}interpolate(t,e){const s=this.options,l=t[e],r=this.points,u=nO(this,{property:e,start:l,end:l});if(!u.length)return;const h=[],d=VR(s);let g,m;for(g=0,m=u.length;g<m;++g){const{start:_,end:b}=u[g],S=r[_],x=r[b];if(S===x){h.push(S);continue}const C=Math.abs((l-S[e])/(x[e]-S[e])),A=d(S,x,C,s.stepped);A[e]=t[e],h.push(A)}return h.length===1?h[0]:h}pathSegment(t,e,s){return ad(this)(t,this,e,s)}path(t,e,s){const l=this.segments,r=ad(this);let u=this._loop;e=e||0,s=s||this.points.length-e;for(const h of l)u&=r(t,this,h,{start:e,end:e+s-1});return!!u}draw(t,e,s,l){const r=this.options||{};(this.points||[]).length&&r.borderWidth&&(t.save(),GR(t,this,s,l),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}it(Bl,"id","line"),it(Bl,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),it(Bl,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),it(Bl,"descriptors",{_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"});function t0(i,t,e,s){const l=i.options,{[e]:r}=i.getProps([e],s);return Math.abs(t-r)<l.radius+l.hitRadius}class sc extends Cn{constructor(e){super();it(this,"parsed");it(this,"skip");it(this,"stop");this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,s,l){const r=this.options,{x:u,y:h}=this.getProps(["x","y"],l);return Math.pow(e-u,2)+Math.pow(s-h,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,s){return t0(this,e,"x",s)}inYRange(e,s){return t0(this,e,"y",s)}getCenterPoint(e){const{x:s,y:l}=this.getProps(["x","y"],e);return{x:s,y:l}}size(e){e=e||this.options||{};let s=e.radius||0;s=Math.max(s,s&&e.hoverRadius||0);const l=s&&e.borderWidth||0;return(s+l)*2}draw(e,s){const l=this.options;this.skip||l.radius<.1||!uo(this,s,this.size(l)/2)||(e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.fillStyle=l.backgroundColor,td(e,l,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}it(sc,"id","point"),it(sc,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),it(sc,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});const e0=(i,t)=>{let{boxHeight:e=t,boxWidth:s=t}=i;return i.usePointStyle&&(e=Math.min(e,t),s=i.pointStyleWidth||Math.min(s,t)),{boxWidth:s,boxHeight:e,itemHeight:Math.max(t,e)}},XR=(i,t)=>i!==null&&t!==null&&i.datasetIndex===t.datasetIndex&&i.index===t.index;class n0 extends Cn{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,s){this.maxWidth=t,this.maxHeight=e,this._margins=s,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Yt(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(s=>t.filter(s,this.chart.data))),t.sort&&(e=e.sort((s,l)=>t.sort(s,l,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const s=t.labels,l=Ce(s.font),r=l.size,u=this._computeTitleHeight(),{boxWidth:h,itemHeight:d}=e0(s,r);let g,m;e.font=l.string,this.isHorizontal()?(g=this.maxWidth,m=this._fitRows(u,r,h,d)+10):(m=this.maxHeight,g=this._fitCols(u,l,h,d)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(m,t.maxHeight||this.maxHeight)}_fitRows(t,e,s,l){const{ctx:r,maxWidth:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.lineWidths=[0],m=l+h;let _=t;r.textAlign="left",r.textBaseline="middle";let b=-1,S=-m;return this.legendItems.forEach((x,C)=>{const A=s+e/2+r.measureText(x.text).width;(C===0||g[g.length-1]+A+2*h>u)&&(_+=m,g[g.length-(C>0?0:1)]=0,S+=m,b++),d[C]={left:0,top:S,row:b,width:A,height:l},g[g.length-1]+=A+h}),_}_fitCols(t,e,s,l){const{ctx:r,maxHeight:u,options:{labels:{padding:h}}}=this,d=this.legendHitBoxes=[],g=this.columnSizes=[],m=u-t;let _=h,b=0,S=0,x=0,C=0;return this.legendItems.forEach((A,z)=>{const{itemWidth:U,itemHeight:V}=WR(s,e,r,A,l);z>0&&S+V+2*h>m&&(_+=b+h,g.push({width:b,height:S}),x+=b+h,C++,b=S=0),d[z]={left:x,top:S,col:C,width:U,height:V},b=Math.max(b,U),S+=V+h}),_+=b,g.push({width:b,height:S}),_}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:s,labels:{padding:l},rtl:r}}=this,u=ua(r,this.left,this.width);if(this.isHorizontal()){let h=0,d=Ee(s,this.left+l,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,d=Ee(s,this.left+l,this.right-this.lineWidths[h])),g.top+=this.top+t+l,g.left=u.leftForLtr(u.x(d),g.width),d+=g.width+l}else{let h=0,d=Ee(s,this.top+t+l,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,d=Ee(s,this.top+t+l,this.bottom-this.columnSizes[h].height)),g.top=d,g.left+=this.left+l,g.left=u.leftForLtr(u.x(g.left),g.width),d+=g.height+l}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;eg(t,this),this._draw(),ng(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:s,ctx:l}=this,{align:r,labels:u}=t,h=ee.color,d=ua(t.rtl,this.left,this.width),g=Ce(u.font),{padding:m}=u,_=g.size,b=_/2;let S;this.drawTitle(),l.textAlign=d.textAlign("left"),l.textBaseline="middle",l.lineWidth=.5,l.font=g.string;const{boxWidth:x,boxHeight:C,itemHeight:A}=e0(u,_),z=function(W,X,G){if(isNaN(x)||x<=0||isNaN(C)||C<0)return;l.save();const J=St(G.lineWidth,1);if(l.fillStyle=St(G.fillStyle,h),l.lineCap=St(G.lineCap,"butt"),l.lineDashOffset=St(G.lineDashOffset,0),l.lineJoin=St(G.lineJoin,"miter"),l.lineWidth=J,l.strokeStyle=St(G.strokeStyle,h),l.setLineDash(St(G.lineDash,[])),u.usePointStyle){const ht={radius:C*Math.SQRT2/2,pointStyle:G.pointStyle,rotation:G.rotation,borderWidth:J},at=d.xPlus(W,x/2),st=X+b;oS(l,ht,at,st,u.pointStyleWidth&&x)}else{const ht=X+Math.max((_-C)/2,0),at=d.leftForLtr(W,x),st=Wl(G.borderRadius);l.beginPath(),Object.values(st).some(Tt=>Tt!==0)?ed(l,{x:at,y:ht,w:x,h:C,radius:st}):l.rect(at,ht,x,C),l.fill(),J!==0&&l.stroke()}l.restore()},U=function(W,X,G){ho(l,G.text,W,X+A/2,g,{strikethrough:G.hidden,textAlign:d.textAlign(G.textAlign)})},V=this.isHorizontal(),Y=this._computeTitleHeight();V?S={x:Ee(r,this.left+m,this.right-s[0]),y:this.top+m+Y,line:0}:S={x:this.left+m,y:Ee(r,this.top+Y+m,this.bottom-e[0].height),line:0},dS(this.ctx,t.textDirection);const L=A+m;this.legendItems.forEach((W,X)=>{l.strokeStyle=W.fontColor,l.fillStyle=W.fontColor;const G=l.measureText(W.text).width,J=d.textAlign(W.textAlign||(W.textAlign=u.textAlign)),ht=x+b+G;let at=S.x,st=S.y;d.setWidth(this.width),V?X>0&&at+ht+m>this.right&&(st=S.y+=L,S.line++,at=S.x=Ee(r,this.left+m,this.right-s[S.line])):X>0&&st+L>this.bottom&&(at=S.x=at+e[S.line].width+m,S.line++,st=S.y=Ee(r,this.top+Y+m,this.bottom-e[S.line].height));const Tt=d.x(at);if(z(Tt,st,W),at=iD(J,at+x+b,V?at+ht:this.right,t.rtl),U(d.x(at),st,W),V)S.x+=ht+m;else if(typeof W.text!="string"){const Pt=g.lineHeight;S.y+=DS(W,Pt)+m}else S.y+=L}),gS(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,s=Ce(e.font),l=rn(e.padding);if(!e.display)return;const r=ua(t.rtl,this.left,this.width),u=this.ctx,h=e.position,d=s.size/2,g=l.top+d;let m,_=this.left,b=this.width;if(this.isHorizontal())b=Math.max(...this.lineWidths),m=this.top+g,_=Ee(t.align,_,this.right-b);else{const x=this.columnSizes.reduce((C,A)=>Math.max(C,A.height),0);m=g+Ee(t.align,this.top,this.bottom-x-t.labels.padding-this._computeTitleHeight())}const S=Ee(h,_,_+b);u.textAlign=r.textAlign($d(h)),u.textBaseline="middle",u.strokeStyle=e.color,u.fillStyle=e.color,u.font=s.string,ho(u,e.text,S,m,s)}_computeTitleHeight(){const t=this.options.title,e=Ce(t.font),s=rn(t.padding);return t.display?e.lineHeight+s.height:0}_getLegendItemAt(t,e){let s,l,r;if(aa(t,this.left,this.right)&&aa(e,this.top,this.bottom)){for(r=this.legendHitBoxes,s=0;s<r.length;++s)if(l=r[s],aa(t,l.left,l.left+l.width)&&aa(e,l.top,l.top+l.height))return this.legendItems[s]}return null}handleEvent(t){const e=this.options;if(!ZR(t.type,e))return;const s=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const l=this._hoveredItem,r=XR(l,s);l&&!r&&Yt(e.onLeave,[t,l,this],this),this._hoveredItem=s,s&&!r&&Yt(e.onHover,[t,s,this],this)}else s&&Yt(e.onClick,[t,s,this],this)}}function WR(i,t,e,s,l){const r=QR(s,i,t,e),u=KR(l,s,t.lineHeight);return{itemWidth:r,itemHeight:u}}function QR(i,t,e,s){let l=i.text;return l&&typeof l!="string"&&(l=l.reduce((r,u)=>r.length>u.length?r:u)),t+e.size/2+s.measureText(l).width}function KR(i,t,e){let s=i;return typeof t.text!="string"&&(s=DS(t,e)),s}function DS(i,t){const e=i.text?i.text.length:0;return t*e}function ZR(i,t){return!!((i==="mousemove"||i==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(i==="click"||i==="mouseup"))}var $R={id:"legend",_element:n0,start(i,t,e){const s=i.legend=new n0({ctx:i.ctx,options:e,chart:i});ln.configure(i,s,e),ln.addBox(i,s)},stop(i){ln.removeBox(i,i.legend),delete i.legend},beforeUpdate(i,t,e){const s=i.legend;ln.configure(i,s,e),s.options=e},afterUpdate(i){const t=i.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(i,t){t.replay||i.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(i,t,e){const s=t.datasetIndex,l=e.chart;l.isDatasetVisible(s)?(l.hide(s),t.hidden=!0):(l.show(s),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:i=>i.chart.options.color,boxWidth:40,padding:10,generateLabels(i){const t=i.data.datasets,{labels:{usePointStyle:e,pointStyle:s,textAlign:l,color:r,useBorderRadius:u,borderRadius:h}}=i.legend.options;return i._getSortedDatasetMetas().map(d=>{const g=d.controller.getStyle(e?0:void 0),m=rn(g.borderWidth);return{text:t[d.index].label,fillStyle:g.backgroundColor,fontColor:r,hidden:!d.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:g.borderColor,pointStyle:s||g.pointStyle,rotation:g.rotation,textAlign:l||g.textAlign,borderRadius:u&&(h||g.borderRadius),datasetIndex:d.index}},this)}},title:{color:i=>i.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:i=>!i.startsWith("on"),labels:{_scriptable:i=>!["generateLabels","filter","sort"].includes(i)}}};class OS extends Cn{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const s=this.options;if(this.left=0,this.top=0,!s.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const l=pe(s.text)?s.text.length:1;this._padding=rn(s.padding);const r=l*Ce(s.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=r:this.width=r}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:s,bottom:l,right:r,options:u}=this,h=u.align;let d=0,g,m,_;return this.isHorizontal()?(m=Ee(h,s,r),_=e+t,g=r-s):(u.position==="left"?(m=s+t,_=Ee(h,l,e),d=$t*-.5):(m=r-t,_=Ee(h,e,l),d=$t*.5),g=l-e),{titleX:m,titleY:_,maxWidth:g,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const s=Ce(e.font),r=s.lineHeight/2+this._padding.top,{titleX:u,titleY:h,maxWidth:d,rotation:g}=this._drawArgs(r);ho(t,e.text,0,0,s,{color:e.color,maxWidth:d,rotation:g,textAlign:$d(e.align),textBaseline:"middle",translation:[u,h]})}}function JR(i,t){const e=new OS({ctx:i.ctx,options:t,chart:i});ln.configure(i,e,t),ln.addBox(i,e),i.titleBlock=e}var t2={id:"title",_element:OS,start(i,t,e){JR(i,e)},stop(i){const t=i.titleBlock;ln.removeBox(i,t),delete i.titleBlock},beforeUpdate(i,t,e){const s=i.titleBlock;ln.configure(i,s,e),s.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hl={average(i){if(!i.length)return!1;let t,e,s=new Set,l=0,r=0;for(t=0,e=i.length;t<e;++t){const h=i[t].element;if(h&&h.hasValue()){const d=h.tooltipPosition();s.add(d.x),l+=d.y,++r}}return r===0||s.size===0?!1:{x:[...s].reduce((h,d)=>h+d)/s.size,y:l/r}},nearest(i,t){if(!i.length)return!1;let e=t.x,s=t.y,l=Number.POSITIVE_INFINITY,r,u,h;for(r=0,u=i.length;r<u;++r){const d=i[r].element;if(d&&d.hasValue()){const g=d.getCenterPoint(),m=$f(t,g);m<l&&(l=m,h=d)}}if(h){const d=h.tooltipPosition();e=d.x,s=d.y}return{x:e,y:s}}};function En(i,t){return t&&(pe(t)?Array.prototype.push.apply(i,t):i.push(t)),i}function Yn(i){return(typeof i=="string"||i instanceof String)&&i.indexOf(`
`)>-1?i.split(`
`):i}function e2(i,t){const{element:e,datasetIndex:s,index:l}=t,r=i.getDatasetMeta(s).controller,{label:u,value:h}=r.getLabelAndValue(l);return{chart:i,label:u,parsed:r.getParsed(l),raw:i.data.datasets[s].data[l],formattedValue:h,dataset:r.getDataset(),dataIndex:l,datasetIndex:s,element:e}}function i0(i,t){const e=i.chart.ctx,{body:s,footer:l,title:r}=i,{boxWidth:u,boxHeight:h}=t,d=Ce(t.bodyFont),g=Ce(t.titleFont),m=Ce(t.footerFont),_=r.length,b=l.length,S=s.length,x=rn(t.padding);let C=x.height,A=0,z=s.reduce((Y,L)=>Y+L.before.length+L.lines.length+L.after.length,0);if(z+=i.beforeBody.length+i.afterBody.length,_&&(C+=_*g.lineHeight+(_-1)*t.titleSpacing+t.titleMarginBottom),z){const Y=t.displayColors?Math.max(h,d.lineHeight):d.lineHeight;C+=S*Y+(z-S)*d.lineHeight+(z-1)*t.bodySpacing}b&&(C+=t.footerMarginTop+b*m.lineHeight+(b-1)*t.footerSpacing);let U=0;const V=function(Y){A=Math.max(A,e.measureText(Y).width+U)};return e.save(),e.font=g.string,Rt(i.title,V),e.font=d.string,Rt(i.beforeBody.concat(i.afterBody),V),U=t.displayColors?u+2+t.boxPadding:0,Rt(s,Y=>{Rt(Y.before,V),Rt(Y.lines,V),Rt(Y.after,V)}),U=0,e.font=m.string,Rt(i.footer,V),e.restore(),A+=x.width,{width:A,height:C}}function n2(i,t){const{y:e,height:s}=t;return e<s/2?"top":e>i.height-s/2?"bottom":"center"}function i2(i,t,e,s){const{x:l,width:r}=s,u=e.caretSize+e.caretPadding;if(i==="left"&&l+r+u>t.width||i==="right"&&l-r-u<0)return!0}function s2(i,t,e,s){const{x:l,width:r}=e,{width:u,chartArea:{left:h,right:d}}=i;let g="center";return s==="center"?g=l<=(h+d)/2?"left":"right":l<=r/2?g="left":l>=u-r/2&&(g="right"),i2(g,i,t,e)&&(g="center"),g}function s0(i,t,e){const s=e.yAlign||t.yAlign||n2(i,e);return{xAlign:e.xAlign||t.xAlign||s2(i,t,e,s),yAlign:s}}function a2(i,t){let{x:e,width:s}=i;return t==="right"?e-=s:t==="center"&&(e-=s/2),e}function l2(i,t,e){let{y:s,height:l}=i;return t==="top"?s+=e:t==="bottom"?s-=l+e:s-=l/2,s}function a0(i,t,e,s){const{caretSize:l,caretPadding:r,cornerRadius:u}=i,{xAlign:h,yAlign:d}=e,g=l+r,{topLeft:m,topRight:_,bottomLeft:b,bottomRight:S}=Wl(u);let x=a2(t,h);const C=l2(t,d,g);return d==="center"?h==="left"?x+=g:h==="right"&&(x-=g):h==="left"?x-=Math.max(m,b)+l:h==="right"&&(x+=Math.max(_,S)+l),{x:Me(x,0,s.width-t.width),y:Me(C,0,s.height-t.height)}}function $r(i,t,e){const s=rn(e.padding);return t==="center"?i.x+i.width/2:t==="right"?i.x+i.width-s.right:i.x+s.left}function l0(i){return En([],Yn(i))}function o2(i,t,e){return ps(i,{tooltip:t,tooltipItems:e,type:"tooltip"})}function o0(i,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?i.override(e):i}const RS={beforeTitle:Pn,title(i){if(i.length>0){const t=i[0],e=t.chart.data.labels,s=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(s>0&&t.dataIndex<s)return e[t.dataIndex]}return""},afterTitle:Pn,beforeBody:Pn,beforeLabel:Pn,label(i){if(this&&this.options&&this.options.mode==="dataset")return i.label+": "+i.formattedValue||i.formattedValue;let t=i.dataset.label||"";t&&(t+=": ");const e=i.formattedValue;return jt(e)||(t+=e),t},labelColor(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(i){const e=i.chart.getDatasetMeta(i.datasetIndex).controller.getStyle(i.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Pn,afterBody:Pn,beforeFooter:Pn,footer:Pn,afterFooter:Pn};function ke(i,t,e,s){const l=i[t].call(e,s);return typeof l>"u"?RS[t].call(e,s):l}class ld extends Cn{constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,s=this.options.setContext(this.getContext()),l=s.enabled&&e.options.animation&&s.animations,r=new mS(this.chart,l);return l._cacheable&&(this._cachedAnimations=Object.freeze(r)),r}getContext(){return this.$context||(this.$context=o2(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:s}=e,l=ke(s,"beforeTitle",this,t),r=ke(s,"title",this,t),u=ke(s,"afterTitle",this,t);let h=[];return h=En(h,Yn(l)),h=En(h,Yn(r)),h=En(h,Yn(u)),h}getBeforeBody(t,e){return l0(ke(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:s}=e,l=[];return Rt(t,r=>{const u={before:[],lines:[],after:[]},h=o0(s,r);En(u.before,Yn(ke(h,"beforeLabel",this,r))),En(u.lines,ke(h,"label",this,r)),En(u.after,Yn(ke(h,"afterLabel",this,r))),l.push(u)}),l}getAfterBody(t,e){return l0(ke(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:s}=e,l=ke(s,"beforeFooter",this,t),r=ke(s,"footer",this,t),u=ke(s,"afterFooter",this,t);let h=[];return h=En(h,Yn(l)),h=En(h,Yn(r)),h=En(h,Yn(u)),h}_createItems(t){const e=this._active,s=this.chart.data,l=[],r=[],u=[];let h=[],d,g;for(d=0,g=e.length;d<g;++d)h.push(e2(this.chart,e[d]));return t.filter&&(h=h.filter((m,_,b)=>t.filter(m,_,b,s))),t.itemSort&&(h=h.sort((m,_)=>t.itemSort(m,_,s))),Rt(h,m=>{const _=o0(t.callbacks,m);l.push(ke(_,"labelColor",this,m)),r.push(ke(_,"labelPointStyle",this,m)),u.push(ke(_,"labelTextColor",this,m))}),this.labelColors=l,this.labelPointStyles=r,this.labelTextColors=u,this.dataPoints=h,h}update(t,e){const s=this.options.setContext(this.getContext()),l=this._active;let r,u=[];if(!l.length)this.opacity!==0&&(r={opacity:0});else{const h=Hl[s.position].call(this,l,this._eventPosition);u=this._createItems(s),this.title=this.getTitle(u,s),this.beforeBody=this.getBeforeBody(u,s),this.body=this.getBody(u,s),this.afterBody=this.getAfterBody(u,s),this.footer=this.getFooter(u,s);const d=this._size=i0(this,s),g=Object.assign({},h,d),m=s0(this.chart,s,g),_=a0(s,g,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,r={opacity:1,x:_.x,y:_.y,width:d.width,height:d.height,caretX:h.x,caretY:h.y}}this._tooltipItems=u,this.$context=void 0,r&&this._resolveAnimations().update(this,r),t&&s.external&&s.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,s,l){const r=this.getCaretPosition(t,s,l);e.lineTo(r.x1,r.y1),e.lineTo(r.x2,r.y2),e.lineTo(r.x3,r.y3)}getCaretPosition(t,e,s){const{xAlign:l,yAlign:r}=this,{caretSize:u,cornerRadius:h}=s,{topLeft:d,topRight:g,bottomLeft:m,bottomRight:_}=Wl(h),{x:b,y:S}=t,{width:x,height:C}=e;let A,z,U,V,Y,L;return r==="center"?(Y=S+C/2,l==="left"?(A=b,z=A-u,V=Y+u,L=Y-u):(A=b+x,z=A+u,V=Y-u,L=Y+u),U=A):(l==="left"?z=b+Math.max(d,m)+u:l==="right"?z=b+x-Math.max(g,_)-u:z=this.caretX,r==="top"?(V=S,Y=V-u,A=z-u,U=z+u):(V=S+C,Y=V+u,A=z+u,U=z-u),L=V),{x1:A,x2:z,x3:U,y1:V,y2:Y,y3:L}}drawTitle(t,e,s){const l=this.title,r=l.length;let u,h,d;if(r){const g=ua(s.rtl,this.x,this.width);for(t.x=$r(this,s.titleAlign,s),e.textAlign=g.textAlign(s.titleAlign),e.textBaseline="middle",u=Ce(s.titleFont),h=s.titleSpacing,e.fillStyle=s.titleColor,e.font=u.string,d=0;d<r;++d)e.fillText(l[d],g.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+h,d+1===r&&(t.y+=s.titleMarginBottom-h)}}_drawColorBox(t,e,s,l,r){const u=this.labelColors[s],h=this.labelPointStyles[s],{boxHeight:d,boxWidth:g}=r,m=Ce(r.bodyFont),_=$r(this,"left",r),b=l.x(_),S=d<m.lineHeight?(m.lineHeight-d)/2:0,x=e.y+S;if(r.usePointStyle){const C={radius:Math.min(g,d)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},A=l.leftForLtr(b,g)+g/2,z=x+d/2;t.strokeStyle=r.multiKeyBackground,t.fillStyle=r.multiKeyBackground,td(t,C,A,z),t.strokeStyle=u.borderColor,t.fillStyle=u.backgroundColor,td(t,C,A,z)}else{t.lineWidth=At(u.borderWidth)?Math.max(...Object.values(u.borderWidth)):u.borderWidth||1,t.strokeStyle=u.borderColor,t.setLineDash(u.borderDash||[]),t.lineDashOffset=u.borderDashOffset||0;const C=l.leftForLtr(b,g),A=l.leftForLtr(l.xPlus(b,1),g-2),z=Wl(u.borderRadius);Object.values(z).some(U=>U!==0)?(t.beginPath(),t.fillStyle=r.multiKeyBackground,ed(t,{x:C,y:x,w:g,h:d,radius:z}),t.fill(),t.stroke(),t.fillStyle=u.backgroundColor,t.beginPath(),ed(t,{x:A,y:x+1,w:g-2,h:d-2,radius:z}),t.fill()):(t.fillStyle=r.multiKeyBackground,t.fillRect(C,x,g,d),t.strokeRect(C,x,g,d),t.fillStyle=u.backgroundColor,t.fillRect(A,x+1,g-2,d-2))}t.fillStyle=this.labelTextColors[s]}drawBody(t,e,s){const{body:l}=this,{bodySpacing:r,bodyAlign:u,displayColors:h,boxHeight:d,boxWidth:g,boxPadding:m}=s,_=Ce(s.bodyFont);let b=_.lineHeight,S=0;const x=ua(s.rtl,this.x,this.width),C=function(G){e.fillText(G,x.x(t.x+S),t.y+b/2),t.y+=b+r},A=x.textAlign(u);let z,U,V,Y,L,W,X;for(e.textAlign=u,e.textBaseline="middle",e.font=_.string,t.x=$r(this,A,s),e.fillStyle=s.bodyColor,Rt(this.beforeBody,C),S=h&&A!=="right"?u==="center"?g/2+m:g+2+m:0,Y=0,W=l.length;Y<W;++Y){for(z=l[Y],U=this.labelTextColors[Y],e.fillStyle=U,Rt(z.before,C),V=z.lines,h&&V.length&&(this._drawColorBox(e,t,Y,x,s),b=Math.max(_.lineHeight,d)),L=0,X=V.length;L<X;++L)C(V[L]),b=_.lineHeight;Rt(z.after,C)}S=0,b=_.lineHeight,Rt(this.afterBody,C),t.y-=r}drawFooter(t,e,s){const l=this.footer,r=l.length;let u,h;if(r){const d=ua(s.rtl,this.x,this.width);for(t.x=$r(this,s.footerAlign,s),t.y+=s.footerMarginTop,e.textAlign=d.textAlign(s.footerAlign),e.textBaseline="middle",u=Ce(s.footerFont),e.fillStyle=s.footerColor,e.font=u.string,h=0;h<r;++h)e.fillText(l[h],d.x(t.x),t.y+u.lineHeight/2),t.y+=u.lineHeight+s.footerSpacing}}drawBackground(t,e,s,l){const{xAlign:r,yAlign:u}=this,{x:h,y:d}=t,{width:g,height:m}=s,{topLeft:_,topRight:b,bottomLeft:S,bottomRight:x}=Wl(l.cornerRadius);e.fillStyle=l.backgroundColor,e.strokeStyle=l.borderColor,e.lineWidth=l.borderWidth,e.beginPath(),e.moveTo(h+_,d),u==="top"&&this.drawCaret(t,e,s,l),e.lineTo(h+g-b,d),e.quadraticCurveTo(h+g,d,h+g,d+b),u==="center"&&r==="right"&&this.drawCaret(t,e,s,l),e.lineTo(h+g,d+m-x),e.quadraticCurveTo(h+g,d+m,h+g-x,d+m),u==="bottom"&&this.drawCaret(t,e,s,l),e.lineTo(h+S,d+m),e.quadraticCurveTo(h,d+m,h,d+m-S),u==="center"&&r==="left"&&this.drawCaret(t,e,s,l),e.lineTo(h,d+_),e.quadraticCurveTo(h,d,h+_,d),e.closePath(),e.fill(),l.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,s=this.$animations,l=s&&s.x,r=s&&s.y;if(l||r){const u=Hl[t.position].call(this,this._active,this._eventPosition);if(!u)return;const h=this._size=i0(this,t),d=Object.assign({},u,this._size),g=s0(e,t,d),m=a0(t,d,g,e);(l._to!==m.x||r._to!==m.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=u.x,this.caretY=u.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let s=this.opacity;if(!s)return;this._updateAnimationTarget(e);const l={width:this.width,height:this.height},r={x:this.x,y:this.y};s=Math.abs(s)<.001?0:s;const u=rn(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=s,this.drawBackground(r,t,l,e),dS(t,e.textDirection),r.y+=u.top,this.drawTitle(r,t,e),this.drawBody(r,t,e),this.drawFooter(r,t,e),gS(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const s=this._active,l=t.map(({datasetIndex:h,index:d})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[d],index:d}}),r=!Ec(s,l),u=this._positionChanged(l,e);(r||u)&&(this._active=l,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,s=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const l=this.options,r=this._active||[],u=this._getActiveElements(t,r,e,s),h=this._positionChanged(u,t),d=e||!Ec(u,r)||h;return d&&(this._active=u,(l.enabled||l.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,s,l){const r=this.options;if(t.type==="mouseout")return[];if(!l)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const u=this.chart.getElementsAtEventForMode(t,r.mode,r,s);return r.reverse&&u.reverse(),u}_positionChanged(t,e){const{caretX:s,caretY:l,options:r}=this,u=Hl[r.position].call(this,t,e);return u!==!1&&(s!==u.x||l!==u.y)}}it(ld,"positioners",Hl);var r2={id:"tooltip",_element:ld,positioners:Hl,afterInit(i,t,e){e&&(i.tooltip=new ld({chart:i,options:e}))},beforeUpdate(i,t,e){i.tooltip&&i.tooltip.initialize(e)},reset(i,t,e){i.tooltip&&i.tooltip.initialize(e)},afterDraw(i){const t=i.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(i.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(i.ctx),i.notifyPlugins("afterTooltipDraw",e)}},afterEvent(i,t){if(i.tooltip){const e=t.replay;i.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(i,t)=>t.bodyFont.size,boxWidth:(i,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:RS},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:i=>i!=="filter"&&i!=="itemSort"&&i!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const c2=(i,t,e,s)=>(typeof t=="string"?(e=i.push(t)-1,s.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function u2(i,t,e,s){const l=i.indexOf(t);if(l===-1)return c2(i,t,e,s);const r=i.lastIndexOf(t);return l!==r?e:l}const h2=(i,t)=>i===null?null:Me(Math.round(i),0,t);function r0(i){const t=this.getLabels();return i>=0&&i<t.length?t[i]:i}class od extends Ta{constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const s=this.getLabels();for(const{index:l,label:r}of e)s[l]===r&&s.splice(l,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(jt(t))return null;const s=this.getLabels();return e=isFinite(e)&&s[e]===t?e:u2(s,t,St(e,t),this._addedLabels),h2(e,s.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:s,max:l}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(s=0),e||(l=this.getLabels().length-1)),this.min=s,this.max=l}buildTicks(){const t=this.min,e=this.max,s=this.options.offset,l=[];let r=this.getLabels();r=t===0&&e===r.length-1?r:r.slice(t,e+1),this._valueRange=Math.max(r.length-(s?0:1),1),this._startValue=this.min-(s?.5:0);for(let u=t;u<=e;u++)l.push({value:u});return l}getLabelForValue(t){return r0.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}it(od,"id","category"),it(od,"defaults",{ticks:{callback:r0}});function f2(i,t){const e=[],{bounds:l,step:r,min:u,max:h,precision:d,count:g,maxTicks:m,maxDigits:_,includeBounds:b}=i,S=r||1,x=m-1,{min:C,max:A}=t,z=!jt(u),U=!jt(h),V=!jt(g),Y=(A-C)/(_+1);let L=db((A-C)/x/S)*S,W,X,G,J;if(L<1e-14&&!z&&!U)return[{value:C},{value:A}];J=Math.ceil(A/L)-Math.floor(C/L),J>x&&(L=db(J*L/x/S)*S),jt(d)||(W=Math.pow(10,d),L=Math.ceil(L*W)/W),l==="ticks"?(X=Math.floor(C/L)*L,G=Math.ceil(A/L)*L):(X=C,G=A),z&&U&&r&&Xw((h-u)/r,L/1e3)?(J=Math.round(Math.min((h-u)/L,m)),L=(h-u)/J,X=u,G=h):V?(X=z?u:X,G=U?h:G,J=g-1,L=(G-X)/J):(J=(G-X)/L,Fl(J,Math.round(J),L/1e3)?J=Math.round(J):J=Math.ceil(J));const ht=Math.max(gb(L),gb(X));W=Math.pow(10,jt(d)?ht:d),X=Math.round(X*W)/W,G=Math.round(G*W)/W;let at=0;for(z&&(b&&X!==u?(e.push({value:u}),X<u&&at++,Fl(Math.round((X+at*L)*W)/W,u,c0(u,Y,i))&&at++):X<u&&at++);at<J;++at){const st=Math.round((X+at*L)*W)/W;if(U&&st>h)break;e.push({value:st})}return U&&b&&G!==h?e.length&&Fl(e[e.length-1].value,h,c0(h,Y,i))?e[e.length-1].value=h:e.push({value:h}):(!U||G===h)&&e.push({value:G}),e}function c0(i,t,{horizontal:e,minRotation:s}){const l=Gn(s),r=(e?Math.sin(l):Math.cos(l))||.001,u=.75*t*(""+i).length;return Math.min(t/r,u)}class d2 extends Ta{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return jt(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:s}=this.getUserBounds();let{min:l,max:r}=this;const u=d=>l=e?l:d,h=d=>r=s?r:d;if(t){const d=ma(l),g=ma(r);d<0&&g<0?h(0):d>0&&g>0&&u(0)}if(l===r){let d=r===0?1:Math.abs(r*.05);h(r+d),t||u(l-d)}this.min=l,this.max=r}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:s}=t,l;return s?(l=Math.ceil(this.max/s)-Math.floor(this.min/s)+1,l>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${s} would result generating up to ${l} ticks. Limiting to 1000.`),l=1e3)):(l=this.computeTickLimit(),e=e||11),e&&(l=Math.min(e,l)),l}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let s=this.getTickLimit();s=Math.max(2,s);const l={maxTicks:s,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},r=this._range||this,u=f2(l,r);return t.bounds==="ticks"&&Ww(u,this,"value"),t.reverse?(u.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),u}configure(){const t=this.ticks;let e=this.min,s=this.max;if(super.configure(),this.options.offset&&t.length){const l=(s-e)/Math.max(t.length-1,1)/2;e-=l,s+=l}this._startValue=e,this._endValue=s,this._valueRange=s-e}getLabelForValue(t){return tg(t,this.chart.options.locale,this.options.ticks.format)}}class rd extends d2{determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=on(t)?t:0,this.max=on(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,s=Gn(this.options.ticks.minRotation),l=(t?Math.sin(s):Math.cos(s))||.001,r=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,r.lineHeight/l))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}it(rd,"id","linear"),it(rd,"defaults",{ticks:{callback:lS.formatters.numeric}});const qc={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},ze=Object.keys(qc);function u0(i,t){return i-t}function h0(i,t){if(jt(t))return null;const e=i._adapter,{parser:s,round:l,isoWeekday:r}=i._parseOpts;let u=t;return typeof s=="function"&&(u=s(u)),on(u)||(u=typeof s=="string"?e.parse(u,s):e.parse(u)),u===null?null:(l&&(u=l==="week"&&(ro(r)||r===!0)?e.startOf(u,"isoWeek",r):e.startOf(u,l)),+u)}function f0(i,t,e,s){const l=ze.length;for(let r=ze.indexOf(i);r<l-1;++r){const u=qc[ze[r]],h=u.steps?u.steps:Number.MAX_SAFE_INTEGER;if(u.common&&Math.ceil((e-t)/(h*u.size))<=s)return ze[r]}return ze[l-1]}function g2(i,t,e,s,l){for(let r=ze.length-1;r>=ze.indexOf(e);r--){const u=ze[r];if(qc[u].common&&i._adapter.diff(l,s,u)>=t-1)return u}return ze[e?ze.indexOf(e):0]}function p2(i){for(let t=ze.indexOf(i)+1,e=ze.length;t<e;++t)if(qc[ze[t]].common)return ze[t]}function d0(i,t,e){if(!e)i[t]=!0;else if(e.length){const{lo:s,hi:l}=Zd(e,t),r=e[s]>=t?e[s]:e[l];i[r]=!0}}function m2(i,t,e,s){const l=i._adapter,r=+l.startOf(t[0].value,s),u=t[t.length-1].value;let h,d;for(h=r;h<=u;h=+l.add(h,1,s))d=e[h],d>=0&&(t[d].major=!0);return t}function g0(i,t,e){const s=[],l={},r=t.length;let u,h;for(u=0;u<r;++u)h=t[u],l[h]=u,s.push({value:h,major:!1});return r===0||!e?s:m2(i,s,l,e)}class Oc extends Ta{constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const s=t.time||(t.time={}),l=this._adapter=new EO._date(t.adapters.date);l.init(e),ql(s.displayFormats,l.formats()),this._parseOpts={parser:s.parser,round:s.round,isoWeekday:s.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:h0(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,s=t.time.unit||"day";let{min:l,max:r,minDefined:u,maxDefined:h}=this.getUserBounds();function d(g){!u&&!isNaN(g.min)&&(l=Math.min(l,g.min)),!h&&!isNaN(g.max)&&(r=Math.max(r,g.max))}(!u||!h)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),l=on(l)&&!isNaN(l)?l:+e.startOf(Date.now(),s),r=on(r)&&!isNaN(r)?r:+e.endOf(Date.now(),s)+1,this.min=Math.min(l,r-1),this.max=Math.max(l+1,r)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,s=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],s=t[t.length-1]),{min:e,max:s}}buildTicks(){const t=this.options,e=t.time,s=t.ticks,l=s.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&l.length&&(this.min=this._userMin||l[0],this.max=this._userMax||l[l.length-1]);const r=this.min,u=this.max,h=Jw(l,r,u);return this._unit=e.unit||(s.autoSkip?f0(e.minUnit,this.min,this.max,this._getLabelCapacity(r)):g2(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!s.major.enabled||this._unit==="year"?void 0:p2(this._unit),this.initOffsets(l),t.reverse&&h.reverse(),g0(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,s=0,l,r;this.options.offset&&t.length&&(l=this.getDecimalForValue(t[0]),t.length===1?e=1-l:e=(this.getDecimalForValue(t[1])-l)/2,r=this.getDecimalForValue(t[t.length-1]),t.length===1?s=r:s=(r-this.getDecimalForValue(t[t.length-2]))/2);const u=t.length<3?.5:.25;e=Me(e,0,u),s=Me(s,0,u),this._offsets={start:e,end:s,factor:1/(e+1+s)}}_generate(){const t=this._adapter,e=this.min,s=this.max,l=this.options,r=l.time,u=r.unit||f0(r.minUnit,e,s,this._getLabelCapacity(e)),h=St(l.ticks.stepSize,1),d=u==="week"?r.isoWeekday:!1,g=ro(d)||d===!0,m={};let _=e,b,S;if(g&&(_=+t.startOf(_,"isoWeek",d)),_=+t.startOf(_,g?"day":u),t.diff(s,e,u)>1e5*h)throw new Error(e+" and "+s+" are too far apart with stepSize of "+h+" "+u);const x=l.ticks.source==="data"&&this.getDataTimestamps();for(b=_,S=0;b<s;b=+t.add(b,h,u),S++)d0(m,b,x);return(b===s||l.bounds==="ticks"||S===1)&&d0(m,b,x),Object.keys(m).sort(u0).map(C=>+C)}getLabelForValue(t){const e=this._adapter,s=this.options.time;return s.tooltipFormat?e.format(t,s.tooltipFormat):e.format(t,s.displayFormats.datetime)}format(t,e){const l=this.options.time.displayFormats,r=this._unit,u=e||l[r];return this._adapter.format(t,u)}_tickFormatFunction(t,e,s,l){const r=this.options,u=r.ticks.callback;if(u)return Yt(u,[t,e,s],this);const h=r.time.displayFormats,d=this._unit,g=this._majorUnit,m=d&&h[d],_=g&&h[g],b=s[e],S=g&&_&&b&&b.major;return this._adapter.format(t,l||(S?_:m))}generateTickLabels(t){let e,s,l;for(e=0,s=t.length;e<s;++e)l=t[e],l.label=this._tickFormatFunction(l.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,s=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+s)*e.factor)}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+s*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,s=this.ctx.measureText(t).width,l=Gn(this.isHorizontal()?e.maxRotation:e.minRotation),r=Math.cos(l),u=Math.sin(l),h=this._resolveTickFontOptions(0).size;return{w:s*r+h*u,h:s*u+h*r}}_getLabelCapacity(t){const e=this.options.time,s=e.displayFormats,l=s[e.unit]||s.millisecond,r=this._tickFormatFunction(t,0,g0(this,[t],this._majorUnit),l),u=this._getLabelSize(r),h=Math.floor(this.isHorizontal()?this.width/u.w:this.height/u.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,s;if(t.length)return t;const l=this.getMatchingVisibleMetas();if(this._normalized&&l.length)return this._cache.data=l[0].controller.getAllParsedValues(this);for(e=0,s=l.length;e<s;++e)t=t.concat(l[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,s;if(t.length)return t;const l=this.getLabels();for(e=0,s=l.length;e<s;++e)t.push(h0(this,l[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return eD(t.sort(u0))}}it(Oc,"id","time"),it(Oc,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});function Jr(i,t,e){let s=0,l=i.length-1,r,u,h,d;e?(t>=i[s].pos&&t<=i[l].pos&&({lo:s,hi:l}=os(i,"pos",t)),{pos:r,time:h}=i[s],{pos:u,time:d}=i[l]):(t>=i[s].time&&t<=i[l].time&&({lo:s,hi:l}=os(i,"time",t)),{time:r,pos:h}=i[s],{time:u,pos:d}=i[l]);const g=u-r;return g?h+(d-h)*(t-r)/g:h}class p0 extends Oc{constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Jr(e,this.min),this._tableRange=Jr(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:s}=this,l=[],r=[];let u,h,d,g,m;for(u=0,h=t.length;u<h;++u)g=t[u],g>=e&&g<=s&&l.push(g);if(l.length<2)return[{time:e,pos:0},{time:s,pos:1}];for(u=0,h=l.length;u<h;++u)m=l[u+1],d=l[u-1],g=l[u],Math.round((m+d)/2)!==g&&r.push({time:g,pos:u/(h-1)});return r}_generate(){const t=this.min,e=this.max;let s=super.getDataTimestamps();return(!s.includes(t)||!s.length)&&s.splice(0,0,t),(!s.includes(e)||s.length===1)&&s.push(e),s.sort((l,r)=>l-r)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),s=this.getLabelTimestamps();return e.length&&s.length?t=this.normalize(e.concat(s)):t=e.length?e:s,t=this._cache.all=t,t}getDecimalForValue(t){return(Jr(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,s=this.getDecimalForPixel(t)/e.factor-e.end;return Jr(this._table,s*this._tableRange+this._minPos,!0)}}it(p0,"id","timeseries"),it(p0,"defaults",Oc.defaults);const NS="label";function m0(i,t){typeof i=="function"?i(t):i&&(i.current=t)}function _2(i,t){const e=i.options;e&&t&&Object.assign(e,t)}function kS(i,t){i.labels=t}function zS(i,t){let e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:NS;const s=[];i.datasets=t.map(l=>{const r=i.datasets.find(u=>u[e]===l[e]);return!r||!l.data||s.includes(r)?{...l}:(s.push(r),Object.assign(r,l),r)})}function y2(i){let t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:NS;const e={labels:[],datasets:[]};return kS(e,i.labels),zS(e,i.datasets,t),e}function b2(i,t){const{height:e=150,width:s=300,redraw:l=!1,datasetIdKey:r,type:u,data:h,options:d,plugins:g=[],fallbackContent:m,updateMode:_,...b}=i,S=Qt.useRef(null),x=Qt.useRef(null),C=()=>{S.current&&(x.current=new Yc(S.current,{type:u,data:y2(h,r),options:d&&{...d},plugins:g}),m0(t,x.current))},A=()=>{m0(t,null),x.current&&(x.current.destroy(),x.current=null)};return Qt.useEffect(()=>{!l&&x.current&&d&&_2(x.current,d)},[l,d]),Qt.useEffect(()=>{!l&&x.current&&kS(x.current.config.data,h.labels)},[l,h.labels]),Qt.useEffect(()=>{!l&&x.current&&h.datasets&&zS(x.current.config.data,h.datasets,r)},[l,h.datasets]),Qt.useEffect(()=>{x.current&&(l?(A(),setTimeout(C)):x.current.update(_))},[l,d,h.labels,h.datasets,_]),Qt.useEffect(()=>{x.current&&(A(),setTimeout(C))},[u]),Qt.useEffect(()=>(C(),()=>A()),[]),y0.createElement("canvas",{ref:S,role:"img",height:e,width:s,...b},m)}const v2=Qt.forwardRef(b2);function LS(i,t){return Yc.register(t),Qt.forwardRef((e,s)=>y0.createElement(v2,{...e,ref:s,type:i}))}const S2=LS("line",ec),_0=LS("pie",nd);Yc.register(od,rd,sc,Bl,t2,r2,$R,Il);function x2(){const[i,t]=Qt.useState(""),[e,s]=Qt.useState(""),[l,r]=Qt.useState(0),[u,h]=Qt.useState([]),[d,g]=Qt.useState(()=>{const q=new Date;return`${q.getFullYear()}-${String(q.getMonth()+1).padStart(2,"0")}`}),[m,_]=Qt.useState(""),[b,S]=Qt.useState(d),[x,C]=Qt.useState(""),[A,z]=Qt.useState(0);Qt.useEffect(()=>{const q=Hr(Ur,"transactions/"+d);return ew(q,D=>{const P=D.val()||{},Z=Object.entries(P).map(([T,H])=>({...H,key:T}));h(Z);const et=Z.reduce((T,H)=>T+(H.type==="add"?H.amount:-H.amount),0);if(r(et),d!==b&&(_(""),C(""),z(0),S(d)),m&&!isNaN(m)){const T=parseFloat(m),H=Math.min(Math.round(et/T*100),100);z(H),C(et>=T?"🎉 恭喜你達成本月儲蓄目標！":`已達成 ${H}%`)}})},[d,m,b]);const U=q=>{if(!i||isNaN(i))return;const D=parseFloat(i),P=new Date,Z={amount:D,type:q,time:P.toLocaleTimeString(),note:e,id:P.getTime()},et=Hr(Ur,"transactions/"+d);JM(et,Z),t(""),s("")},V=q=>{if(window.confirm("確定要刪除此筆紀錄嗎？")){const D=Hr(Ur,"transactions/"+d+"/"+q);ab(D)}},Y=()=>{if(window.confirm("確定要清除所有紀錄嗎？")){const q=Hr(Ur,"transactions/"+d);ab(q)}},L={};u.forEach(q=>{const D=new Date(q.id).getDate();L[D]=(L[D]||0)+(q.type==="add"?q.amount:-q.amount)});const W={labels:Array.from({length:31},(q,D)=>D+1),datasets:[{label:`${d} 每日變化`,data:Array.from({length:31},(q,D)=>L[D+1]||0),borderColor:"#4fc3f7",backgroundColor:"#0288d1",tension:.3}]},X={},G={};u.forEach(q=>{const D=q.type==="add"?X:G,P=q.note||"未分類";D[P]=(D[P]||0)+q.amount});const J={labels:Object.keys(X),datasets:[{data:Object.values(X),backgroundColor:["#81c784","#4caf50","#2e7d32","#66bb6a","#a5d6a7"]}]},ht={labels:Object.keys(G),datasets:[{data:Object.values(G),backgroundColor:["#ef5350","#e53935","#d32f2f","#f44336","#ffcdd2"]}]},at={width:"90%",maxWidth:"360px",padding:"10px",marginBottom:"10px",borderRadius:"6px",border:"none",backgroundColor:"#2c2c2c",color:"white",fontSize:"16px",textAlign:"left",display:"block",marginLeft:"auto",marginRight:"auto"},st={padding:"10px 16px",margin:"5px",border:"none",borderRadius:"6px",fontWeight:"bold",cursor:"pointer"};let Tt="",Pt="#444";if(u.length>0){let q=0,D=0;const P={};u.forEach(et=>{if(et.type==="add")q+=et.amount;else{D+=et.amount;const T=et.note||"未分類";P[T]=(P[T]||0)+et.amount}});const Z=Object.entries(P).sort((et,T)=>T[1]-et[1])[0];q>D?(Tt="本月收入高於支出，繼續保持好習慣！",Pt="#2e7d32"):D>q?(Tt="本月支出已超過收入，建議控制花費！",Pt="#b71c1c"):Tt="收支平衡，本月維持不錯～",Z&&(Tt+=` 支出最多是「${Z[0]}」。`)}return Et.jsx("div",{style:{backgroundColor:"#121212",color:"#fff",minHeight:"100vh",display:"flex",justifyContent:"center",alignItems:"center",padding:"40px"},children:Et.jsxs("div",{style:{backgroundColor:"#1e1e1e",padding:"30px",borderRadius:"10px",boxShadow:"0 0 15px rgba(0, 0, 0, 0.3)",width:"100%",maxWidth:"450px"},children:[Et.jsx("h2",{style:{textAlign:"center"},children:"智慧記帳 App"}),Et.jsxs("h3",{style:{textAlign:"center"},children:["💰 總金額：",Et.jsxs("span",{style:{color:"#00e676",fontSize:"1.2em"},children:[l," 元"]})]}),Et.jsx("input",{type:"month",value:d,onChange:q=>g(q.target.value),style:at}),Et.jsx("input",{type:"number",placeholder:"輸入金額",value:i,onChange:q=>t(q.target.value),style:at}),Et.jsx("input",{type:"text",placeholder:"輸入明細（例如 早餐）",value:e,onChange:q=>s(q.target.value),style:at}),Et.jsx("input",{type:"number",placeholder:"輸入本月儲蓄目標",value:m,onChange:q=>_(q.target.value),style:at}),x&&Et.jsxs("div",{style:{textAlign:"center",marginBottom:"10px"},children:[Et.jsx("p",{style:{color:"#ffd54f"},children:x}),Et.jsx("div",{style:{width:"80%",height:"10px",backgroundColor:"#444",borderRadius:"5px",margin:"0 auto"},children:Et.jsx("div",{style:{width:`${A}%`,height:"100%",backgroundColor:"#00e676",borderRadius:"5px",transition:"width 0.5s ease"}})})]}),Et.jsxs("div",{style:{display:"flex",justifyContent:"center",flexWrap:"wrap",marginBottom:"10px"},children:[Et.jsx("button",{onClick:()=>U("add"),style:{...st,backgroundColor:"#388e3c",color:"white"},children:"➕ 存入"}),Et.jsx("button",{onClick:()=>U("subtract"),style:{...st,backgroundColor:"#d32f2f",color:"white"},children:"➖ 支出"})]}),Et.jsx("button",{onClick:Y,style:{...st,backgroundColor:"#555",color:"white",width:"100%",marginBottom:"20px"},children:"清除所有紀錄"}),Et.jsx("ul",{style:{listStyle:"none",padding:0,maxHeight:"200px",overflowY:"auto"},children:[...u].reverse().map(q=>Et.jsxs("li",{style:{marginBottom:"10px",padding:"10px",backgroundColor:"#2e2e2e",borderLeft:`5px solid ${q.type==="add"?"#81c784":"#ef5350"}`,position:"relative"},children:[q.type==="add"?"➕":"➖"," ",q.amount," 元 (",q.time,")",Et.jsx("br",{}),Et.jsx("span",{style:{fontSize:"0.9em",color:"#ccc"},children:q.note||"未分類"}),Et.jsx("button",{onClick:()=>V(q.key),style:{position:"absolute",top:"10px",right:"10px",background:"transparent",border:"none",color:"#aaa",cursor:"pointer",fontSize:"16px"},children:"🗑️"})]},q.key))}),Tt&&Et.jsxs("div",{style:{backgroundColor:Pt,padding:"15px",borderRadius:"8px",marginBottom:"20px",color:"#fff",fontSize:"14px"},children:[Et.jsx("strong",{children:"【系統建議】"}),Et.jsx("br",{}),Tt]}),Et.jsx("h3",{style:{textAlign:"center"},children:"📈 每日變化圖"}),Et.jsx(S2,{data:W}),Et.jsx("h3",{style:{textAlign:"center"},children:"📊 分類統計圖 - 存入"}),Et.jsx(_0,{data:J}),Et.jsx("h3",{style:{textAlign:"center"},children:"📊 分類統計圖 - 支出"}),Et.jsx(_0,{data:ht})]})})}mE.createRoot(document.getElementById("root")).render(Et.jsx(Qt.StrictMode,{children:Et.jsx(x2,{})}));
